<!DOCTYPE html>
<!-- saved from url=(0065)https://segmentfault.com/a/1190000020709962?utm_source=tag-newest -->
<html lang="zh-Hans" class="fontawesome-i2svg-active fontawesome-i2svg-complete"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible">
        <meta content="webkit" name="renderer">
        <meta content="15317273575564615446375" property="qc:admins">
        <meta property="og:image" content="https://assets.segmentfault.com/v-5ec63ef9/global/img/static/touch-icon.png">
        <meta content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ" name="alexaVerifyID">
        <meta content="app-id=958101793, app-argument=" name="apple-itunes-app">
                <title>快速进阶Vue3.0 - 前端优选 - SegmentFault 思否</title>
    
            <meta name="description" content="在2019.10.5日发布了Vue3.0预览版源码，但是预计最早需要等到 2020 年第一季度才有可能发布 3.0 正式版。 可以直接看 github源码。 新版Vue 3.0计划并已实现的主要架构改进和新功能： 编译器（Compiler） 使用模块化架构 优化 &quot;Block tree&quot; 更激进的 static tree hoisting 功能 （检测静态语法，进行提升） 支持 Source ...">
    
            <meta name="keywords" content="javascript,vue.js,vue3,es6,代理">
    
        <style type="text/css">svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}</style><link href="https://segmentfault.com/opensearch.xml" rel="search" title="SegmentFault" type="application/opensearchdescription+xml">
        <link rel="shortcut icon" href="https://assets.segmentfault.com/v-5ec63ef9/global/img/favicon.ico">
        <link rel="apple-touch-icon" href="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/touch-icon.png">

        <meta content="#00965e" name="msapplication-TileColor">
        <meta name="msapplication-square150x150logo" content="https://assets.segmentfault.com/v-5ec63ef9/global/img/static/touch-icon.png">
        <meta content="bcf7fd80dca60d53d46d5b46e1b990ca" name="baidu_union_verify">

    
        <link href="https://segmentfault.com/feeds/questions" rel="alternate" title="SegmentFault 最新问题" type="application/atom+xml">
        <link href="https://segmentfault.com/feeds/blogs" rel="alternate" title="SegmentFault 最新文章" type="application/atom+xml">
    
    
    
    
    
            <link rel="stylesheet" href="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/global.css">
        <link rel="stylesheet" href="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/vendors.css">
        
            <link rel="stylesheet" href="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/detail.css">
    
    
        <script src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/osd.js"></script><script src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/f(4).txt"></script><script src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/f(5).txt" id="google_shimpl"></script><script async="" defer="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/f(6).txt"></script><script type="text/javascript" async="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/analytics.js"></script><script async="" defer="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/fl.js"></script><script async="" defer="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/spc.php"></script><script async="" defer="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/spcjs.php"></script><script>
var _oa = [], OA_google = true;

function OA_script(src, cb) {
    var s = document.createElement('script'), m = document.getElementsByTagName('script')[0];
    
    if (cb) {
        s.onload = cb;
    }
    
    s.async = 1;
    s.defer = 1;
    s.src = src;
    m.parentNode.insertBefore(s, m);
}

function OA_show(name) {
    _oa.push(name);
    document.write('<div id="OA_holder_' + name + '"></div>');
}

OA_script('https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=0&tag=javascript,vue.js,vue3,es6,代理&v=5e8d8dec');
</script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
                                    <script async="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/js"></script>
                <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-918487-8');
                    </script>
        
            <!-- 推荐引擎 -->
        <script charset="utf-8" id="ParadigmSDK" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/ParadigmSDK_v2.js" data="216" defsi="594">
        </script>
        <script>
            ParadigmSDK.init("46e957bd9dea4acdaa15b4b64aff728f");
            ParadigmSDK.trackDetailPageShow();
        </script>
                <link rel="preload" href="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/f(7).txt" as="script"><script type="text/javascript" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/f(7).txt"></script></head>
    <body><div class="custome-alert alert alert-warning topframe text-center my-0 sticky-top d-none rounded-0">
                <span class="alert-content"></span>
                <button type="button" class="close">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
            </div>

    <img style="height: 0; width: 0; display: none" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/touch-icon.png">

<div id="gridMapHoverBox" style="position:absolute; border: 1px solid #00965e; z-index: 99; font-size: 10px; background:#fff"></div>


<nav id="sf-header" class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
        <a class="navbar-brand text-hide sf-header-logo" href="https://segmentfault.com/">SegmentFault</a>

                    <a class="btn btn-primary d-lg-none ml-auto mr-2" href="https://segmentfault.com/user/login">注册登录</a>
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

                <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav font-weight-bold">
                <li class="nav-item">
                    <a href="https://segmentfault.com/" class="nav-link ">首页</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/questions" class="nav-link ">问答</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/blogs" class="nav-link active">专栏</a>
                </li>
                 <li class="nav-item">
                    <a href="https://segmentfault.com/news" class="nav-link ">资讯</a>
                </li>
                <li class="nav-item">
                    <a href="https://ke.segmentfault.com/" class="nav-link ">课程</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/events" class="nav-link ">活动</a>
                </li>
                <li class="nav-item dropdown hover-down">
                    <a href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest###" id="navbarDiscover" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link  dropdown-toggle ">发现</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDiscover">
                        <a class="dropdown-item" href="https://segmentfault.com/groups">圈子</a>
                        <a class="dropdown-item" href="https://segmentfault.com/tags">标签</a>
                        <a class="dropdown-item" href="https://segmentfault.com/groups?tab=jobs">酷工作</a>
                        <a class="dropdown-item" href="https://segmentfault.com/users">排行榜</a>
                        <a class="dropdown-item" href="https://segmentfault.com/badges">徽章</a>
                        <a class="dropdown-item" href="https://segmentfault.com/notes">笔记</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="https://docs.segmentfault.com/" target="_blank">开发手册</a>
                        <a class="dropdown-item" href="https://business.segmentfault.com/ads?utm_source=sf-header" target="_blank">广告投放<svg class="svg-inline--fa fa-external-link-square fa-w-14 ml-2 text-warning" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="external-link-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-64 47.111C384 109.929 370.071 96 352.889 96H220.667c-12.887 0-23.333 10.447-23.333 23.334v14.904c0 13.138 10.843 23.686 23.976 23.324l56.002-1.588L69.908 361.908c-7.858 7.802-7.88 20.504-.05 28.334l19.899 19.899c7.83 7.83 20.532 7.808 28.334-.05l205.935-207.404-1.588 56.003c-.362 13.133 10.186 23.976 23.324 23.976h14.904c12.887 0 23.334-10.447 23.334-23.333V127.111z"></path></svg><!-- <i class="ml-2 text-warning fas fa-external-link-square"></i> -->
                        </a>
                    </div>
                </li>
            </ul>

            <form class="form-inline my-2 my-lg-0 flex-fill d-none d-xl-block px-4" action="https://segmentfault.com/search">
                <input class="form-control w-100" id="searchBox" name="q" type="search" value="" placeholder="搜索关键字" aria-label="搜索">
            </form>

            <ul class="navbar-nav navbar-user ml-auto align-items-lg-center">
                                    <li class="nav-item d-none d-lg-flex">
                        <a href="https://segmentfault.com/user/login" class="btn btn-link mr-2 require-login">立即登录</a>
                    </li>
                    <li class="nav-item d-none d-lg-flex">
                        <a href="https://segmentfault.com/user/register" class="btn btn-primary require-login">免费注册</a>
                    </li>
                            </ul>
        </div>
    </div>
</nav>

    <input id="articleId" value="1190000020709962" class="hidden">
    <div class="d-none d-xl-flex justify-content-center">
        <script type="text/javascript">
          OA_show(2);
        </script><div id="OA_holder_2"><div class="mt-4" style="line-height: 0"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/k=2170677&amp;p=7aLeL&amp;dx=__IPDX__&amp;rt=2&amp;pro=s&amp;ns=__IP__&amp;ni=__IESID__&amp;v=__LOC__&amp;xa=__ADPLATFORM__&amp;tr=__REQUESTID__&amp;vg=__AUTOPLAY__&amp;nh=__AUTOREFRESH__&amp;o=&amp;28dc822470" style="display: none"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=276__zoneid=2__cb=28dc822470__oadest=https%3A%2F%2Fe.cn.miaozhen.com%2Fr%2Fk%3D2170677%26p%3D7aLeL%26dx%3D__IPDX__%26rt%3D2%26pro%3Ds%26ns%3D__IP__%26ni%3D__IESID__%26v%3D__LOC__%26xa%3D__ADPLATFORM__%26tr%3D__REQUESTID__%26o%3Dhttps%3A%2F%2Factivity.huaweicloud.com%2Fdiscount_area_v5%2Findex.html%3Futm_source%3Dsegmentfault%26utm_medium%3Dbanner%26utm_campaign%3D10056%26utm_content%3D%26utm_term%3D%26utm_adplace%3DAdPlace028302" target="_blank"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/ac490e7885a877173687293194504c1c.jpg" width="970" height="90" alt="" title="" border="0"></a><div id="beacon_28dc822470" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg.php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div></div>
</div>
    </div>
    <div class="position-relative">
        <div class="container my-sm-4 my-1" id="sf-article">
            <div class="row">
                                <div class="col-12 col-xl w-0">
                    
                                                            
                    <div class="card border-0 mb-4">
                        <div class="card-body p-lg-30">
                            <div class="d-flex justify-content-between align-items-center mb-3" id="sf-article_author">
                                <div class="information d-flex align-items-center">
                                    <a class="d-flex align-items-centers mr-1" href="https://segmentfault.com/u/qianduanyouxuan">
                                        <picture class="mr-2 d-sm-block d-none">
                                            <img class="d-inline-block rounded-circle " width="32" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/2570035853-5d6398e097c9e_big64" aria-hidden="true">
                                        </picture>
                                        <strong class="align-self-center">前端优选</strong>
                                    </a>
                                    <ul class="list-inline mb-0 authentication-info sflex-center font-size-14">
                                                                                <li class="list-inline-item">
                                            <svg class="svg-inline--fa fa-dice-d8 fa-w-16" style="color: #BF7158;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="dice-d8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M225.53 2.52L2.36 233.83c-4.21 4.37-2.56 11.71 3.1 13.77l234.13 85.06V8.39c-.01-7.49-8.91-11.21-14.06-5.87zm284.11 231.31L286.47 2.52C281.32-2.82 272.41.9 272.41 8.4v324.27l234.13-85.06c5.66-2.07 7.31-9.42 3.1-13.78zM33.53 310.38l192 199.1c5.15 5.34 14.06 1.62 14.06-5.88V368.29L42.13 296.61c-8.21-2.98-14.72 7.43-8.6 13.77zm436.34-13.77l-197.46 71.68V503.6c0 7.5 8.91 11.22 14.06 5.88l192-199.1c6.12-6.34-.39-16.75-8.6-13.77z"></path></svg><!-- <i class="fas fa-dice-d8" style="color:#BF7158"></i> -->
                                            <span style="color: #BF7158;font-weight:bold">632</span>
                                        </li>
                                        
                                                                            </ul>
                                </div>

                            </div><div></div>
                            <div class="functional-area-left sticky-top d-none d-xl-flex"><div class="text-center"><div class="btn-group like-group " role="group">
            <button data-type="question" class="func-btn mainLike like-btn btn btn-outline-primary 
                            " data-id="1190000020709962">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up"></i> -->
                            <span class="mainLikeNum">57</span>
                        </button></div><button class="func-btn mainBookmark btn btn-outline-secondary 
                                 " data-id="1190000020709962">
                                <svg class="svg-inline--fa fa-bookmark fa-w-12" aria-hidden="true" focusable="false" data-prefix="far" data-icon="bookmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"></path></svg><!-- <i class="far fa-bookmark"></i> -->
                                
                            </button><a class="func-btn show-column btn btn-outline-secondary
                              " href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#comment-area">
                            <svg class="svg-inline--fa fa-comment-alt-lines fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="comment-alt-lines" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288zm-96-216H144c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16zm-96 96H144c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16z"></path></svg><!-- <i class="far fa-comment-alt-lines"></i> -->
                            
                        </a><div class="dropdown dropup d-inline-block">
                        <button class="func-btn btn btn-outline-secondary
                        " id="func_share" data-toggle="dropdown">
                        <svg class="svg-inline--fa fa-share-alt fa-w-14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="share-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M352 320c-25.6 0-48.9 10-66.1 26.4l-98.3-61.5c5.9-18.8 5.9-39.1 0-57.8l98.3-61.5C303.1 182 326.4 192 352 192c53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 9.8 1.5 19.6 4.4 28.9l-98.3 61.5C144.9 170 121.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.6 0 48.9-10 66.1-26.4l98.3 61.5c-2.9 9.4-4.4 19.1-4.4 28.9 0 53 43 96 96 96s96-43 96-96-43-96-96-96zm0-272c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 304c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm256 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"></path></svg><!-- <i class="far fa-share-alt"></i> -->
                        
                        </button>
                        <div class="dropdown-menu shareContent" aria-labelledby="func_share">
                            <div class="text-center mt-2" style="cursor: auto">
                                <div class="qr"><img crossorigin="anonymous" src="data:image/png;base64,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" width="236" height="236" style="width: 118px; height: 118px;"></div>
                                扫一扫分享
                            </div>
                            <div class="dropdown-divider"></div>
                        <a class="dropdown-item share_weibo" data-share="weibo" href="http://weibo.com/segmentfault" target="_blank"><svg class="svg-inline--fa fa-weibo fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weibo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"></path></svg><!-- <i class="fab fa-weibo fa-fw"></i> --> 新浪微博</a><a class="dropdown-item share_twitter" data-share="twitter" href="https://twitter.com/segment_fault" target="_blank"><svg class="svg-inline--fa fa-twitter fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fab fa-twitter fa-fw"></i> --> Twitter</a><a class="dropdown-item share_facebook" data-share="facebook" href="javascript:;" target="_blank"><svg class="svg-inline--fa fa-facebook-square fa-w-14 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg><!-- <i class="fab fa-facebook-square fa-fw"></i> --> Facebook</a></div>
                    </div></div></div>
                            <h1 class="h2 mb-3" id="sf-article_title">
                                <a class="text-body" href="https://segmentfault.com/a/1190000020709962">快速进阶Vue3.0</a>
                            </h1>
                            <div class="d-sm-flex d-none flex-wrap align-items-center mb-4" id="sf-article_tags">
                                <div class="m-n1"><a class="m-1 badge-tag" href="https://segmentfault.com/t/javascript" data-toggle="popover" data-img="https://avatar-static.segmentfault.com/195/823/1958237468-1040000000089436_big64" data-placement="top" data-original-title="javascript" data-id="1040000000089436">
                                                                                        javascript
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/vue.js" data-toggle="popover" data-img="https://avatar-static.segmentfault.com/256/038/2560380373-565be73e6fe13_big64" data-placement="top" data-original-title="vue.js" data-id="1040000004003243">
                                                                                        vue.js
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/vue3" data-toggle="popover" data-img="" data-placement="top" data-original-title="vue3" data-id="1040000019513628">
                                                                                        vue3
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/es6" data-toggle="popover" data-img="" data-placement="top" data-original-title="es6" data-id="1040000000363835">
                                                                                        es6
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/%E4%BB%A3%E7%90%86" data-toggle="popover" data-img="" data-placement="top" data-original-title="代理" data-id="1040000000090152">
                                                                                        代理
                                        </a></div>
                                <div class="font-size-14">
                                                                    <time datetime="2019-10-16T17:28:59+08:00" itemprop="datePublished" class="text-secondary ml-2">发布于 2019-10-16 </time>
                                                                    <span class="split-dot"></span>
                                    <span class="text-secondary" title="阅读时长">&nbsp;约 31 分钟</span>
                                                                                                        </div>
                            </div>

                            <script type="text/javascript">
                                OA_show(25);
                            </script><div id="OA_holder_25"><div id="beacon_9d8caea291" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(1).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div>

                            <article class="article fmt article-content" data-id="1190000020709962" data-license="cc">
                                
<p>在2019.10.5日发布了<code>Vue3.0</code>预览版源码，但是预计最早需要等到 2020 年第一季度才有可能发布 3.0 正式版。</p>
<p>可以直接看 <a href="https://github.com/vuejs/vue-next" rel="nofollow noreferrer" target="_blank">github</a>源码。</p>
<p>新版<code>Vue 3.0</code>计划并已实现的主要架构改进和新功能：</p>
<ul>
<li>
<p>编译器（Compiler）</p>
<ul>
<li>使用模块化架构</li>
<li>优化 "Block tree"</li>
<li>更激进的 static tree hoisting 功能 （检测静态语法，进行提升）</li>
<li>支持 Source map</li>
<li>内置标识符前缀（又名"stripWith"）</li>
<li>内置整齐打印（pretty-printing）功能</li>
<li>移除 Source map 和标识符前缀功能后，使用 Brotli 压缩的浏览器版本精简了大约<strong>10KB</strong>
</li>
</ul>
</li>
<li>
<p>运行时（Runtime）</p>
<ul>
<li>速度显著提升</li>
<li>同时支持 Composition API 和 Options API，以及 typings</li>
<li>基于 Proxy 实现的数据变更检测</li>
<li>支持 Fragments (允许组件有从多个根结点)</li>
<li>支持 Portals (允许在DOM的其它位置进行渲染)</li>
<li>支持 Suspense w/ async setup()</li>
</ul>
</li>
</ul>
<blockquote>目前不支持<code>IE11</code>
</blockquote>
<h2 id="item-1">1.剖析Vue Composition API</h2>
<p>可以去看<a href="https://vue-composition-api-rfc.netlify.com/" rel="nofollow noreferrer" target="_blank">官方地址</a></p>
<ul>
<li>Vue 3 使用<code>ts</code>实现了类型推断，新版api全部采用普通函数，在编写代码时可以享受完整的类型推断（避免使用装饰器）</li>
<li>解决了多组件间逻辑重用问题 （解决：高阶组件、mixin、作用域插槽）</li>
<li>Composition API 使用简单</li>
</ul>
<p>先尝鲜<strong>Vue3.0</strong>看看效果</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="&lt;script src=&quot;vue.global.js&quot;&gt;&lt;/script&gt;
&lt;div id=&quot;container&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    function usePosition(){ // 实时获取鼠标位置
        let state = Vue.reactive({x:0,y:0});
        function update(e) {
            state.x= e.pageX
            state.y = e.pageY
        }
        Vue.onMounted(() =&gt; {
            window.addEventListener(&#39;mousemove&#39;, update)
        })
        Vue.onUnmounted(() =&gt; {
            window.removeEventListener(&#39;mousemove&#39;, update)
        })
        return Vue.toRefs(state);
    }
    const App = {
        setup(){ // Composition API 使用的入口
            const state  = Vue.reactive({name:&#39;youxuan&#39;}); // 定义响应数据
            const {x,y} = usePosition(); // 使用公共逻辑
            Vue.onMounted(()=&gt;{
                console.log(&#39;当组挂载完成&#39;)
            });
            Vue.onUpdated(()=&gt;{
                console.log(&#39;数据发生更新&#39;)
            });
            Vue.onUnmounted(()=&gt;{
                console.log(&#39;组件将要卸载&#39;)
            })
            function changeName(){
                state.name = &#39;webyouxuan&#39;;
            }
            return { // 返回上下文,可以在模板中使用
                state,
                changeName,
                x,
                y
            }
        },
        template:`&lt;button @click=&quot;changeName&quot;&gt;{{state.name}} 鼠标x: {{x}} 鼠标: {{y}}&lt;/button&gt;`
    }
    Vue.createApp().mount(App,container);
&lt;/script&gt;" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"vue.global.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">usePosition</span>(<span class="hljs-params"></span>)</span>{ <span class="hljs-comment">// 实时获取鼠标位置</span>
        <span class="hljs-keyword">let</span> state = Vue.reactive({<span class="hljs-attr">x</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">0</span>});
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span>(<span class="hljs-params">e</span>) </span>{
            state.x= e.pageX
            state.y = e.pageY
        }
        Vue.onMounted(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'mousemove'</span>, update)
        })
        Vue.onUnmounted(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            <span class="hljs-built_in">window</span>.removeEventListener(<span class="hljs-string">'mousemove'</span>, update)
        })
        <span class="hljs-keyword">return</span> Vue.toRefs(state);
    }
    <span class="hljs-keyword">const</span> App = {
        setup(){ <span class="hljs-comment">// Composition API 使用的入口</span>
            <span class="hljs-keyword">const</span> state  = Vue.reactive({<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>}); <span class="hljs-comment">// 定义响应数据</span>
            <span class="hljs-keyword">const</span> {x,y} = usePosition(); <span class="hljs-comment">// 使用公共逻辑</span>
            Vue.onMounted(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'当组挂载完成'</span>)
            });
            Vue.onUpdated(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'数据发生更新'</span>)
            });
            Vue.onUnmounted(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'组件将要卸载'</span>)
            })
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeName</span>(<span class="hljs-params"></span>)</span>{
                state.name = <span class="hljs-string">'webyouxuan'</span>;
            }
            <span class="hljs-keyword">return</span> { <span class="hljs-comment">// 返回上下文,可以在模板中使用</span>
                state,
                changeName,
                x,
                y
            }
        },
        <span class="hljs-attr">template</span>:<span class="hljs-string">`&lt;button @click="changeName"&gt;{{state.name}} 鼠标x: {{x}} 鼠标: {{y}}&lt;/button&gt;`</span>
    }
    Vue.createApp().mount(App,container);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<blockquote>到这里你会发现<strong>响应式</strong>才是<code>Vue</code>的灵魂</blockquote>
<h2 id="item-2">2.源码目录剖析</h2>
<p>packages目录中包含着<code>Vue3.0</code>所有功能</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="├── packages
│   ├── compiler-core # 所有平台的编译器
│   ├── compiler-dom # 针对浏览器而写的编译器
│   ├── reactivity # 数据响应式系统
│   ├── runtime-core # 虚拟 DOM 渲染器 ，Vue 组件和 Vue 的各种API
│   ├── runtime-dom # 针对浏览器的 runtime。其功能包括处理原生 DOM API、DOM 事件和 DOM 属性等。
│   ├── runtime-test # 专门为测试写的runtime
│   ├── server-renderer # 用于SSR
│   ├── shared # 帮助方法
│   ├── template-explorer
│   └── vue # 构建vue runtime + compiler" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="bash hljs"><code class="bash">├── packages
│&nbsp;&nbsp; ├── compiler-core <span class="hljs-comment"># 所有平台的编译器</span>
│&nbsp;&nbsp; ├── compiler-dom <span class="hljs-comment"># 针对浏览器而写的编译器</span>
│&nbsp;&nbsp; ├── reactivity <span class="hljs-comment"># 数据响应式系统</span>
│&nbsp;&nbsp; ├── runtime-core <span class="hljs-comment"># 虚拟 DOM 渲染器 ，Vue 组件和 Vue 的各种API</span>
│&nbsp;&nbsp; ├── runtime-dom <span class="hljs-comment"># 针对浏览器的 runtime。其功能包括处理原生 DOM API、DOM 事件和 DOM 属性等。</span>
│&nbsp;&nbsp; ├── runtime-test <span class="hljs-comment"># 专门为测试写的runtime</span>
│&nbsp;&nbsp; ├── server-renderer <span class="hljs-comment"># 用于SSR</span>
│&nbsp;&nbsp; ├── shared <span class="hljs-comment"># 帮助方法</span>
│&nbsp;&nbsp; ├── template-explorer
│&nbsp;&nbsp; └── vue <span class="hljs-comment"># 构建vue runtime + compiler</span></code></pre>
<p><strong>compiler</strong>  <br><code>compiler-core</code>主要功能是暴露编译相关的<code>API</code>以及<code>baseCompile</code>方法  <br><code>compiler-dom</code>基于<code>compiler-core</code>封装针对浏览器的<code>compiler</code> (对浏览器标签进行处理)</p>
<p><strong>runtime</strong>  <br><code>runtime-core</code> 虚拟 DOM 渲染器、Vue 组件和 Vue 的各种API  <br><code>runtime-test</code>将<code>DOM</code>结构格式化成对象，方便测试  <br><code>runtime-dom</code> 基于<code>runtime-core</code>编写的浏览器的<code>runtime</code> (增加了节点的增删改查，样式处理等)，返回<code>render</code>、<code>createApp</code>方法  </p>
<p><strong>reactivity</strong>  <br>单独的数据响应式系统，核心方法<code>reactive</code>、<code>effect</code>、 <code>ref</code>、<code>computed</code></p>
<p><strong>vue</strong>  <br>整合 <code>compiler</code> + <code>runtime</code></p>
<blockquote>到此我们解析了<code>Vue3.0</code>结构目录，整体来看整个项目还是非常清晰的</blockquote>
<p>再来尝尝鲜：  <br>我们可以根据官方的测试用例来看下如何使用<code>Vue3.0</code></p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const app = {
    template:`&lt;div&gt;{{count}}&lt;/div&gt;`,
    data(){
        return {count:100}
    },
}
let proxy = Vue.createApp().mount(app,container);
setTimeout(()=&gt;{
    proxy.count = 200;
},2000)" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">const</span> app = {
    <span class="hljs-attr">template</span>:<span class="hljs-string">`&lt;div&gt;{{count}}&lt;/div&gt;`</span>,
    data(){
        <span class="hljs-keyword">return</span> {<span class="hljs-attr">count</span>:<span class="hljs-number">100</span>}
    },
}
<span class="hljs-keyword">let</span> proxy = Vue.createApp().mount(app,container);
setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    proxy.count = <span class="hljs-number">200</span>;
},<span class="hljs-number">2000</span>)</code></pre>
<blockquote>接下来我们来对比 Vue 2 和 Vue 3 中的响应式原理区别</blockquote>
<h2 id="item-3">3.Vue2.0响应式原理机制 - defineProperty</h2>
<p>这个原理老生常谈了，就是<code>拦截对象</code>，给对象的属性增加<code>set</code> 和 <code>get</code>方法，因为核心是<code>defineProperty</code>所以还需要对数组的方法进行拦截</p>
<h3 id="item-3-1">3.1 对对象进行拦截</h3>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function observer(target){
    // 如果不是对象数据类型直接返回即可
    if(typeof target !== &#39;object&#39;){
        return target
    }
    // 重新定义key
    for(let key in target){
        defineReactive(target,key,target[key])
    }
}
function update(){
    console.log(&#39;update view&#39;)
}
function defineReactive(obj,key,value){
    observer(value); // 有可能对象类型是多层，递归劫持
    Object.defineProperty(obj,key,{
        get(){
            // 在get 方法中收集依赖
            return value
        },
        set(newVal){
            if(newVal !== value){
                observer(value);
                update(); // 在set方法中触发更新
            }
        }
    })
}
let obj = {name:&#39;youxuan&#39;}
observer(obj);
obj.name = &#39;webyouxuan&#39;;" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">observer</span>(<span class="hljs-params">target</span>)</span>{
    <span class="hljs-comment">// 如果不是对象数据类型直接返回即可</span>
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">'object'</span>){
        <span class="hljs-keyword">return</span> target
    }
    <span class="hljs-comment">// 重新定义key</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> target){
        defineReactive(target,key,target[key])
    }
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'update view'</span>)
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defineReactive</span>(<span class="hljs-params">obj,key,value</span>)</span>{
    observer(value); <span class="hljs-comment">// 有可能对象类型是多层，递归劫持</span>
    <span class="hljs-built_in">Object</span>.defineProperty(obj,key,{
        <span class="hljs-keyword">get</span>(){
            <span class="hljs-comment">// 在get 方法中收集依赖</span>
            <span class="hljs-keyword">return</span> value
        },
        <span class="hljs-keyword">set</span>(newVal){
            <span class="hljs-keyword">if</span>(newVal !== value){
                observer(value);
                update(); <span class="hljs-comment">// 在set方法中触发更新</span>
            }
        }
    })
}
<span class="hljs-keyword">let</span> obj = {<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>}
observer(obj);
obj.name = <span class="hljs-string">'webyouxuan'</span>;</code></pre>
<h3 id="item-3-2">3.2 数组方法劫持</h3>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let oldProtoMehtods = Array.prototype;
let proto = Object.create(oldProtoMehtods);
[&#39;push&#39;,&#39;pop&#39;,&#39;shift&#39;,&#39;unshift&#39;].forEach(method=&gt;{
    Object.defineProperty(proto,method,{
        get(){
            update();
            oldProtoMehtods[method].call(this,...arguments)
        }
    })
})
function observer(target){
    if(typeof target !== &#39;object&#39;){
        return target
    }
    // 如果不是对象数据类型直接返回即可
    if(Array.isArray(target)){
        Object.setPrototypeOf(target,proto);
        // 给数组中的每一项进行observr
        for(let i = 0 ; i &lt; target.length;i++){
            observer(target[i])
        }
        return
    };
    // 重新定义key
    for(let key in target){
        defineReactive(target,key,target[key])
    }
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> oldProtoMehtods = <span class="hljs-built_in">Array</span>.prototype;
<span class="hljs-keyword">let</span> proto = <span class="hljs-built_in">Object</span>.create(oldProtoMehtods);
[<span class="hljs-string">'push'</span>,<span class="hljs-string">'pop'</span>,<span class="hljs-string">'shift'</span>,<span class="hljs-string">'unshift'</span>].forEach(<span class="hljs-function"><span class="hljs-params">method</span>=&gt;</span>{
    <span class="hljs-built_in">Object</span>.defineProperty(proto,method,{
        <span class="hljs-keyword">get</span>(){
            update();
            oldProtoMehtods[method].call(<span class="hljs-keyword">this</span>,...arguments)
        }
    })
})
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">observer</span>(<span class="hljs-params">target</span>)</span>{
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">'object'</span>){
        <span class="hljs-keyword">return</span> target
    }
    <span class="hljs-comment">// 如果不是对象数据类型直接返回即可</span>
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">Array</span>.isArray(target)){
        <span class="hljs-built_in">Object</span>.setPrototypeOf(target,proto);
        <span class="hljs-comment">// 给数组中的每一项进行observr</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span> ; i &lt; target.length;i++){
            observer(target[i])
        }
        <span class="hljs-keyword">return</span>
    };
    <span class="hljs-comment">// 重新定义key</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> target){
        defineReactive(target,key,target[key])
    }
}</code></pre>
<p>测试</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let obj = {hobby:[{name:&#39;youxuan&#39;},&#39;喝&#39;]}
observer(obj)
obj.hobby[0].name = &#39;webyouxuan&#39;; // 更改数组中的对象也会触发试图更新
console.log(obj)" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> obj = {<span class="hljs-attr">hobby</span>:[{<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>},<span class="hljs-string">'喝'</span>]}
observer(obj)
obj.hobby[<span class="hljs-number">0</span>].name = <span class="hljs-string">'webyouxuan'</span>; <span class="hljs-comment">// 更改数组中的对象也会触发试图更新</span>
<span class="hljs-built_in">console</span>.log(obj)</code></pre>
<blockquote>这里依赖收集的过程就不详细描述了，我们把焦点放在<code>Vue3.0</code>上</blockquote>
<ul><li>
<p><strong>Object.defineProperty缺点</strong></p>
<ul>
<li>无法监听数组的变化</li>
<li>需要深度遍历，浪费内存</li>
</ul>
</li></ul>
<h2 id="item-4">4.Vue3.0数据响应机制 - Proxy</h2>
<p>在学习Vue3.0之前，你必须要先熟练掌握ES6中的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" rel="nofollow noreferrer" target="_blank">Proxy</a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/reflect" rel="nofollow noreferrer" target="_blank">Reflect</a> 及 ES6中为我们提供的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/map" rel="nofollow noreferrer" target="_blank">Map</a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/set" rel="nofollow noreferrer" target="_blank">Set</a>两种数据结构</p>
<p>先应用再说原理:</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let p = Vue.reactive({name:&#39;youxuan&#39;});
Vue.effect(()=&gt;{ // effect方法会立即被触发
    console.log(p.name);
})
p.name = &#39;webyouxuan&#39;;; // 修改属性后会再次触发effect方法" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> p = Vue.reactive({<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>});
Vue.effect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{ <span class="hljs-comment">// effect方法会立即被触发</span>
    <span class="hljs-built_in">console</span>.log(p.name);
})
p.name = <span class="hljs-string">'webyouxuan'</span>;; <span class="hljs-comment">// 修改属性后会再次触发effect方法</span></code></pre>
<blockquote>源码是采用<code>ts</code>编写，为了便于大家理解原理，这里我们采用js来从0编写，之后再看源码就非常的轻松啦！</blockquote>
<h3 id="item-4-3">4.1 reactive方法实现</h3>
<p>通过proxy 自定义获取、增加、删除等行为</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function reactive(target){
    // 创建响应式对象
    return createReactiveObject(target);
}
function isObject(target){
    return typeof target === &#39;object&#39; &amp;&amp; target!== null;
}
function createReactiveObject(target){
    // 判断target是不是对象,不是对象不必继续
    if(!isObject(target)){
        return target;
    }
    const handlers = {
        get(target,key,receiver){ // 取值
            console.log(&#39;获取&#39;)
            let res = Reflect.get(target,key,receiver);
            return res;
        },
        set(target,key,value,receiver){ // 更改 、 新增属性
            console.log(&#39;设置&#39;)
            let result = Reflect.set(target,key,value,receiver);
            return result;
        },
        deleteProperty(target,key){ // 删除属性
            console.log(&#39;删除&#39;)
            const result = Reflect.deleteProperty(target,key);
            return result;
        }
    }
    // 开始代理
    observed = new Proxy(target,handlers);
    return observed;
}
let p = reactive({name:&#39;youxuan&#39;});
console.log(p.name); // 获取
p.name = &#39;webyouxuan&#39;; // 设置
delete p.name; // 删除" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reactive</span>(<span class="hljs-params">target</span>)</span>{
    <span class="hljs-comment">// 创建响应式对象</span>
    <span class="hljs-keyword">return</span> createReactiveObject(target);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObject</span>(<span class="hljs-params">target</span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">'object'</span> &amp;&amp; target!== <span class="hljs-literal">null</span>;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createReactiveObject</span>(<span class="hljs-params">target</span>)</span>{
    <span class="hljs-comment">// 判断target是不是对象,不是对象不必继续</span>
    <span class="hljs-keyword">if</span>(!isObject(target)){
        <span class="hljs-keyword">return</span> target;
    }
    <span class="hljs-keyword">const</span> handlers = {
        <span class="hljs-keyword">get</span>(target,key,receiver){ <span class="hljs-comment">// 取值</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'获取'</span>)
            <span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Reflect</span>.get(target,key,receiver);
            <span class="hljs-keyword">return</span> res;
        },
        <span class="hljs-keyword">set</span>(target,key,value,receiver){ <span class="hljs-comment">// 更改 、 新增属性</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'设置'</span>)
            <span class="hljs-keyword">let</span> result = <span class="hljs-built_in">Reflect</span>.set(target,key,value,receiver);
            <span class="hljs-keyword">return</span> result;
        },
        deleteProperty(target,key){ <span class="hljs-comment">// 删除属性</span>
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'删除'</span>)
            <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">Reflect</span>.deleteProperty(target,key);
            <span class="hljs-keyword">return</span> result;
        }
    }
    <span class="hljs-comment">// 开始代理</span>
    observed = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(target,handlers);
    <span class="hljs-keyword">return</span> observed;
}
<span class="hljs-keyword">let</span> p = reactive({<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>});
<span class="hljs-built_in">console</span>.log(p.name); <span class="hljs-comment">// 获取</span>
p.name = <span class="hljs-string">'webyouxuan'</span>; <span class="hljs-comment">// 设置</span>
<span class="hljs-keyword">delete</span> p.name; <span class="hljs-comment">// 删除</span></code></pre>
<p><strong>我们继续考虑多层对象如何实现代理</strong></p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let p = reactive({ name: &quot;youxuan&quot;, age: { num: 10 } });
p.age.num = 11" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> p = reactive({ <span class="hljs-attr">name</span>: <span class="hljs-string">"youxuan"</span>, <span class="hljs-attr">age</span>: { <span class="hljs-attr">num</span>: <span class="hljs-number">10</span> } });
p.age.num = <span class="hljs-number">11</span></code></pre>
<blockquote>由于我们只代理了第一层对象，所以对<code>age</code>对象进行更改是不会触发set方法的，但是却触发了<code>get</code>方法，这是由于 <code>p.age</code>会造成 <code>get</code>操作</blockquote>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="get(target, key, receiver) {
      // 取值
    console.log(&quot;获取&quot;);
    let res = Reflect.get(target, key, receiver);
    return isObject(res) // 懒代理，只有当取值时再次做代理，vue2.0中一上来就会全部递归增加getter,setter
    ? reactive(res) : res;
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">get</span>(target, key, receiver) {
      <span class="hljs-comment">// 取值</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"获取"</span>);
    <span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Reflect</span>.get(target, key, receiver);
    <span class="hljs-keyword">return</span> isObject(res) <span class="hljs-comment">// 懒代理，只有当取值时再次做代理，vue2.0中一上来就会全部递归增加getter,setter</span>
    ? reactive(res) : res;
}</code></pre>
<blockquote>这里我们将<code>p.age</code>取到的对象再次进行代理，这样在去更改值即可触发<code>set</code>方法</blockquote>
<p><strong>我们继续考虑数组问题</strong>  <br>我们可以发现<code>Proxy</code>默认可以支持数组，包括数组的长度变化以及索引值的变化</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let p = reactive([1,2,3,4]);
p.push(5);" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> p = reactive([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]);
p.push(<span class="hljs-number">5</span>);</code></pre>
<blockquote>但是这样会触发两次<code>set</code>方法，第一次更新的是数组中的第<code>4</code>项，第二次更新的是数组的<code>length</code>
</blockquote>
<p>我们来屏蔽掉多次触发，更新操作</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="set(target, key, value, receiver) {
    // 更改、新增属性
    let oldValue = target[key]; // 获取上次的值
    let hadKey = hasOwn(target,key); // 看这个属性是否存在
    let result = Reflect.set(target, key, value, receiver);
    if(!hadKey){ // 新增属性
        console.log(&#39;更新 添加&#39;)
    }else if(oldValue !== value){ // 修改存在的属性
        console.log(&#39;更新 修改&#39;)
    }
    // 当调用push 方法第一次修改时数组长度已经发生变化
    // 如果这次的值和上次的值一样则不触发更新
    return result;
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">set</span>(target, key, value, receiver) {
    <span class="hljs-comment">// 更改、新增属性</span>
    <span class="hljs-keyword">let</span> oldValue = target[key]; <span class="hljs-comment">// 获取上次的值</span>
    <span class="hljs-keyword">let</span> hadKey = hasOwn(target,key); <span class="hljs-comment">// 看这个属性是否存在</span>
    <span class="hljs-keyword">let</span> result = <span class="hljs-built_in">Reflect</span>.set(target, key, value, receiver);
    <span class="hljs-keyword">if</span>(!hadKey){ <span class="hljs-comment">// 新增属性</span>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'更新 添加'</span>)
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(oldValue !== value){ <span class="hljs-comment">// 修改存在的属性</span>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'更新 修改'</span>)
    }
    <span class="hljs-comment">// 当调用push 方法第一次修改时数组长度已经发生变化</span>
    <span class="hljs-comment">// 如果这次的值和上次的值一样则不触发更新</span>
    <span class="hljs-keyword">return</span> result;
}</code></pre>
<p><strong>解决重复使用reactive情况</strong></p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// 情况1.多次代理同一个对象
let arr = [1,2,3,4];
let p = reactive(arr);
reactive(arr);

// 情况2.将代理后的结果继续代理
let p = reactive([1,2,3,4]);
reactive(p);" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// 情况1.多次代理同一个对象</span>
<span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>];
<span class="hljs-keyword">let</span> p = reactive(arr);
reactive(arr);

<span class="hljs-comment">// 情况2.将代理后的结果继续代理</span>
<span class="hljs-keyword">let</span> p = reactive([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]);
reactive(p);</code></pre>
<blockquote>通过<code>hash表</code>的方式来解决重复代理的情况</blockquote>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const toProxy = new WeakMap(); // 存放被代理过的对象
const toRaw = new WeakMap(); // 存放已经代理过的对象
function reactive(target) {
  // 创建响应式对象
  return createReactiveObject(target);
}
function isObject(target) {
  return typeof target === &quot;object&quot; &amp;&amp; target !== null;
}
function hasOwn(target,key){
  return target.hasOwnProperty(key);
}
function createReactiveObject(target) {
  if (!isObject(target)) {
    return target;
  }
  let observed = toProxy.get(target);
  if(observed){ // 判断是否被代理过
    return observed;
  }
  if(toRaw.has(target)){ // 判断是否要重复代理
    return target;
  }
  const handlers = {
    get(target, key, receiver) {
      // 取值
      console.log(&quot;获取&quot;);
      let res = Reflect.get(target, key, receiver);
      return isObject(res) ? reactive(res) : res;
    },
    set(target, key, value, receiver) {
      let oldValue = target[key];
      let hadKey = hasOwn(target,key);
      let result = Reflect.set(target, key, value, receiver);
      if(!hadKey){
        console.log(&#39;更新 添加&#39;)
      }else if(oldValue !== value){
        console.log(&#39;更新 修改&#39;)
      }
      return result;
    },
    deleteProperty(target, key) {
      console.log(&quot;删除&quot;);
      const result = Reflect.deleteProperty(target, key);
      return result;
    }
  };
  // 开始代理
  observed = new Proxy(target, handlers);
  toProxy.set(target,observed);
  toRaw.set(observed,target); // 做映射表
  return observed;
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">const</span> toProxy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>(); <span class="hljs-comment">// 存放被代理过的对象</span>
<span class="hljs-keyword">const</span> toRaw = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>(); <span class="hljs-comment">// 存放已经代理过的对象</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reactive</span>(<span class="hljs-params">target</span>) </span>{
  <span class="hljs-comment">// 创建响应式对象</span>
  <span class="hljs-keyword">return</span> createReactiveObject(target);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObject</span>(<span class="hljs-params">target</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">"object"</span> &amp;&amp; target !== <span class="hljs-literal">null</span>;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasOwn</span>(<span class="hljs-params">target,key</span>)</span>{
  <span class="hljs-keyword">return</span> target.hasOwnProperty(key);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createReactiveObject</span>(<span class="hljs-params">target</span>) </span>{
  <span class="hljs-keyword">if</span> (!isObject(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-keyword">let</span> observed = toProxy.get(target);
  <span class="hljs-keyword">if</span>(observed){ <span class="hljs-comment">// 判断是否被代理过</span>
    <span class="hljs-keyword">return</span> observed;
  }
  <span class="hljs-keyword">if</span>(toRaw.has(target)){ <span class="hljs-comment">// 判断是否要重复代理</span>
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-keyword">const</span> handlers = {
    <span class="hljs-keyword">get</span>(target, key, receiver) {
      <span class="hljs-comment">// 取值</span>
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"获取"</span>);
      <span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Reflect</span>.get(target, key, receiver);
      <span class="hljs-keyword">return</span> isObject(res) ? reactive(res) : res;
    },
    <span class="hljs-keyword">set</span>(target, key, value, receiver) {
      <span class="hljs-keyword">let</span> oldValue = target[key];
      <span class="hljs-keyword">let</span> hadKey = hasOwn(target,key);
      <span class="hljs-keyword">let</span> result = <span class="hljs-built_in">Reflect</span>.set(target, key, value, receiver);
      <span class="hljs-keyword">if</span>(!hadKey){
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'更新 添加'</span>)
      }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(oldValue !== value){
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'更新 修改'</span>)
      }
      <span class="hljs-keyword">return</span> result;
    },
    deleteProperty(target, key) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"删除"</span>);
      <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">Reflect</span>.deleteProperty(target, key);
      <span class="hljs-keyword">return</span> result;
    }
  };
  <span class="hljs-comment">// 开始代理</span>
  observed = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Proxy</span>(target, handlers);
  toProxy.set(target,observed);
  toRaw.set(observed,target); <span class="hljs-comment">// 做映射表</span>
  <span class="hljs-keyword">return</span> observed;
}</code></pre>
<blockquote>到这里<code>reactive</code>方法基本实现完毕，接下来就是与Vue2中的逻辑一样实现依赖收集和触发更新</blockquote>
<p><span class="img-wrap"><img referrerpolicy="no-referrer" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/1460000020709966" alt="tupian" title="tupian"></span></p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="get(target, key, receiver) {
    let res = Reflect.get(target, key, receiver);
+   track(target,&#39;get&#39;,key); // 依赖收集
    return isObject(res) 
    ?reactive(res):res;
},
set(target, key, value, receiver) {
    let oldValue = target[key];
    let hadKey = hasOwn(target,key);
    let result = Reflect.set(target, key, value, receiver);
    if(!hadKey){
+     trigger(target,&#39;add&#39;,key); // 触发添加
    }else if(oldValue !== value){
+     trigger(target,&#39;set&#39;,key); // 触发修改
    }
    return result;
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="diff hljs"><code class="diff">get(target, key, receiver) {
    let res = Reflect.get(target, key, receiver);
<span class="hljs-addition">+   track(target,'get',key); // 依赖收集</span>
    return isObject(res) 
    ?reactive(res):res;
},
set(target, key, value, receiver) {
    let oldValue = target[key];
    let hadKey = hasOwn(target,key);
    let result = Reflect.set(target, key, value, receiver);
    if(!hadKey){
<span class="hljs-addition">+     trigger(target,'add',key); // 触发添加</span>
    }else if(oldValue !== value){
<span class="hljs-addition">+     trigger(target,'set',key); // 触发修改</span>
    }
    return result;
}</code></pre>
<blockquote>track的作用是依赖收集，收集的主要是<code>effect</code>，我们先来实现<code>effect</code>原理，之后再完善 <code>track</code>和<code>trigger</code>方法</blockquote>
<h3 id="item-4-4">4.2 effect实现</h3>
<p>effect意思是副作用，此方法默认会先执行一次。如果数据变化后会再次触发此回调函数。</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let school = {name:&#39;youxuan&#39;}
let p = reactive(school);
effect(()=&gt;{
    console.log(p.name);  // youxuan
})" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> school = {<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>}
<span class="hljs-keyword">let</span> p = reactive(school);
effect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    <span class="hljs-built_in">console</span>.log(p.name);  <span class="hljs-comment">// youxuan</span>
})</code></pre>
<p>我们来实现<code>effect</code>方法，我们需要将<code>effect</code>方法包装成响应式<code>effect</code>。</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function effect(fn) {
  const effect = createReactiveEffect(fn); // 创建响应式的effect
  effect(); // 先执行一次
  return effect;
}
const activeReactiveEffectStack = []; // 存放响应式effect
function createReactiveEffect(fn) {
  const effect = function() {
    // 响应式的effect
    return run(effect, fn);
  };
  return effect;
}
function run(effect, fn) {
    try {
      activeReactiveEffectStack.push(effect);
      return fn(); // 先让fn执行,执行时会触发get方法，可以将effect存入对应的key属性
    } finally {
      activeReactiveEffectStack.pop(effect);
    }
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">effect</span>(<span class="hljs-params">fn</span>) </span>{
  <span class="hljs-keyword">const</span> effect = createReactiveEffect(fn); <span class="hljs-comment">// 创建响应式的effect</span>
  effect(); <span class="hljs-comment">// 先执行一次</span>
  <span class="hljs-keyword">return</span> effect;
}
<span class="hljs-keyword">const</span> activeReactiveEffectStack = []; <span class="hljs-comment">// 存放响应式effect</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createReactiveEffect</span>(<span class="hljs-params">fn</span>) </span>{
  <span class="hljs-keyword">const</span> effect = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 响应式的effect</span>
    <span class="hljs-keyword">return</span> run(effect, fn);
  };
  <span class="hljs-keyword">return</span> effect;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span>(<span class="hljs-params">effect, fn</span>) </span>{
    <span class="hljs-keyword">try</span> {
      activeReactiveEffectStack.push(effect);
      <span class="hljs-keyword">return</span> fn(); <span class="hljs-comment">// 先让fn执行,执行时会触发get方法，可以将effect存入对应的key属性</span>
    } <span class="hljs-keyword">finally</span> {
      activeReactiveEffectStack.pop(effect);
    }
}</code></pre>
<p>当调用<code>fn()</code>时可能会触发<code>get</code>方法，此时会触发<code>track</code></p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const targetMap = new WeakMap();
function track(target,type,key){
    // 查看是否有effect
    const effect = activeReactiveEffectStack[activeReactiveEffectStack.length-1];
    if(effect){
        let depsMap = targetMap.get(target);
        if(!depsMap){ // 不存在map
            targetMap.set(target,depsMap = new Map());
        }
        let dep = depsMap.get(target);
        if(!dep){ // 不存在set
            depsMap.set(key,(dep = new Set()));
        }
        if(!dep.has(effect)){
            dep.add(effect); // 将effect添加到依赖中
        }
    }
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>();
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">track</span>(<span class="hljs-params">target,type,key</span>)</span>{
    <span class="hljs-comment">// 查看是否有effect</span>
    <span class="hljs-keyword">const</span> effect = activeReactiveEffectStack[activeReactiveEffectStack.length<span class="hljs-number">-1</span>];
    <span class="hljs-keyword">if</span>(effect){
        <span class="hljs-keyword">let</span> depsMap = targetMap.get(target);
        <span class="hljs-keyword">if</span>(!depsMap){ <span class="hljs-comment">// 不存在map</span>
            targetMap.set(target,depsMap = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>());
        }
        <span class="hljs-keyword">let</span> dep = depsMap.get(target);
        <span class="hljs-keyword">if</span>(!dep){ <span class="hljs-comment">// 不存在set</span>
            depsMap.set(key,(dep = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>()));
        }
        <span class="hljs-keyword">if</span>(!dep.has(effect)){
            dep.add(effect); <span class="hljs-comment">// 将effect添加到依赖中</span>
        }
    }
}</code></pre>
<p>当更新属性时会触发<code>trigger</code>执行，找到对应的存储集合拿出<code>effect</code>依次执行</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function trigger(target,type,key){
    const depsMap = targetMap.get(target);
    if(!depsMap){
        return
    }
    let effects = depsMap.get(key);
    if(effects){
        effects.forEach(effect=&gt;{
            effect();
        })
    }
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trigger</span>(<span class="hljs-params">target,type,key</span>)</span>{
    <span class="hljs-keyword">const</span> depsMap = targetMap.get(target);
    <span class="hljs-keyword">if</span>(!depsMap){
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">let</span> effects = depsMap.get(key);
    <span class="hljs-keyword">if</span>(effects){
        effects.forEach(<span class="hljs-function"><span class="hljs-params">effect</span>=&gt;</span>{
            effect();
        })
    }
}</code></pre>
<p><strong>我们发现如下问题</strong></p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let school = [1,2,3];
let p = reactive(school);
effect(()=&gt;{
    console.log(p.length);
})
p.push(100);" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> school = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
<span class="hljs-keyword">let</span> p = reactive(school);
effect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    <span class="hljs-built_in">console</span>.log(p.length);
})
p.push(<span class="hljs-number">100</span>);</code></pre>
<blockquote>新增了值，<code>effect</code>方法并未重新执行，因为<code>push</code>中修改<code>length</code>已经被我们屏蔽掉了触发<code>trigger</code>方法，所以当新增项时应该手动触发<code>length</code>属性所对应的依赖。</blockquote>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function trigger(target, type, key) {
  const depsMap = targetMap.get(target);
  if (!depsMap) {
    return;
  }
  let effects = depsMap.get(key);
  if (effects) {
    effects.forEach(effect =&gt; {
      effect();
    });
  }
  // 处理如果当前类型是增加属性，如果用到数组的length的effect应该也会被执行
  if (type === &quot;add&quot;) {
    let effects = depsMap.get(&quot;length&quot;);
    if (effects) {
      effects.forEach(effect =&gt; {
        effect();
      });
    }
  }
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trigger</span>(<span class="hljs-params">target, type, key</span>) </span>{
  <span class="hljs-keyword">const</span> depsMap = targetMap.get(target);
  <span class="hljs-keyword">if</span> (!depsMap) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">let</span> effects = depsMap.get(key);
  <span class="hljs-keyword">if</span> (effects) {
    effects.forEach(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> {
      effect();
    });
  }
  <span class="hljs-comment">// 处理如果当前类型是增加属性，如果用到数组的length的effect应该也会被执行</span>
  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"add"</span>) {
    <span class="hljs-keyword">let</span> effects = depsMap.get(<span class="hljs-string">"length"</span>);
    <span class="hljs-keyword">if</span> (effects) {
      effects.forEach(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> {
        effect();
      });
    }
  }
}</code></pre>
<h3 id="item-4-5">4.3 ref实现</h3>
<p>ref可以将原始数据类型也转换成响应式数据，需要通过<code>.value</code>属性进行获取值</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function convert(val) {
  return isObject(val) ? reactive(val) : val;
}
function ref(raw) {
  raw = convert(raw);
  const v = {
    _isRef:true, // 标识是ref类型
    get value() {
      track(v, &quot;get&quot;, &quot;&quot;);
      return raw;
    },
    set value(newVal) {
      raw = newVal;
      trigger(v,&#39;set&#39;,&#39;&#39;);
    }
  };
  return v;
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convert</span>(<span class="hljs-params">val</span>) </span>{
  <span class="hljs-keyword">return</span> isObject(val) ? reactive(val) : val;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ref</span>(<span class="hljs-params">raw</span>) </span>{
  raw = convert(raw);
  <span class="hljs-keyword">const</span> v = {
    <span class="hljs-attr">_isRef</span>:<span class="hljs-literal">true</span>, <span class="hljs-comment">// 标识是ref类型</span>
    <span class="hljs-keyword">get</span> value() {
      track(v, <span class="hljs-string">"get"</span>, <span class="hljs-string">""</span>);
      <span class="hljs-keyword">return</span> raw;
    },
    <span class="hljs-keyword">set</span> value(newVal) {
      raw = newVal;
      trigger(v,<span class="hljs-string">'set'</span>,<span class="hljs-string">''</span>);
    }
  };
  <span class="hljs-keyword">return</span> v;
}</code></pre>
<p>问题又来了我们再编写个案例</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let r = ref(1);
let c = reactive({
    a:r
});
console.log(c.a.value);" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> r = ref(<span class="hljs-number">1</span>);
<span class="hljs-keyword">let</span> c = reactive({
    <span class="hljs-attr">a</span>:r
});
<span class="hljs-built_in">console</span>.log(c.a.value);</code></pre>
<blockquote>这样做的话岂不是每次都要多来一个<code>.value</code>，这样太难用了</blockquote>
<p>在<code>get</code>方法中判断如果获取的是<code>ref</code>的值，就将此值的<code>value</code>直接返回即可</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let res = Reflect.get(target, key, receiver);
if(res._isRef){
  return res.value
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> res = <span class="hljs-built_in">Reflect</span>.get(target, key, receiver);
<span class="hljs-keyword">if</span>(res._isRef){
  <span class="hljs-keyword">return</span> res.value
}</code></pre>
<h3 id="item-4-6">4.4 computed实现</h3>
<p><code>computed</code> 实现也是基于 <code>effect</code> 来实现的，特点是<code>computed</code>中的函数不会立即执行，多次取值是有缓存机制的</p>
<p>先来看用法:</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let a = reactive({name:&#39;youxuan&#39;});
let c = computed(()=&gt;{
  console.log(&#39;执行次数&#39;)
  return a.name +&#39;webyouxuan&#39;;
})
// 不取不执行，取n次只执行一次
console.log(c.value);
console.log(c.value);" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> a = reactive({<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>});
<span class="hljs-keyword">let</span> c = computed(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'执行次数'</span>)
  <span class="hljs-keyword">return</span> a.name +<span class="hljs-string">'webyouxuan'</span>;
})
<span class="hljs-comment">// 不取不执行，取n次只执行一次</span>
<span class="hljs-built_in">console</span>.log(c.value);
<span class="hljs-built_in">console</span>.log(c.value);</code></pre>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function computed(getter){
  let dirty = true;
  const runner = effect(getter,{ // 标识这个effect是懒执行
    lazy:true, // 懒执行
    scheduler:()=&gt;{ // 当依赖的属性变化了，调用此方法，而不是重新执行effect
      dirty = true;
    }
  });
  let value;
  return {
    _isRef:true,
    get value(){
      if(dirty){
        value = runner(); // 执行runner会继续收集依赖
        dirty = false;
      }
      return value;
    }
  }
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computed</span>(<span class="hljs-params">getter</span>)</span>{
  <span class="hljs-keyword">let</span> dirty = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">const</span> runner = effect(getter,{ <span class="hljs-comment">// 标识这个effect是懒执行</span>
    <span class="hljs-attr">lazy</span>:<span class="hljs-literal">true</span>, <span class="hljs-comment">// 懒执行</span>
    <span class="hljs-attr">scheduler</span>:<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{ <span class="hljs-comment">// 当依赖的属性变化了，调用此方法，而不是重新执行effect</span>
      dirty = <span class="hljs-literal">true</span>;
    }
  });
  <span class="hljs-keyword">let</span> value;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">_isRef</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-keyword">get</span> value(){
      <span class="hljs-keyword">if</span>(dirty){
        value = runner(); <span class="hljs-comment">// 执行runner会继续收集依赖</span>
        dirty = <span class="hljs-literal">false</span>;
      }
      <span class="hljs-keyword">return</span> value;
    }
  }
}</code></pre>
<p>修改<code>effect</code>方法</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function effect(fn,options) {
  let effect = createReactiveEffect(fn,options);
  if(!options.lazy){ // 如果是lazy 则不立即执行
    effect();
  }
  return effect;
}
function createReactiveEffect(fn,options) {
  const effect = function() {
    return run(effect, fn);
  };
  effect.scheduler = options.scheduler;
  return effect;
}" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">effect</span>(<span class="hljs-params">fn,options</span>) </span>{
  <span class="hljs-keyword">let</span> effect = createReactiveEffect(fn,options);
  <span class="hljs-keyword">if</span>(!options.lazy){ <span class="hljs-comment">// 如果是lazy 则不立即执行</span>
    effect();
  }
  <span class="hljs-keyword">return</span> effect;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createReactiveEffect</span>(<span class="hljs-params">fn,options</span>) </span>{
  <span class="hljs-keyword">const</span> effect = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> run(effect, fn);
  };
  effect.scheduler = options.scheduler;
  <span class="hljs-keyword">return</span> effect;
}</code></pre>
<p>在<code>trigger</code>时判断</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="deps.forEach(effect =&gt; {
  if(effect.scheduler){ // 如果有scheduler 说明不需要执行effect
    effect.scheduler(); // 将dirty设置为true,下次获取值时重新执行runner方法
  }else{
    effect(); // 否则就是effect 正常执行即可
  }
});" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript">deps.forEach(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> {
  <span class="hljs-keyword">if</span>(effect.scheduler){ <span class="hljs-comment">// 如果有scheduler 说明不需要执行effect</span>
    effect.scheduler(); <span class="hljs-comment">// 将dirty设置为true,下次获取值时重新执行runner方法</span>
  }<span class="hljs-keyword">else</span>{
    effect(); <span class="hljs-comment">// 否则就是effect 正常执行即可</span>
  }
});</code></pre>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="let a = reactive({name:&#39;youxuan&#39;});
let c = computed(()=&gt;{
  console.log(&#39;执行次数&#39;)
  return a.name +&#39;webyouxuan&#39;;
})
// 不取不执行，取n次只执行一次
console.log(c.value);
a.name = &#39;zf10&#39;; // 更改值 不会触发重新计算,但是会将dirty变成true

console.log(c.value); // 重新调用计算方法" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">let</span> a = reactive({<span class="hljs-attr">name</span>:<span class="hljs-string">'youxuan'</span>});
<span class="hljs-keyword">let</span> c = computed(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'执行次数'</span>)
  <span class="hljs-keyword">return</span> a.name +<span class="hljs-string">'webyouxuan'</span>;
})
<span class="hljs-comment">// 不取不执行，取n次只执行一次</span>
<span class="hljs-built_in">console</span>.log(c.value);
a.name = <span class="hljs-string">'zf10'</span>; <span class="hljs-comment">// 更改值 不会触发重新计算,但是会将dirty变成true</span>

<span class="hljs-built_in">console</span>.log(c.value); <span class="hljs-comment">// 重新调用计算方法</span></code></pre>
<blockquote>到此我们将<code>Vue3.0</code>核心的 <code>Composition Api</code> 就讲解完毕了！ 不管是面试还是后期的应用也再也不需要担心啦！~</blockquote>
<p><span class="img-wrap"><img referrerpolicy="no-referrer" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/bVby3Lk" alt="默认标题_横版二维码_2019.10.16.png" title="默认标题_横版二维码_2019.10.16.png"></span></p>

                            </article>

                            <div class="d-none d-lg-block">
                                <script type="text/javascript">
                                OA_show(3);
                                </script><div id="OA_holder_3"><div style="text-align: center; line-height: 0"><script async="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/f(6).txt"></script>
<!-- 中部横幅广告位 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-6330872677300335" data-ad-slot="5598290435" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:728px;height:90px;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="728" height="90" frameborder="0" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" data-google-query-id="CL2Bxufvx-kCFQUzYAodbk8E_A" data-load-complete="true"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div id="beacon_7b81fa5d09" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(2).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div></div>
</div>
                            </div>

                            <div class="text-secondary font-size-14 mt-3 mb-5 d-flex justify-content-between row">
                                                                    <div class="col-6 text-secondary" id="sf-article_metas">阅读 29.1k<span class="split-dot"></span><time datetime="2019-10-16T17:28:59+08:00" itemprop="datePublished">发布于 2019-10-16 </time></div><div></div>
                                                                <div class="operation col-6 text-right">
                                                                                                                                                                                                                        
                                                                                                        </div>
                            </div>

                            <div class="functional-area-bottom"><div class="text-center"><div class="btn-group like-group mr-2" role="group">
            <button data-type="question" class="func-btn mainLike like-btn btn btn-outline-primary 
                            " data-id="1190000020709962">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up"></i> -->
                            <span class="ml-1">赞</span> <span class="mainLikeNum">57</span>
                        </button></div><button class="func-btn mainBookmark btn btn-outline-secondary 
                                mr-2 " data-id="1190000020709962">
                                <svg class="svg-inline--fa fa-bookmark fa-w-12" aria-hidden="true" focusable="false" data-prefix="far" data-icon="bookmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"></path></svg><!-- <i class="far fa-bookmark"></i> -->
                                <span class="ml-1">收藏</span> <span class="bookmarkNum">38</span>
                            </button><div class="dropdown dropup d-inline-block">
                        <button class="func-btn btn btn-outline-secondary
                        " id="func_share" data-toggle="dropdown">
                        <svg class="svg-inline--fa fa-share-alt fa-w-14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="share-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M352 320c-25.6 0-48.9 10-66.1 26.4l-98.3-61.5c5.9-18.8 5.9-39.1 0-57.8l98.3-61.5C303.1 182 326.4 192 352 192c53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 9.8 1.5 19.6 4.4 28.9l-98.3 61.5C144.9 170 121.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.6 0 48.9-10 66.1-26.4l98.3 61.5c-2.9 9.4-4.4 19.1-4.4 28.9 0 53 43 96 96 96s96-43 96-96-43-96-96-96zm0-272c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 304c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm256 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"></path></svg><!-- <i class="far fa-share-alt"></i> -->
                        <span class="ml-1 show-row">分享</span>
                        </button>
                        <div class="dropdown-menu shareContent" aria-labelledby="func_share">
                            <div class="text-center mt-2" style="cursor: auto">
                                <div class="qr"><img crossorigin="anonymous" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOwAAADsCAYAAAB300oUAAARYklEQVR4Xu2dUZbjOA4Ee+7U9z9B36n37diuGqtskwElTKkq9tcQCCYyCErV8/afv3///v3l/1RABU6hwD8Ce4o+WaQK/KuAwGoEFTiRAgJ7omZZqgoIrB5QgRMpILAnapalqoDA6gEVOJECAnuiZlmqCgisHlCBEykgsCdqlqWqgMDqARU4kQICe6JmWaoKCKweUIETKSCwJ2qWpaqAwOoBFTiRAgJ7omZZqgoIrB5QgRMpILAnapalqkAM2N+/f59CzT9//jys81n9z+KfbZbq0F1PqimpfVHdqD6p/abyUP+M1hXYq0IC+9oqAjtC6fHvAlvT7eMpemJTwVPGTh0gO+X6eDy1Lyfsvo44YZ2wUw4S2CmZvgTRA3+0isAK7Mgj//4usFMyCWxNpudPeSWuKSqwNd1ON2HTBc/KlnoH7Dbq7H5Gcak6U3lG9e79PdXfvXXcnn9XPe1XYoFNWeI9X3EFttYvga3pNvyqSQ+Qsxv4mYz01YDm2dm+4ePvAmRYSPgbyGg9J+xAIYF9LRA9AEeGnP1dYGeVehL3XQUUWIGdQeNd/nfCOmHvFDj7AfXdJ/4yYKkx6DtU94lH89P90nfMsxiV6vas7zQP1f9ofrvVI7Az950HMd2GEdjaV3GqG20/zZ8+SAWWdqz4VZCe8KuNMStL6uCixk6tO7vPW9zqvggs7ZjATr3zdhtbYIvGvT320wTs3m+34Xe2++PxlA5O2LmOOGHndPoSlTLqUT9uzMqS0kFg5xQX2Dmddkd1v8PSAikg9Gstraf74KL6d9dT1Udgq8rB56hh6JUYlvNLYKlil3jal5TOt2oFttY3/JTAYsmigFD9nbAbBb6LgLM2pPulJ/lsHbe41MlP95WqM/XuvKoeuq4TtqpY8TlqbIHNXkGp/k5YJyxCXWAF9pFhfIcdYJS6etErKF332TZontQk6p5Qq/ZFD1La99GpLrACe6eAwL42hMCOjpTB790Cpk5yetLSdZ2wtSs0tV+330b1OGGdsE7YESX/+V1ggViPQrsFpJOOxqcmYyqPV2KvxA8VSBlDYF8bjB4gqb740en1Fb06p5ZdiasFzz5HjTqb9xZH83fHpyYs1YGuS0Gm+em3gu79pusR2GLHugGk+Y9mbDqpqbFT+hTb/+Wxd9UjsMWO0QZ1xwtszxV01h60v7N5t3ECW1SONqg7XmAFFlmZGhIlLwR310Pzd8cLrMAiTKghUfJCcHc9NH93vMAKLMKEfmRAyYPBqT8DdQNo/tcAnt1vVUu3v8NWC+t6TmAvyn7XA6HLN9W89Ov3aB2BvSr0XQ380w6okeHf/bvA7lT8pxn4p+13pz3ijwvsTkl/moF/2n532iP+uMDulPSnGfin7XenPeKPHxbY+E7fnDD1Dvus7G5w6Lrd8qb0TBu+e9/d+WMfnboL7c6fMhgFZ9W6Z9FTYO87JbDhr8QC+54/G3UfOEfNL7AC2+LN1M3BCeuEfWjQlMGcsE7YlhPwmtQJ64Rt8VfqAHTCNk1Y+m876VfT7sn1LD/dF62ze11aD90v7eOq+JZT6T9J6QFVrSc2YbsbnTIePbHpvmidAvs9rtACO3kEpU7sbnBWHRT0AKEHVEp/angaP2mncti76nHCDlpEDUwB6T4oaD10vwJbuyFUTwaBFdg7BQS2hpITdlK31AnfPem8El8UTvXrXYBM2hD/98Wzebdx7ROWNqi6ke1zdN1UPAU/BTLNQ+ukfenWM1U/rZO+YlDdRvECe1WINo4CkpoIqTwpw1MDH61+2ne63xGA9HeBFdhd77DUwAJLEb2PF1iBFdgHDKU+vu3D8+vTAiuwAiuwnwqk3hHoSUXXTcXTd8NV78K0zlX603VTkzGVh9Y/io9N2JQBUgYebXz2dwpy9zsdNRKtZ1aXWxx9J03F0zqpr1b5ebQvgR0oJLCvBUoBmNJ51QHVve4tv8AK7OhQf/m7wL6WLzXZBXbSpqmTn+ah8ZPb+QhLGUlgBRZ5L/VOR680dF0KII1Hor34J4I0j8AKLPIMBQclL/zb1xT4AntRMtXf7hsF7Tv14fIrMRWQnuRUkJQx6LoUTBqfqofm6Y4/Wr+69yuwG4WPZgB6QKXqpwfpu4y6XSe1X1r/an2WfSWmG6cGpo04mgHoflP1075QnVPxqf3SelbrI7DXjh3NAAL7GqWj9YuCX40XWIG9887qCTJrZIGdVQrG0UnxLH0qD80Pt4vD6UckGk8LEtjXiq3W53AT9mgnJz0oaP3UAN35KeD0AKQHTiq+e1/P8tP+juoU2KtCKWN0A9Wdf2SY2d9TB12qL7N1j+JW6y+wAjvyaOl3gb3I5oQt2Wf8UOok7z6Bu/OPlZqLEFiBnXNKMUpgi8I9eUxgBTbrqE02gc3KK7AnBZZ+RaS2oe8IR7tS0nqoPjR+1cG1qk667ur49o9OAvu6xQJbQyB1sNRWX/eUwA60pxOctlJgqWKvr5r0Kl5bfd1TAiuwdwqkJlf3QZSqcx16tZUFVmAFtsbOkqcEVmAFdgl6tUVjwNJ3Bxqf+njlO+naj2BUf+oTGl/DZt1TAhvWvvvdjZabAoSu+yw+VY/vsDs7Qk82Gu+ErTUoBUht9a9PpeoR2J0doQDSeIGtNSgFSG11gU3pdsvjlTisqFfi14KmDhAn7E7j0olJ452wtQalAKmt7oRN6RafsLSw1CRaZcifdsLTA5bGpw7k7/6xK3YlFtiLAimjUj274+m+aLzAznVQYOd0+hLlhL1I0q3D0W5i3fsd2VFgRwo9+X1144pllx+jE5PGO2HnWiOwczo5YX//fqhU98HlhL2XXWAFdkoBOjFpvBN2qg2/lgHb3SD6tZAajMbT/dLJNdfuzyian36Np/WkJildN+UTmqdap8BelaMA0niBfW1RgZ1DWGAF9s4pqYNozn6fUQI7p5jACqzAPmCFvjJ4JZ47cHAUbUQq3iuxV2Js1gcPOGGdsE7Ynzhh6TsI/eqYyk/f0VLx9MqU2i891el+aX4aT3Wg+Vf5kNZ5i49NWCrsKqGoIVPxAluzKPUVXWWVD2mdArtRLPWuSg1G16XgU2PQA4rmp/FUT5pfYCcVWyUUNWQqnoJGjUr1TH0Em2x3OYzqQBeiutF6aP5R/V6JrwrRSUfjBXZkxce/U0DoKhQoWg/NP6pfYAX2ziP0RjEy2N7fKSB0PQoUrYfmH9UfA3a00PZ3aoxV8XRfdJLSq2kqf2rdo+lDbz4poKg/q7oJ7FU5enJSwakxaD00v8BeFOjWLZX/1i+BFdipKzE9oGg8NTadaDSe1t+dX2A3HaETjTY0ZUivxBcFKCA0nva3O7/ACuxDT3YfXKkDhwJC4wV2EpDURwPaoG6jOmFfI5DSJ+Wfbw9sChDaOCrsqnh6IFAdqP6pj04/rU7qH6rPKH/soxM1DI0fbeTovwts7d3zaAcL9ZnAUsUOEi+wApuwohM2oeJEDoEV2AmbDEMEdihRJkBgBTbhJIFNqDiRQ2AFdsImw5AYsKs+DtB10x8BhgpfA+hHNhqf0iF1sNA8z+qn/UrpNtvXd8cJ7JsUp0ai8QKbneBvsgVeRmCxZLUHKIA0XmAFtubMzVP0akSvQCmjRjb7IgkFkMandEj1i+bxSjznQCfsnE67oyiANF5gnbC7Tfr/BPSkdcJmjUfBT/WL5nHCzuEWm7DUGHPlfUal8lMjpQ4Qul86MbsN350/pTPtL91XyodVPwjsQLmUkaoN2j5HDUnrX5Wf1pk60AR2o0B3I2j+bkOmwEwZ8mj6dE8o2l+BFdhWZqkhBbbWjlX/Xe2oWq/EXonvFFh1INCDJXUDccI6YUeH5K7fVwFFjU2BEtg5WxxuwlJDzm3zM4oaI/XO1Z2HAtVdT+pKmaqT+oQeOFT/aj0CO1AuZZjuPNQw3fUI7KUjdECMQBZYgb1TgBqMgt8dPzL83t/pDZDqOapPYAVWYEeU/Od3gd2IRQUBWpeuKHQi0HcfegJTfVJX09S+qJ40nvqBxqf0p+ve4p2wTlgnLKBHYIFYj0K7T+DVDdopT+z/0qL7o1aqj0fLs7d/2+cPN2HpBlMNolc+amC6r1Q81Sd1QKXWTb0yrMqT6uNhr8R0g9QYqfwCe1Eg9Y6c6uPR8lC/jeKdsMV3WIEV2BFcHb8LrMDeKeCV+CJHalKnoRVYgRXYBx74scCuujp2C57KTycaPbFXfWzp3hfVIeXDVN+r9bdP2JRQdIPdwqbydxtbYF87Z5U+1M9v+0ossK9bI7BV62aeE9hJHalQk2k/wlIT8Nm6qfwCSzubjac+TPW9uguvxEXlUo0T2GIDQo8J7KSQVKjJtE7YjVBU57McRNQPqVezlD7V+mMTtlrAUZ6jjVgV363Xqn+5RPWkOtD89OZDD0Zaf/yjU7WAozyXami34bv16q4/lZ/qkOpvalLT+gV2o1iqoSlD0hO+aoDtc931p/LT/ab6K7BU+ab4VENThhTYS6NTV81UfwW2CUCaNtVQgb0o363nqv4KLFW+Kb7bYKn8Tdv/SNt94KTyUx269U/dBEb7in0lXnWFG21w9h2N5qEGSOWnJzytMxVP97tqX3Td1L6qeQS2qBw1Nl2GHoCpyUX3ReukOnTvS2BpR94cn7q6UGPTbVIQuo1N89P9UnCo/ik9U/uq5nHCFpWjhqHLpAxG60zF0/0K7JxiAjun05coamy6jMBeFKOTncbTg4L2MR0vsEVFBfYiHD1YqNwUQBovsBsFUu+MtNHdQKXqoXlofEp/qmcK5O76qZ40PlX/bd32CZsueFYwarDZvNW4lIHp+in9qZ6p/XbXT/Wk8an6BZYqvzM+ZWBaRsowAkuVf/0OXsv265cTtqocfE5goWDX8O4Dp1bV/FOp+p2w85pHIgW2JmPK8GfXX2Br/ik/dXbDeCWutT514CwHNmVg+hm/O562lTaUgkPr6Y5P9b27zqP2Zdk7bKpx3QDS/NRIRzUG3cdsfKrvs+tV447aF4G9dpROrpTxjmqMqtFHz6V0G62z9/ej9kVgBXavt9HzAovk+hIssAK7z0HwaYGFgm3CBVZg9zkIPi2wUDCB/fNQMfoO+0z2VJ5UfloPjaf2o/lpPK0npXNq3VEeJ2xxwq5qNDVwd/zIYNvfj1bPqj5S3W7xAiuwd96hQFHj0fw0ntYjsBsFVv0dkzaaxq9qNK2zO54CcrR6VvWR6uaE3ShGjbSq0bTO7nhqvKPVs6qPVDeBFdiHnqFAUePR/DSe1iOwJ70SdzfuaH/O6H5VeaYn/RdEqwCkBwWNr+7Lj04D5VKNENiL0AJbRfXynMAK7J0C3QeLwAps67uYE3afwbZPC+w+PZ2wTlgn7AMP0IOaxlexFViBFViB/VTg7Feg6kk4exWkJzONT9W/al369T6131SetP+XTdiUILShR/tzBgWBxqd0XrUu7W9qv6k8AjupJDXYqq+jqTrTxtjKTOucbFM5rLtf5cI2D6b74oS9CtxtADrZU/Ep4wlsTUmBndSNGkxgXwtL9ZxsUzmsu1/lwpywNemowboNkJqYdF819b4+tWpd32HvFWi/EqcMk8pDwXm2Ls1z9vhVOtB1KeDpK2vKp8/yCGzxHfbsANL6KTh0ItMbDgWN1tMNXjW/wArsnXdS4FBAUus6YSePAir4ZNp42FkmC62zO94JG7diKaET1gnrhC2hs+YhgRVYgV3DXmnVGLCl1X1IBVQAKSCwSC6DVWCtAgK7Vn9XVwGkgMAiuQxWgbUKCOxa/V1dBZACAovkMlgF1iogsGv1d3UVQAoILJLLYBVYq4DArtXf1VUAKSCwSC6DVWCtAgK7Vn9XVwGkgMAiuQxWgbUKCOxa/V1dBZACAovkMlgF1iogsGv1d3UVQAoILJLLYBVYq4DArtXf1VUAKSCwSC6DVWCtAgK7Vn9XVwGkgMAiuQxWgbUK/A97RHCWys5PdQAAAABJRU5ErkJggg==" width="236" height="236" style="width: 118px; height: 118px;"></div>
                                扫一扫分享
                            </div>
                            <div class="dropdown-divider"></div>
                        <a class="dropdown-item share_weibo" data-share="weibo" href="http://weibo.com/segmentfault" target="_blank"><svg class="svg-inline--fa fa-weibo fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weibo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"></path></svg><!-- <i class="fab fa-weibo fa-fw"></i> --> 新浪微博</a><a class="dropdown-item share_twitter" data-share="twitter" href="https://twitter.com/segment_fault" target="_blank"><svg class="svg-inline--fa fa-twitter fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fab fa-twitter fa-fw"></i> --> Twitter</a><a class="dropdown-item share_facebook" data-share="facebook" href="javascript:;" target="_blank"><svg class="svg-inline--fa fa-facebook-square fa-w-14 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg><!-- <i class="fab fa-facebook-square fa-fw"></i> --> Facebook</a></div>
                    </div></div></div>

                            <div class="text-center mb-5 mt-3 text-secondary font-size-14">
                                本作品系
                                原创
                                 ，
                                                                    <a target="_blank" class="text-secondary" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">采用《署名-非商业性使用-禁止演绎 4.0
                                        国际》许可协议</a>
                                                            </div>
                            <hr class="mb-0">
                            <div class="article-author d-flex flex-sm-row align-items-center pt-4 row">
                                <div class="d-flex align-items-center flex-grow-1 author-left col-sm-9 col-12">
                                    <a href="https://segmentfault.com/u/qianduanyouxuan">
                                        <img class="rounded-circle mr-3" width="64" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/2570035853-5d6398e097c9e_big64" aria-hidden="true">
                                    </a>
                                    <div>
                                        <h5><a class="text-body" href="https://segmentfault.com/u/qianduanyouxuan">前端优选</a></h5>
                                        <ul class="list-inline mb-0 authentication-info">
                                                                                        <li class="list-inline-item">
                                                <svg class="svg-inline--fa fa-dice-d8 fa-w-16" style="color: #BF7158;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="dice-d8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M225.53 2.52L2.36 233.83c-4.21 4.37-2.56 11.71 3.1 13.77l234.13 85.06V8.39c-.01-7.49-8.91-11.21-14.06-5.87zm284.11 231.31L286.47 2.52C281.32-2.82 272.41.9 272.41 8.4v324.27l234.13-85.06c5.66-2.07 7.31-9.42 3.1-13.78zM33.53 310.38l192 199.1c5.15 5.34 14.06 1.62 14.06-5.88V368.29L42.13 296.61c-8.21-2.98-14.72 7.43-8.6 13.77zm436.34-13.77l-197.46 71.68V503.6c0 7.5 8.91 11.22 14.06 5.88l192-199.1c6.12-6.34-.39-16.75-8.6-13.77z"></path></svg><!-- <i class="fas fa-dice-d8" style="color:#BF7158"></i> -->
                                                <span style="color: #BF7158; font-size:16px; font-weight:bold">632</span>
                                            </li>
                                                                                    </ul>
                                    </div>
                                </div>
                                <div class="author-right flex-shrink-0 col-sm-3 col-12 text-sm-right text-left mt-sm-0 mt-3">
                                                                                                                <button type="button" class="btn btn-primary follow-user sf_do" data-dotype="post" data-content="{&quot;type&quot;:&quot;state&quot;,&quot;state&quot;:false,&quot;true&quot;:&quot;\u5173\u6ce8\u4f5c\u8005&quot;,&quot;false&quot;:&quot;\u6b63\u5728\u5173\u6ce8&quot;}" data-api="/iteration/api/user/1030000020190308/follow">关注作者
                                        </button>
                                                                    </div>
                            </div>
                        </div>
                    </div>

                                                            <div id="comment-area" class="my-4" data-type="article" data-id="1190000020709962" data-page="1" data-user="null"><div class="d-flex justify-content-between mb-2">
                <div id="comment-total" class="h5 mb-0">8 条评论</div>
                <div>
                    <a href="javascript:;" class="sort text-dark" data-sort="default">得票</a><span class="split-dot"></span><a href="javascript:;" class="sort text-secondary" data-sort="desc">时间</a>
                </div>
            </div><div class="card border-0">
                <div class="card-body">
                    <div class="media">
                        <img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/user-128.png" class="rounded-circle mr-3" width="38" aria-hidden="true">
                        <form class="media-body" action="https://segmentfault.com/api/article/1190000020709962/comments/add">
                            <div class="form-group">
                                <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none; height: 38px;" name="text"></textarea>
                            </div>
                            <div class="d-flex justify-content-end">
                                <button data-js-replay-submit-btn="" type="button" submit-type="comment" class="btn btn-primary float-right" disabled="">提交评论</button>
                                <input type="hidden" name="objectId" value="1190000020709962" autocomplete="off">
                            </div>
                        </form>
                    </div>
                    <div id="comment-body"><div class="media mb-4" id="comment-1050000021045330">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/user-64.png" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/wangchen_5b7233ba31870" target="_blank"><strong>王晨</strong></a>
                     ：
                    <div class="parsedText fmt"><p>贴是好贴，就是水平有限看的似懂非懂</p></div>
                </div>

                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000021045330/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="贴是好贴，就是水平有限看的似懂非懂"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000020709962" autocomplete="off">
                        <input type="hidden" name="id" value="1050000021045330" autocomplete="off">
                    </div>
                </form>

                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment " data-id="1050000021045330">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                1</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000021045330">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2019-11-18 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        

                    </div>
                </div>

                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000021045330-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000021045330/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000021045330">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000021045330" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000015999238" autocomplete="off">
                        </div>
                    </form>
                </div>
            </div>
            <div class="replies">

            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0" style="min-height:0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">

                    <li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/zlu1123" target="_blank"><strong>最后变成如果</strong></a>：
        <div class="parsedText fmt"><p>一样一样~</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000021726765/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="一样一样~"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000021726765" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment " data-id="1050000021726765">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000021726765">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2月11日</span>
        </div>
        <div class="comment-control-area d-none">
            
            
            

        </div>
    </div>
    <form id="reply-1050000021726765-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000021045330/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000021045330">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000004591592" autocomplete="off">
        </div>
    </form>
</li></ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000021285034">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/user-64.png" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/wangwangxuebing_5df3cbbb793ef" target="_blank"><strong>旺旺雪饼</strong></a>
                     ：
                    <div class="parsedText fmt"><p>这个讲得很好了，基本看完这一篇 就能知道核心api之间贯连的关系以及每个怎么实现的，棒</p></div>
                </div>

                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000021285034/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="这个讲得很好了，基本看完这一篇 就能知道核心api之间贯连的关系以及每个怎么实现的，棒"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000020709962" autocomplete="off">
                        <input type="hidden" name="id" value="1050000021285034" autocomplete="off">
                    </div>
                </form>

                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment " data-id="1050000021285034">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                </span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000021285034">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2019-12-14 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        

                    </div>
                </div>

                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000021285034-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000021285034/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000021285034">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000021285034" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000021285021" autocomplete="off">
                        </div>
                    </form>
                </div>
            </div>
            <div class="replies">

            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0" style="min-height:0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">

                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000021855387">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/user-64.png" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/lishiwen_5be96b9a9e3a9" target="_blank"><strong>李世文</strong></a>
                     ：
                    <div class="parsedText fmt"><p>vue了解的不多，看着有点像react hooks</p></div>
                </div>

                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000021855387/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="vue了解的不多，看着有点像react hooks"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000020709962" autocomplete="off">
                        <input type="hidden" name="id" value="1050000021855387" autocomplete="off">
                    </div>
                </form>

                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment " data-id="1050000021855387">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                </span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000021855387">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2月27日</span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        

                    </div>
                </div>

                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000021855387-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000021855387/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000021855387">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000021855387" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000016988180" autocomplete="off">
                        </div>
                    </form>
                </div>
            </div>
            <div class="replies">

            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0" style="min-height:0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">

                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000022019572">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/2816907259-5b13eb8395641_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/zhaoyidong" target="_blank"><strong>家猫OR野猫</strong></a>
                     ：
                    <div class="parsedText fmt">
<p>对对象进行拦截，是不是多写了observer(value);</p>
<p>function defineReactive(obj,key,value){</p>
<div class="widget-codetool" style="display:none;">
        <div class="widget-codetool--inner">
        <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
        <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="observer(value); // 有可能对象类型是多层，递归劫持
Object.defineProperty(obj,key,{
    get(){
        // 在get 方法中收集依赖
        return value
    },
    set(newVal){
        if(newVal !== value){
            observer(value); // 这个重复了吧，还是有其他用途？
            update(); // 在set方法中触发更新
        }
    }
})" title="" data-original-title="复制"></span>
        </div>
        </div><pre class="hljs cs"><code>observer(<span class="hljs-keyword">value</span>); <span class="hljs-comment">// 有可能对象类型是多层，递归劫持</span>
Object.defineProperty(obj,key,{
    <span class="hljs-keyword">get</span>(){
        <span class="hljs-comment">// 在get 方法中收集依赖</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">value</span>
    },
    <span class="hljs-keyword">set</span>(newVal){
        <span class="hljs-keyword">if</span>(newVal !== <span class="hljs-keyword">value</span>){
            observer(<span class="hljs-keyword">value</span>); <span class="hljs-comment">// 这个重复了吧，还是有其他用途？</span>
            update(); <span class="hljs-comment">// 在set方法中触发更新</span>
        }
    }
})</code></pre>
<p>}</p>
</div>
                </div>

                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000022019572/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="对对象进行拦截，是不是多写了observer(value);

function defineReactive(obj,key,value){
    observer(value); // 有可能对象类型是多层，递归劫持
    Object.defineProperty(obj,key,{
        get(){
            // 在get 方法中收集依赖
            return value
        },
        set(newVal){
            if(newVal !== value){
                observer(value); // 这个重复了吧，还是有其他用途？
                update(); // 在set方法中触发更新
            }
        }
    })
}"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000020709962" autocomplete="off">
                        <input type="hidden" name="id" value="1050000022019572" autocomplete="off">
                    </div>
                </form>

                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment " data-id="1050000022019572">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                </span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000022019572">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">3月15日</span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        

                    </div>
                </div>

                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000022019572-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000022019572/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000022019572">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000022019572" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000000357126" autocomplete="off">
                        </div>
                    </form>
                </div>
            </div>
            <div class="replies">

            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0" style="min-height:0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">

                    <li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/benpaobahai" target="_blank"><strong>奔跑吧海豚</strong></a>：
        <div class="parsedText fmt"><p>第一个是在初始化时调用。第二个是在赋值时候调用，目的是为新属性添加响应式。</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000022189674/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="第一个是在初始化时调用。第二个是在赋值时候调用，目的是为新属性添加响应式。"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000022189674" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment " data-id="1050000022189674">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000022189674">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">3月29日</span>
        </div>
        <div class="comment-control-area d-none">
            
            
            

        </div>
    </div>
    <form id="reply-1050000022189674-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000022019572/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000022019572">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000022189672" autocomplete="off">
        </div>
    </form>
</li><li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/zhaoyidong" target="_blank"><strong>家猫OR野猫</strong></a>：
        <div class="parsedText fmt"><p><a href="https://segmentfault.com/u/benpaobahai">@奔跑吧海豚</a> 没考虑到还有新增的属性😓</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000022197024/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="@奔跑吧海豚[benpaobahai] 没考虑到还有新增的属性😓"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000022197024" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment " data-id="1050000022197024">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000022197024">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">3月30日</span>
        </div>
        <div class="comment-control-area d-none">
            
            
            

        </div>
    </div>
    <form id="reply-1050000022197024-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000022019572/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000022019572">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000000357126" autocomplete="off">
        </div>
    </form>
</li></ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000022562182">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/user-64.png" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/goddess0910_5be93335a044b" target="_blank"><strong>goddess0910</strong></a>
                     ：
                    <div class="parsedText fmt"><p>这篇文章写得真的赞👍！非常符合Vue的渐进式框架的思维，由浅入深，从做简单的实现开始，一步一步抛出问题。个人认为这是最符合普通人第一次接触一个新鲜事物的学习方法（不止在学习代码方面，其他的角度也非常适用）。大爱！！！</p></div>
                </div>

                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000022562182/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="这篇文章写得真的赞👍！非常符合Vue的渐进式框架的思维，由浅入深，从做简单的实现开始，一步一步抛出问题。个人认为这是最符合普通人第一次接触一个新鲜事物的学习方法（不止在学习代码方面，其他的角度也非常适用）。大爱！！！"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000020709962" autocomplete="off">
                        <input type="hidden" name="id" value="1050000022562182" autocomplete="off">
                    </div>
                </form>

                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment " data-id="1050000022562182">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                </span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000022562182">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">5月6日</span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        

                    </div>
                </div>

                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000022562182-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000022562182/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000022562182">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000022562182" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000016985183" autocomplete="off">
                        </div>
                    </form>
                </div>
            </div>
            <div class="replies">

            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0" style="min-height:0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">

                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div></div><div class="sflex-center comment-pagination"></div>
                </div>
            </div></div>
                                        <h5 class="mt-4">推荐阅读</h5>
                    <div class="card border-0 mb-4">
                        <div class="list-group list-group-flush" id="paradigm-article-related"><a href="http://segmentfault.com/a/1190000012753134" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">前端系列——快速理解babel6配置过程</h5>
                                <p class="mb-2 text-truncate text-secondary">你能快速读懂babel的官方文档吗？你能根据官方文档快速配置好babelrc吗？你能明白自己需要哪些插件吗？没有搞明白这3个问题，请往下看。下图仅仅截取了部分，一屏都截取不完，还有babel插件隐藏在下面，你害怕了吗？当你忘记一切的时候，你只需要理解几个基本的东西即可。只需要下面几个babel插件，就能解析大部分ES方法上面6大插件添加到package.json，便可完成一个普通开发者的需求了，那</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">二月</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>3</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000014736235" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">冒泡、选择与快速排序（js）</h5>
                                <p class="mb-2 text-truncate text-secondary">冒泡排序总的平均时间复杂度为Q(n^2)。比较次数O(n^2），比较次数与关键字的初始状态无关，总的比较次数N=(n-1）+(n-2）+...+1=n*(n-1）2。交换次数O(n），最好情况是，已经有序，交换0次；最坏情况交换n-1次，逆序交换n2次。交换次数比冒泡排序少多了此快速排序是优化过的，能否再优化以后再试试看。</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">yuan</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>3</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000003820989" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">JS进阶篇--前端的瑞士军刀Modernizr.js</h5>
                                <p class="mb-2 text-truncate text-secondary">Modernizr.js既能给老版本浏览器打补丁，又能保证新浏览器渐进增强的用户体验。作用：从实际操作来看，Modernizr默认做的事情很少，除了（在你选择的情况下）给不支持html5的标签的浏览器，如IE6，7，8追加一点由RemySharp开发的html5垫片脚本，使其识别&lt;aside&gt;、&lt;section&gt;等html5元素之外，它主要做的就是浏览器‘功能检测’。因此，</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">风雨后见彩虹</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>28</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000010525331" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">让前端也能快速地合成图片！</h5>
                                <p class="mb-2 text-truncate text-secondary">在业务中，经常遇到各种合成图片的需求，如贴纸的合成，添加文字注释，添加水印等，因为这些业务经常需要进行各种位置，状态等参数的计算，写起来并不是那么方便。该插件就是为了解决这部分难点，封装底层API及各种计算，提供出使用更为简单的API，减少项目上的重复工作，提高效率；希望大家喜欢，有什么问题及时提issue与我探讨哈。~~使用方式：</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">郭东东</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>6</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000008925295/" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">React进阶—性能优化</h5>
                                <p class="mb-2 text-truncate text-secondary">软件的性能优化思路就像生活中去看病，大致是这样的：使用工具来分析性能瓶颈（找病根）尝试使用优化技巧解决这些问题（服药）使用工具测试性能是否确实有提升（疗效确认）看过《高性能JavaScript》这本书的小伙伴都知道，JavaScipt的语言特性、数据结构和算法、浏览器机理、网络传输等都可能导致性能问题。同样是web实现，跟传统的技术（如原生js、jQuery）相比,react的性能优化有什么不同呢</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">marginyu</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>536</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000005990091" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">React快速进阶</h5>
                                <p class="mb-2 text-truncate text-secondary">上一篇文章,React入门大致了解了,如何基本的使用组件和更新组件.现在,我们来点新的~React针对于props专门提供了两种属性验证,来保证组件的可复用性~propTypes和defaultProps.propTypes用来设置属性是否必须,类型等.defaultProps就是用来设置属性的默认值.这里,设置this.children属性是必须的,并且如果你不写的话,他就会使用默认值,defa</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">villainhr</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>7</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000016481132" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">前端进阶（13） - 搭建自己的前端脚手架</h5>
                                <p class="mb-2 text-truncate text-secondary">一般新开发一个项目时，我们会首先搭建好一个脚手架，然后才会开始写代码。搭建脚手架可以用create-react-app、vue-cli、yeoman等命令行工具，也可以直接用html5-boilerplate、react-boilerplate、hackathon-starter等模板，如果这些都不能满足你的个性化需求，可以尝试搭建自己的前端脚手架。一般来说，脚手架包括目录结构定义、必要的项目配置</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">senntyou</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>503</span>
                                </p>
                            </a><a href="http://segmentfault.com/a/1190000012646438" target="_blank" class="list-group-item list-group-item-action py-3">
                                <h5 class="text-body">前端基础进阶（十五）：详解 ES6 Modules</h5>
                                <p class="mb-2 text-truncate text-secondary">对于新人朋友来说，想要自己去搞定一个ES6开发环境并不是一件容易的事情，因为构建工具的学习本身又是一个非常大的方向，我们需要花费不少的时间才能掌握它。好在慢慢的开始有大神提供了一些非常简单易懂，学习成本非常低的解决方案来帮助大家学习。create-react-app就是这些解决方案中，个人认为最简单易懂的一种方式。所以在学习ES6modules之前，先跟大家介绍一下create-react-app</p>
                                <p class="text-secondary mb-0 font-size-14">
                                    <span class="text-primary">九死蚕传人bo</span>
                                    <span class="split-dot"></span>
                                    阅读
                                    <span>89</span>
                                </p>
                            </a></div>
                    </div>

                </div>

                                <div class="col-12 col-xl-auto">
                    <div class="w-xl-300">
                                                    <div class="blog card mb-4 border-0">
                                <div class="card-body">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="media-avatar rounded mr-3" aria-hidden="true"></div>
                                        <div style="flex:1">
                                            <h5><a class="text-body" href="https://segmentfault.com/blog/webyouxuan">前端优选</a></h5>
                                            <span class="badge badge-primary" style="background-color: #007bff">用户专栏</span>
                                        </div>
                                    </div>
                                    <p class="text-secondary text-truncate-2">前端最新前沿技术讲解，攀登技术高峰！</p>
                                    <div class="d-flex mb-3">
                                        <div class="mr-4">
                                            <strong id="blog-followers-count" class="followNum">15</strong>
                                            <span class="text-secondary">人关注</span>
                                        </div>
                                        <div>
                                            <strong>3</strong>
                                            <span class="text-secondary">篇文章</span>
                                        </div>
                                    </div>
                                                                        <div class="d-flex">
                                                                                    <button type="button" class="btn btn-primary mr-2 sf_do" data-number-tag-class="followNum" data-dotype="post" data-content="{&quot;type&quot;:&quot;state&quot;,&quot;state&quot;:false,&quot;true&quot;:&quot;\u5173\u6ce8\u4e13\u680f&quot;,&quot;false&quot;:&quot;\u6b63\u5728\u5173\u6ce8&quot;}" data-api="/iteration/api/blog/1200000020709950/follow">关注专栏
                                            </button>
                                        
                                        <a class="btn btn-outline-primary" href="https://segmentfault.com/blog/webyouxuan">专栏主页</a>
                                    </div>
                                </div>
                            </div><div></div>
                            <!-- / 专栏信息 -->
                        
                        <div class="card border-0 overflow-hidden d-none d-xl-flex justify-content-center align-items-center float-ads mt-4" data-fix="" style="width: 300px;">
                            <script type="text/javascript">
                              OA_show(1);
                            </script><div id="OA_holder_1"><div style="line-height: 0"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/k=2170677&amp;p=7aLeJ&amp;dx=__IPDX__&amp;rt=2&amp;pro=s&amp;ns=__IP__&amp;ni=__IESID__&amp;v=__LOC__&amp;xa=__ADPLATFORM__&amp;tr=__REQUESTID__&amp;vg=__AUTOPLAY__&amp;nh=__AUTOREFRESH__&amp;o=&amp;deab044c04" style="display: none"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=278__zoneid=1__cb=deab044c04__oadest=https%3A%2F%2Fe.cn.miaozhen.com%2Fr%2Fk%3D2170677%26p%3D7aLeJ%26dx%3D__IPDX__%26rt%3D2%26pro%3Ds%26ns%3D__IP__%26ni%3D__IESID__%26v%3D__LOC__%26xa%3D__ADPLATFORM__%26tr%3D__REQUESTID__%26o%3Dhttps%3A%2F%2Factivity.huaweicloud.com%2Fdiscount_area_v5%2Findex.html%3Futm_source%3Dsegmentfault%26utm_medium%3Dbanner%26utm_campaign%3D10056%26utm_content%3D%26utm_term%3D%26utm_adplace%3DAdPlace024691" target="_blank"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/2dc43e62d1e3e2bfea8fbcd68f6395d0.jpg" width="300" height="250" alt="" title="" border="0"></a><div id="beacon_deab044c04" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(3).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div></div>
</div>
                        </div>
                        <!-- / 矩形广告位 -->

                        <div class="card border-0 d-none d-xl-flex mt-4">
                            <div class="card-body">
                                <div class="text-center mb-3">
                                    <div class="mb25 hidden-md hidden-sm hidden-xs">
    <img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/20200523.png" alt="Planets" usemap="#gridsMap" width="255" height="136">
    <map name="gridsMap" id="gridsMap"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000022197859)" coords="238,119,255,136" href="https://segmentfault.com/sponsor/1750000022197859/redirect" stitle="萌搜 小众搜索引擎"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000022460532)" coords="153,68,238,85" href="https://segmentfault.com/sponsor/1750000022460532/redirect" stitle="超好用的接口管理工具"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000022592809)" coords="119,51,238,68" href="https://segmentfault.com/sponsor/1750000022592809/redirect" stitle="好工作，在家做 | 快速发布职位，平均6小时上岗"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000022679001)" coords="119,119,136,136" href="https://segmentfault.com/sponsor/1750000022679001/redirect" stitle="Web前端开发笔记"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000022710408)" coords="0,0,119,34" href="https://segmentfault.com/sponsor/1750000022710408/redirect" stitle="华为云服务器大促限时 99 元/年"></map>
    <div style="text-align: center;"><a style="color:#9E9E9E; font-size:12px" href="https://segmentfault.com/sponsor">广告位促销，月曝光三千万，10 元/天</a></div>
        <script async="" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/20200523.js"></script>
</div>
                                </div>

                                <div class="side-promote-link">
                                    <script type="text/javascript">
                                      OA_show(7);
                                      OA_show(9);
                                      OA_show(10);
                                      OA_show(15);
                                      OA_show(16);
                                    </script><div id="OA_holder_7"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=279__zoneid=7__cb=252f06d85e__oadest=https%3A%2F%2Fe.cn.miaozhen.com%2Fr%2Fk%3D2170677%26p%3D7aLeK%26dx%3D__IPDX__%26rt%3D2%26pro%3Ds%26ns%3D__IP__%26ni%3D__IESID__%26v%3D__LOC__%26xa%3D__ADPLATFORM__%26tr%3D__REQUESTID__%26o%3Dhttps%3A%2F%2Factivity.huaweicloud.com%2Fdiscount_area_v5%2Findex.html%3Futm_source%3Dsegmentfault%26utm_medium%3Dbanner%26utm_campaign%3D10056%26utm_content%3D%26utm_term%3D%26utm_adplace%3DAdPlace027032" target="_blank"><b>华为1核2G云主机99元/年 🔥🔥</b><br>
<small style="color: #6c757d">注册领取1000元上云礼包！</small></a><div id="beacon_252f06d85e" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(4).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_9"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=217__zoneid=9__cb=e086f423ea__oadest=https%3A%2F%2Fsegmentfault.com%2Fls%2F1650000021531837" target="_blank"><strong>如何升级 Vue 3 版本？</strong><br>
<small style="color: #6c757d">应该怎么准备都在这儿了</small></a><div id="beacon_e086f423ea" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(5).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_10"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=53__zoneid=10__cb=e2e92cbe15__oadest=https%3A%2F%2Fsegmentfault.com%2Fls%2F1650000016424063" target="_blank"><strong>如何将 iView 应用到实际项目中？</strong><br>
<small style="color: #6c757d"><span style="color: #dc3545">限时</span> | 知名开源组件库作者讲授</small></a><div id="beacon_e2e92cbe15" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(6).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_15"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=47__zoneid=15__cb=b89b404dd8__oadest=https%3A%2F%2Fsegmentfault.com%2Fls%2F1650000016221751" target="_blank"><strong>如何学习 Vue 技术栈开发？</strong><br>
<small style="color: #6c757d"><span style="color: #dc3545">限时</span> | 带你掌握 Vue 精髓</small></a><div id="beacon_b89b404dd8" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(7).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_16"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=221__zoneid=16__cb=0c556e58b5__oadest=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000021689636" target="_blank"><strong>Python 最佳实践</strong><br>
<small style="color: #6c757d">把 Python 写优雅的最佳实践</small></a><div id="beacon_0c556e58b5" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(8).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div>
                                </div>
                            </div>
                        </div>
                        <!-- / 格子广告、链接广告 -->

                        <div class="card border-0 overflow-hidden d-none d-xl-flex" data-article-nav="" data-fix="" style="top: 250px; margin-top: 48px; width: 300px;">
                            <div class="card-body">
                                <h6 class="pt-3 position-relative bg-white" style="margin-top:-1.25rem; height:45px">
                                    目录</h6>
                                <nav id="article-nav-list" data-article-nav-list="" class="font-size-14">

                                <a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-1" data-offsettop="1325">1.剖析Vue Composition API</a><a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-2" data-offsettop="1350">2.源码目录剖析</a><a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-3" data-offsettop="1375">3.Vue2.0响应式原理机制 - defineProperty</a><a class="nav-link text-secondary py-0 pr-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-3-1" data-offsettop="1400">3.1 对对象进行拦截</a><a class="nav-link text-secondary py-0 pr-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-3-2" data-offsettop="1425">3.2 数组方法劫持</a><a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-4" data-offsettop="1450">4.Vue3.0数据响应机制 - Proxy</a><a class="nav-link text-secondary py-0 pr-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-4-3" data-offsettop="1475">4.1 reactive方法实现</a><a class="nav-link text-secondary py-0 pr-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-4-4" data-offsettop="1500">4.2 effect实现</a><a class="nav-link text-secondary py-0 pr-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-4-5" data-offsettop="1525">4.3 ref实现</a><a class="nav-link text-secondary py-0 pr-0 my-1 text-truncate active" href="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest#item-4-6" data-offsettop="1550">4.4 computed实现</a></nav>
                            </div>
                        </div>
                        <!-- / 目录 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
      var ARTICLE = {
        articleId: 1190000020709962,
        title: "快速进阶Vue3.0",
        isLiked: false,
        votes: 57,
        isBookmarked: false,
        bookmarks: 38,
        canReward: false
      }
    </script>

    







<script type="text/javascript">
  OA_show(4);
</script><div id="OA_holder_4"><div id="beacon_9b5f7292e0" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/lg(9).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div>

<footer id="footer" class="bg-white py-5 font-size-14">
    <div class="container">
        <div class="row">
            <dl class="col-4 col-md-2">
                <dt class="h6">产品</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/questions/hottest?utm_source=sf-footer" target="_blank">热门问答</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blogs/hottest?utm_source=sf-footer" target="_blank">热门专栏</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives?utm_source=sf-footer" target="_blank">热门课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/events?utm_source=sf-footer" target="_blank">最新活动</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/groups?utm_source=sf-footer" target="_blank">技术圈</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/groups?tab=jobs&amp;utm_source=sf-footer" target="_blank">酷工作</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/app?utm_source=sf-footer" target="_blank">移动客户端</a></dd>
                            </dl>

            <dl class="col-4 col-md-2">
                <dt class="h6">课程</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?tag=java&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">Java 开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?tag=php&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">PHP 开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?tag=python&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">Python 开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?category=1&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">前端开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/study?category=3&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">移动开发课程</a></dd>
                            </dl>

            <dl class="col-4 col-md-2 ">
                <dt class="h6">资源</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/weekly?utm_source=sf-footer" target="_blank">每周精选</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/users?utm_source=sf-footer" target="_blank">用户排行榜</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/badges?utm_source=sf-footer" target="_blank">徽章</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/faq?utm_source=sf-footer" target="_blank">帮助中心</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/repu?utm_source=sf-footer" target="_blank">声望与权限</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/community?utm_source=sf-footer" target="_blank">社区服务中心</a></dd>
                            </dl>

            <dl class="col-4 col-md-2">
                <dt class="h6">合作</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://about.segmentfault.com/?utm_source=sf-footer" target="_blank">关于我们</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://business.segmentfault.com/ads?utm_source=sf-footer" target="_blank">广告投放</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/groups?tab=jobs&amp;utm_source=sf-footer" target="_blank">职位发布</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://jinshuju.net/f/HK5r9K?utm_source=sf-footer" target="_blank">讲师招募</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://about.segmentfault.com/contact.html?utm_source=sf-footer" target="_blank">联系我们</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/link?utm_source=sf-footer" target="_blank">合作伙伴</a></dd>
                            </dl>

            <dl class="col-4 col-md-2">
                <dt class="h6">关注</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/segmentfault?utm_source=sf-footer" target="_blank">产品技术日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/community_admin?utm_source=sf-footer" target="_blank">社区运营日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/segmentfault_news?utm_source=sf-footer" target="_blank">市场运营日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/segmentfault_team?utm_source=sf-footer" target="_blank">团队日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/interview?utm_source=sf-footer" target="_blank">社区访谈</a></dd>
                            </dl>

            <dl class="col-4 col-md-2" id="license">
                <dt class="h6">条款</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/tos?utm_source=sf-footer" target="_blank">服务条款</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/privacy?utm_source=sf-footer" target="_blank">隐私政策</a></dd>
                                <dd class="my-1">
                    <a class="text-secondary" href="https://segmentfault.com/app?utm_source=sf-footer">下载 App</a>
                </dd>
                <dd class="my-1">
                    <div class="weixin-qrcode ml-n1" title="微信公众号"></div>
                </dd>
            </dl>
        </div>
        <hr class="mt-2 mb-4">
        <div class="row">
            <div class="col-md-8">
                <div class="text-secondary">
                    <p class="mb-1">Copyright © 2011-2020 SegmentFault. 当前呈现版本 19.02.27</p>
                    <p class="mb-0">
                        <a class="text-secondary mr-2" target="_blank" href="http://beian.miit.gov.cn/" rel="nofollow">浙ICP备 15005796号-2</a>
                        <a class="text-secondary mr-2" target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000" rel="nofollow">浙公网安备 33010602002000号</a>
                        杭州堆栈科技有限公司版权所有
                    </p>
                </div>
            </div>
            <div class="col-md-4 text-right">
                <div class="shareContent ">
                <a class="share_weixin" data-share="weixin" href="javascript:;" data-original-title="" title=""><svg class="svg-inline--fa fa-weixin fa-w-18 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weixin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"></path></svg><!-- <i class="fab fa-weixin fa-fw"></i> --> </a><a class="share_weibo" data-share="weibo" href="http://weibo.com/segmentfault" target="_blank"><svg class="svg-inline--fa fa-weibo fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weibo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"></path></svg><!-- <i class="fab fa-weibo fa-fw"></i> --> </a><a class="share_github" data-share="github" href="https://github.com/SegmentFault" target="_blank"><svg class="svg-inline--fa fa-github fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-fw"></i> --> </a><a class="share_twitter" data-share="twitter" href="https://twitter.com/segment_fault" target="_blank"><svg class="svg-inline--fa fa-twitter fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fab fa-twitter fa-fw"></i> --> </a></div>
            </div>
        </div>
    </div>
</footer>
<script>
    window.serverTime = 1590164051000;
</script>

<script>
(function (w) {
    w.SF = {
        staticUrl: "https://assets.segmentfault.com/v-5ec63ef9/"
    };
    w.SF.token = (function () {
    var _LhJF = 'c1f'//'z'
+'b'//'TU'
+//'M'
'30d'+''///*'Ic'*/'Ic'
+//'du'
'a76'+//'t'
'3f2'+//'H'
'1'+//'VnX'
'836'+''///*'k5y'*/'k5y'
+'fa6'//'MgX'
+'09'//'7q8'
+''///*'noc'*/'noc'
+'5c'//'TKZ'
+'cc'//'L'
+'f07'//'U'
+//'Y'
'48'+'rMG'//'rMG'
+'HqK'//'HqK'
+//'Td'
'Td'+'m'//'m'
+'5'//'XX'
, _IJ6omrj = [[31,34],[31,34],[31,33],[31,32]];

    for (var i = 0; i < _IJ6omrj.length; i ++) {
        _LhJF = _LhJF.substring(0, _IJ6omrj[i][0]) + _LhJF.substring(_IJ6omrj[i][1]);
    }

    return _LhJF;
})();;

    })(window);

var lock = {
    type: "",
    text: '',
    table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
};

    var ddosMode = false;

(function (currentUrl) {
if (typeof URL != 'undefined') {
    var baseUrl = new URL('https://segmentfault.com');

    if (baseUrl.protocol != currentUrl.protocol || baseUrl.host != currentUrl.host) {
            window.location.href = baseUrl.protocol + '//' + baseUrl.host
                + currentUrl.pathname + currentUrl.search + currentUrl.hash;
        }
    }
})(window.location);
</script>

<script src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/jquery.js"></script>
<script src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/vendors.js"></script>
<script src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/detail.bundle.js"></script>

<script>
    if (!!navigator.userAgent.match(/MicroMessenger/i)) {
        $.getScript(`https://res.wx.qq.com/open/js/jweixin-1.2.0.js`,function(){
            var share = {"title":"\u5feb\u901f\u8fdb\u9636Vue3.0","desc":"\u57282019.10.5\u65e5\u53d1\u5e03\u4e86Vue3.0\u9884\u89c8\u7248\u6e90\u7801\uff0c\u4f46\u662f\u9884\u8ba1\u6700\u65e9\u9700\u8981\u7b49\u5230 2020 \u5e74\u7b2c\u4e00\u5b63\u5ea6\u624d\u6709\u53ef\u80fd\u53d1\u5e03 3.0 \u6b63\u5f0f\u7248\u3002 \u53ef\u4ee5\u76f4\u63a5\u770b github\u6e90\u7801\u3002 \u65b0\u7248Vue 3.0\u8ba1\u5212\u5e76\u5df2\u5b9e\u73b0\u7684\u4e3b\u8981\u67b6\u6784\u6539\u8fdb\u548c\u65b0\u529f\u80fd\uff1a \u7f16\u8bd1\u5668\uff08Compiler\uff09 \u4f7f\u7528\u6a21\u5757\u5316\u67b6\u6784 \u4f18\u5316 \"Block tree\" \u66f4\u6fc0\u8fdb\u7684 static tree hoisting \u529f\u80fd \uff08\u68c0\u6d4b\u9759\u6001\u8bed\u6cd5\uff0c\u8fdb\u884c\u63d0\u5347\uff09 \u652f\u6301 Source ...","link":"https:\/\/segmentfault.com\/a\/1190000020709962","imgUrl":"https:\/\/segmentfault.com\/img\/remote\/1460000020709966"};
            share.title += ' - SegmentFault 思否';
            share.imgUrl = "https://assets.segmentfault.com/v-5ec63ef9/global/img/static/touch-icon.png";
            $.getJSON('/api/util/weixin/jsapi', function (o) {
                methods = o.data.jsApiList.slice();

                wx.config(o.data);
                wx.error(console.error);
                wx.ready(function () {
                    methods.forEach(function (method) {
                    wx[method](share);
                    });
                });
            });
        })
    }
</script>




<iframe id="p_analyse_iframe" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/saved_resource.html" style="display: none;"></iframe><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><iframe id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/ads(1).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" data-load-complete="true"></iframe></ins></ins></ins>
    <div class="is-active ImageView p-4" style="display: none;">
        <div class="ImageView-inner" style="overflow: auto;">
            <img src="https://segmentfault.com/a/1190000020709962?utm_source=tag-newest" class="ImageView-img" alt="preview" style="max-width: 100%">
        </div>
    </div><div id="fixedTools" class="position-fixed d-none d-xl-flex" style="right: 24px; bottom: 24px">
            <button type="button" class="btn btn-light" title="回顶部">▲</button>
        </div><div id="atwho-container"><div id="atwho-ground-dd3c71b41590164052969"><div class="atwho-view" id="at-view-64"><ul class="atwho-view-ul"></ul></div></div></div><iframe id="google_osd_static_frame_4736127452152" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/saved_resource(1).html"></iframe></body><iframe id="google_esf" name="google_esf" src="./快速进阶Vue3.0 - 前端优选 - SegmentFault 思否_files/zrt_lookup.html" data-ad-client="ca-pub-6330872677300335" style="display: none;"></iframe></html>
<!DOCTYPE html>
<!-- saved from url=(0047)https://juejin.im/post/5ebcf12df265da7bc55df460 -->
<html lang="zh-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><meta name="google-site-verification" content="cCHsgG9ktuCTgWgYfqCJql8AeR4gAne4DTZqztPoirE"><meta name="google-site-verification" content="nPvn9R5NJLsZKTv5VKIbn0OmkRcJ4PC6KdDoTX3n5Mw"><meta name="apple-itunes-app" content="app-id=987739104"><meta name="baidu-site-verification" content="qiK2a1kcFc"><meta name="360-site-verification" content="4c3c7d57d59f0e1a308462fbc7fd7e51"><meta name="sogou_site_verification" content="c49WUDZczQ"><style>body {
        font-size: 16px;
        line-height: 2;
      }
      a, button, input {
        margin: 1rem 1.5rem;
      }
      img {
        width: 0;
        height: 0;
      }
      #juejin {
        overflow-x: hidden;
      }</style><title data-vue-meta="true">可能是最详细的React组件库搭建总结 - 掘金</title><link rel="apple-touch-icon" sizes="180x180" href="https://b-gold-cdn.xitu.io/favicons/v2/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-16x16.png"><link rel="manifest" href="https://b-gold-cdn.xitu.io/favicons/v2/manifest.json"><link rel="mask-icon" href="https://b-gold-cdn.xitu.io/favicons/v2/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico"><meta name="msapplication-config" content="https://b-gold-cdn.xitu.io/favicons/v2/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="search" title="掘金" href="https://b-gold-cdn.xitu.io/conf/search.xml" type="application/opensearchdescription+xml"><link rel="stylesheet" href="./可能是最详细的React组件库搭建总结 - 掘金_files/ionicons.min.css"><link rel="stylesheet" href="./可能是最详细的React组件库搭建总结 - 掘金_files/iconfont.css"><link href="./可能是最详细的React组件库搭建总结 - 掘金_files/0.f1fc61eda29199ce1f45.css" rel="stylesheet"><script async="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/hm.js"></script><script async="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/analytics.js"></script><script type="text/javascript" async="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/vds.js"></script><script type="text/javascript" async="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect-v.3.2.14.js"></script><script charset="utf-8" src="./可能是最详细的React组件库搭建总结 - 掘金_files/4.281438b56343cf12fa0b.js"></script><meta data-vmid="keywords" name="keywords" content="React.js,前端" data-vue-meta="true"><meta data-vmid="description" name="description" content="2020.05.21-10:30 更新： docz在windows平台存在Bug，暂未修复，建议使用WSL + VSCode运行本项目。 2020.05.18-10:36 更新： 部分代码可展开-优化阅读体验； 除去部分口语化表达。 202" data-vue-meta="true"></head><body><div id="juejin" data-v-2a21baac=""><div class="global-component-box" data-v-2a21baac=""><!----><div data-v-5ef5fb43="" data-v-2a21baac="" class="alert-list alert-list"></div><div data-v-15608c17="" data-v-2a21baac="" class="suspension-panel suspension-panel"><button data-v-15608c17="" title="回到顶部" class="btn to-top-btn" style=""><i data-v-15608c17="" class="ion-android-arrow-dropup"></i></button><button data-v-15608c17="" title="建议反馈" class="btn meiqia-btn" style=""><i data-v-15608c17="" class="ion-chatbubble-working"></i></button></div><!----><!----><div class="emoji-barrage" data-v-94fd086c="" data-v-2a21baac=""><!----></div><div class="book-new-user-award-popup" style="display:none;" data-v-22fa60e5="" data-v-2a21baac=""><div class="content-box" style="display:;" data-v-22fa60e5=""><div class="close ion-close-round" data-v-22fa60e5=""></div><div class="header" data-v-22fa60e5=""><div class="icon" data-v-22fa60e5=""><img src="./可能是最详细的React组件库搭建总结 - 掘金_files/icon.a87e5ae.svg" data-v-22fa60e5=""></div><div class="txt" data-v-22fa60e5="">新人专享好礼</div></div><div class="desc" data-v-22fa60e5="">凡未购买过小册的用户，均可领取三张 5 折新人专享券，购买小册时自动使用专享券，最高可节省 45 元。</div><div class="tickets" data-v-22fa60e5=""><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div></div><div class="remark" data-v-22fa60e5="">注：专享券的使用期限在领券的七天内。</div><div class="submit-btn" data-v-22fa60e5="">一键领取</div></div><div class="model success" style="display:none;" data-v-22fa60e5=""><div class="heading" data-v-22fa60e5="">领取成功</div><div class="content-text" data-v-22fa60e5="">购买小册时自动使用专享券</div><div class="btn-success-footer" data-v-22fa60e5=""><div class="btn-ok" data-v-22fa60e5="">知道了</div><div class="btn-ok btn-link" data-v-22fa60e5="">前往小册首页</div></div></div><div class="model fail" style="display:none;" data-v-22fa60e5=""><div class="heading" data-v-22fa60e5="">领取失败</div><div class="content-text" data-v-22fa60e5="">本活动仅适用于小册新用户</div><div class="btn-ok" data-v-22fa60e5="">知道了</div></div></div><!----><!----><div class="bind-phone-number-modal-box" data-v-269c0ad0="" data-v-2a21baac=""><div st:block="bindPhoneNumberModal" class="modal-mask" style="display:none;" data-v-269c0ad0=""></div><form class="bind-phone-number-form" style="display:none;" data-v-269c0ad0=""><i title="关闭" class="close-btn ion-close-round" data-v-269c0ad0=""></i><h1 class="title" data-v-269c0ad0="">提示</h1><h2 class="hint" data-v-269c0ad0="">根据我国<a href="http://www.cac.gov.cn/2017-08/25/c_1121541842.htm" target="_blank" style="color:#007fff">《互联网跟帖评论服务管理规定》</a>，您需要绑定手机号后才可在掘金社区内发布内容。</h2><div class="input-group" data-v-269c0ad0=""><div class="input-box" data-v-269c0ad0=""><input maxlength="64" placeholder="请输入要绑定的手机号码" value="" class="input" data-v-269c0ad0=""></div><!----><!----></div><button st:name="bindBtn" class="btn" data-v-269c0ad0="">绑定手机</button></form></div></div><!----><div data-v-6fdc8784="" data-v-fa2339b8="" data-v-2a21baac="" class="view-container"><div data-v-6fdc8784="" class="main-header-box"><header data-v-0c56945c="" data-v-6fdc8784="" class="main-header main-header"><div data-v-0c56945c="" class="container"><a data-v-0c56945c="" href="https://juejin.im/" class="logo"><img data-v-0c56945c="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/logo.a7995ad.svg" alt="掘金" class="logo-img"><img data-v-0c56945c="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/simplify-logo.3e3c253.svg" alt="掘金" class="mobile"></a><nav data-v-0c56945c="" role="navigation" class="main-nav"><ul data-v-0c56945c="" class="nav-list"><li data-v-0c56945c="" class="main-nav-list"><div data-v-0c56945c="" class="phone-show-menu"><span data-v-0c56945c="">首页</span><div data-v-0c56945c="" class="icon ion-arrow-down-b"></div></div><ul data-v-0c56945c="" class="phone-hide"><li data-v-0c56945c="" class="nav-item link-item route-active"><a data-v-0c56945c="" href="https://juejin.im/">首页</a></li><li data-v-0c56945c="" class="nav-item link-item activities"><a data-v-0c56945c="" href="https://juejin.im/pins">沸点</a></li><li data-v-0c56945c="" class="nav-item link-item"><a data-v-0c56945c="" href="https://juejin.im/topics">话题</a></li><li data-v-0c56945c="" class="nav-item link-item book"><a data-v-0c56945c="" href="https://juejin.im/books">小册</a></li><li data-v-0c56945c="" class="nav-item link-item"><a data-v-0c56945c="" href="https://juejin.im/events/all">活动</a></li></ul></li><li data-v-0c56945c="" class="nav-item search"><form data-v-0c56945c="" role="search" class="search-form"><input data-v-0c56945c="" type="search" maxlength="32" placeholder="搜索掘金" class="search-input"><img data-v-0c56945c="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/juejin-search-icon.6f8ba1b.svg" alt="搜索" class="search-icon"></form></li><li data-v-0c56945c="" class="nav-item add"><div data-v-0c56945c="" class="add-group"><button data-v-0c56945c="" class="add-btn">写文章</button><div data-v-0c56945c="" class="more"><i data-v-0c56945c="" class="more-icon ion-android-arrow-dropdown"></i></div><ul data-v-0c56945c="" class="more-list"><li data-v-0c56945c="" class="item">发布沸点</li><li data-v-0c56945c="" class="item">分享链接</li><!----></ul></div><!----></li><li data-v-0c56945c="" class="nav-item notification"><a data-v-0c56945c="" class="app-link" href="https://juejin.im/notification" target="_blank"><i data-v-0c56945c="" class="icon ion-android-notifications"></i><!----></a></li><li data-v-0c56945c="" class="nav-item menu"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-0c56945c="" data-src="https://mirror-gold-cdn.xitu.io/168e08d6d9e8b3febec?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded immediate" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08d6d9e8b3febec?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div><!----><ul data-v-0c56945c="" class="nav-menu user-dropdown-list" style="display: none;"><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-write"></i><span data-v-0c56945c="">写文章</span></a></li><!----><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-draft"></i><span data-v-0c56945c="">草稿</span></a></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5a5f6102f265da3e3a6dd3b0" class="link-icon"><i data-v-0c56945c="" class="fengwei fw-person"></i><span data-v-0c56945c="">我的主页</span><!----></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5a5f6102f265da3e3a6dd3b0/likes"><img data-v-0c56945c="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="zan"><span data-v-0c56945c="">我赞过的</span></a></li><!----><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5a5f6102f265da3e3a6dd3b0/collections"><img data-v-0c56945c="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="collect"><span data-v-0c56945c="">我的收藏集</span></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5a5f6102f265da3e3a6dd3b0/books?type=bought"><i data-v-0c56945c="" class="fengwei fw-bought"></i><span data-v-0c56945c="">已购</span></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/subscribe"><i data-v-0c56945c="" class="fengwei fw-tag"></i><span data-v-0c56945c="">标签管理</span></a></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/settings"><i data-v-0c56945c="" class="fengwei fw-setting"></i><span data-v-0c56945c="">设置</span></a></li><li data-v-0c56945c="" class="nav-menu-item more"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-info"></i><span data-v-0c56945c="">关于</span><i data-v-0c56945c="" class="ion-chevron-right more-icon"></i></a><ul data-v-0c56945c="" class="nav-menu more-dropdown-list"><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/app" target="_blank">下载应用</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/about" target="_blank">关于</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://xitu.io/jobs" target="_blank">加入我们</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://github.com/xitu/gold-miner" rel="nofollow noopener noreferrer" target="_blank">翻译计划</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://bd.juejin.im/?utm_campaign=bd&amp;utm_source=web&amp;utm_medium=nav" target="_blank">合作伙伴</a></li></div></ul></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-logout"></i><span data-v-0c56945c="">登出</span></a></li></div></ul></li><!----><!----></ul></nav></div></header></div><main data-v-6fdc8784="" class="container main-container"><div data-v-fa2339b8="" data-v-6fdc8784="" class="view column-view"><div data-v-fa2339b8="" data-v-6fdc8784="" class="main-area article-area shadow"><article data-v-fa2339b8="" itemscope="itemscope" itemtype="http://schema.org/Article" class="article" data-v-6fdc8784=""><meta itemprop="url" content="https://juejin.im/post/5ebcf12df265da7bc55df460"><meta itemprop="headline" content="可能是最详细的React组件库搭建总结"><meta itemprop="keywords" content="React.js,前端"><meta itemprop="datePublished" content="2020-05-15T13:36:09.426Z"><meta itemprop="image" content="https://user-gold-cdn.xitu.io/2020/5/16/1721d18c531cd618?w=2880&amp;h=1800&amp;f=png&amp;s=463940"><div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="海秋"><meta itemprop="url" content="https://juejin.im/user/58a26aeb0ce4630056498dd6"></div><div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"><div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://b-gold-cdn.xitu.io/icon/icon-white-180.png"><meta itemprop="width" content="180"><meta itemprop="height" content="180"></div></div><div data-v-fa2339b8="" class="author-info-block"><a data-v-fa2339b8="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="avatar-link"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-fa2339b8="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a><div data-v-fa2339b8="" class="author-info-box"><a data-v-263f3a32="" data-v-fa2339b8="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username username ellipsis">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a></a><div data-v-fa2339b8="" class="meta-box"><time data-v-fa2339b8="" datetime="2020-05-15T13:36:09.426Z" title="Fri May 15 2020 21:36:09 GMT+0800 (中国标准时间)" class="time">2020年05月15日</time><span data-v-fa2339b8="" class="views-count">阅读 13202</span><!----></div></div><button data-v-5789daef="" data-v-fa2339b8="" class="follow-button follow">关注</button></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-fa2339b8="" data-src="https://user-gold-cdn.xitu.io/2020/5/16/1721d18c531cd618?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1" class="lazy thumb article-hero loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/16/1721d18c531cd618?imageView2/1/w/1304/h/734/q/85/format/webp/interlace/1&quot;); background-size: cover;"></div><h1 data-v-fa2339b8="" class="article-title">可能是最详细的React组件库搭建总结</h1><div data-v-fa2339b8="" data-id="5ebcf17c6fb9a043691d13b8" itemprop="articleBody" class="article-content"><blockquote>
<p>2020.05.21-10:30 更新：</p>
<ol>
<li>docz在windows平台存在<a target="_blank" href="https://github.com/doczjs/docz/issues/1310" rel="nofollow noopener noreferrer">Bug</a>，暂未修复，建议使用WSL + VSCode运行本项目。</li>
</ol>
</blockquote>
<hr>
<blockquote>
<p>2020.05.18-10:36 更新：</p>
<ol>
<li>部分代码可展开-优化阅读体验；</li>
<li>除去部分口语化表达。</li>
</ol>
</blockquote>
<hr>
<blockquote>
<p>2020.05.16-18:48 更新：</p>
<ol>
<li>增加文章头图;</li>
<li>增加在线预览地址。</li>
</ol>
</blockquote>
<p>在线预览：<a target="_blank" href="https://happy-ui.now.sh/" rel="nofollow noopener noreferrer">戳我 😘</a></p>
<p>本地预览：</p>
<pre><code class="hljs bash copyable" lang="bash">git <span class="hljs-built_in">clone</span> git@github.com:worldzhao/react-ui-library-tutorial.git
<span class="hljs-built_in">cd</span> react-ui-library-tutorial
yarn
yarn start
<span class="copy-code-btn">复制代码</span></code></pre><p>按顺序执行完命令后，即可在 localhost:3000 端口看到以下内容：</p>
<p></p><figure><img alt="preview.png" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/15/17218441a7ff2e42?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="695" src="./可能是最详细的React组件库搭建总结 - 掘金_files/17218441a7ff2e42"><figcaption></figcaption></figure><p></p>
<h2 class="heading" data-id="heading-0">概览</h2>
<p>本文包含以下内容：</p>
<ul>
<li>prepare: 组件库前期开发准备工作。<code>eslint</code>/<code>commit lint</code>/<code>typescript</code>等等；</li>
<li>dev: 使用<a target="_blank" href="https://github.com/doczjs/docz" rel="nofollow noopener noreferrer">docz</a>进行开发调试以及文档编写；</li>
<li>build: <s><code>umd</code></s>/<code>cjs</code>/<code>esm</code>、types、polyfill 以及按需加载；</li>
<li>test: 组件测试；</li>
<li>release: 组件库发布流程；</li>
<li>deploy: 使用<a target="_blank" href="https://zeit.co/home" rel="nofollow noopener noreferrer">now</a>部署文档站点，待补充；</li>
<li>other: 使用<a target="_blank" href="https://plopjs.com/" rel="nofollow noopener noreferrer">plop.js</a>快速创建组件模板。</li>
</ul>
<p>如果本文帮助到了你请给<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库</a> 一颗 ✨✨。</p>
<p>如果有错误烦请在评论区指正交流，谢谢。</p>
<p><a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库地址</a></p>
<h2 class="heading" data-id="heading-1">准备工作</h2>
<h3 class="heading" data-id="heading-2">初始化项目</h3>
<p>新建一个<code>happy-ui</code>文件夹，并初始化。</p>
<pre><code class="hljs bash copyable" lang="bash">mkdir happy-ui

<span class="hljs-built_in">cd</span> happy-ui

npm init --y

mkdir components &amp;&amp; <span class="hljs-built_in">cd</span> components &amp;&amp; touch index.ts <span class="hljs-comment"># 新建源码文件夹以及入口文件</span>

<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-3">代码规范</h3>
<p>此处直接使用<a target="_blank" href="https://github.com/umijs/fabric" rel="nofollow noopener noreferrer">@umijs/fabric</a>的配置。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add @umijs/fabric --dev

yarn add prettier --dev <span class="hljs-comment"># 因为@umijs/fabric没有将prettier作为依赖 所以我们需要手动安装</span>
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>.eslintrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">extends</span>: [<span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">'@umijs/fabric/dist/eslint'</span>)],
};
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>.prettierrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">const</span> fabric = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@umijs/fabric'</span>);

<span class="hljs-built_in">module</span>.exports = {
  ...fabric.prettier,
};
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>.stylelintrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">extends</span>: [<span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">'@umijs/fabric/dist/stylelint'</span>)],
};
<span class="copy-code-btn">复制代码</span></code></pre><p>想自行配置的同学可以参考以下文章：</p>
<ul>
<li><a target="_blank" href="https://medium.com/@dors718/linting-your-react-typescript-project-with-eslint-and-prettier-2423170c3d42" rel="nofollow noopener noreferrer">Linting Your React+Typescript Project with ESLint and Prettier!</a></li>
<li><a target="_blank" href="https://zhuanlan.zhihu.com/p/62401626" rel="nofollow noopener noreferrer">使用 ESLint+Prettier 规范 React+Typescript 项目 </a></li>
</ul>
<h3 class="heading" data-id="heading-4">Commit Lint</h3>
<p>进行<code>pre-commit</code>代码规范检测。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add husky lint-staged --dev
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>package.json</strong></p>
<pre><code class="hljs json copyable" lang="json">"lint-staged": {
  "components/**/*.ts?(x)": [
    "prettier --write",
    "eslint --fix",
    "git add"
  ],
  "components/**/*.less": [
    "stylelint --syntax less --fix",
    "git add"
  ]
},
"husky": {
  "hooks": {
    "pre-commit": "lint-staged"
  }
}
<span class="copy-code-btn">复制代码</span></code></pre><p>进行 Commit Message 检测。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add @commitlint/cli @commitlint/config-conventional commitizen cz-conventional-changelog --dev
<span class="copy-code-btn">复制代码</span></code></pre><p>新增<code>.commitlintrc.js</code>写入以下内容</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = { <span class="hljs-attr">extends</span>: [<span class="hljs-string">'@commitlint/config-conventional'</span>] };
<span class="copy-code-btn">复制代码</span></code></pre><p>package.json 写入以下内容：</p>
<pre><code class="hljs json copyable" lang="json">// ...
"scripts": {
  "commit": "git-cz",
}
// ...
"husky": {
  "hooks": {
    "commit-msg": "commitlint -E HUSKY_GIT_PARAMS",
    "pre-commit": "lint-staged"
  }
},
"config": {
  "commitizen": {
    "path": "cz-conventional-changelog"
  }
}
<span class="copy-code-btn">复制代码</span></code></pre><p>后续使用 <code>yarn commit</code> 替代 <code>git commit</code>生成规范的 Commit Message，当然为了效率你可以选择手写，但是要符合规范。</p>
<h3 class="heading" data-id="heading-5">TypeScript</h3>
<pre><code class="hljs bash copyable" lang="bash">yarn add typescript --dev
<span class="copy-code-btn">复制代码</span></code></pre><p>新建<code>tsconfig.json</code>并写入以下内容</p>
<pre><code class="hljs json copyable" lang="json">{
  <span class="hljs-attr">"compilerOptions"</span>: {
    <span class="hljs-attr">"baseUrl"</span>: <span class="hljs-string">"./"</span>,
    <span class="hljs-attr">"target"</span>: <span class="hljs-string">"esnext"</span>,
    <span class="hljs-attr">"module"</span>: <span class="hljs-string">"commonjs"</span>,
    <span class="hljs-attr">"jsx"</span>: <span class="hljs-string">"react"</span>,
    <span class="hljs-attr">"declaration"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"declarationDir"</span>: <span class="hljs-string">"lib"</span>,
    <span class="hljs-attr">"strict"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"moduleResolution"</span>: <span class="hljs-string">"node"</span>,
    <span class="hljs-attr">"allowSyntheticDefaultImports"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"esModuleInterop"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"resolveJsonModule"</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">"include"</span>: [<span class="hljs-string">"components"</span>, <span class="hljs-string">"global.d.ts"</span>],
  <span class="hljs-attr">"exclude"</span>: [<span class="hljs-string">"node_modules"</span>]
}
<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-6">测试</h3>
<p>在<code>components</code>文件夹下新建<code>alert</code>文件夹，目录结构如下：</p>
<pre><code class="hljs bash copyable" lang="bash">alert
    ├── alert.tsx           <span class="hljs-comment"># 源文件</span>
    ├── index.ts            <span class="hljs-comment"># 入口文件</span>
    ├── interface.ts        <span class="hljs-comment"># 类型声明文件</span>
    └── style
        ├── index.less      <span class="hljs-comment"># 样式文件</span>
        └── index.ts        <span class="hljs-comment"># 样式文件里为什么存在一个index.ts - 按需加载样式 管理样式依赖 后面章节会提到</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>安装<code>React</code>相关依赖：</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add react react-dom @types/react @types/react-dom --dev <span class="hljs-comment"># 开发时依赖，宿主环境一定存在</span>

yarn add prop-types            <span class="hljs-comment"># 运行时依赖，宿主环境可能不存在 安装本组件库时一起安装</span>
<span class="copy-code-btn">复制代码</span></code></pre><blockquote>
<p>此处依旧安装了<code>prop-types</code>这个库，因为无法保证宿主环境也使用<code>typescript</code>，从而能够进行静态检查，故使用<code>prop-types</code>保证<code>javascript</code>用户也能得到友好的运行时报错信息。</p>
</blockquote>
<p><strong>components/alert/interface.ts</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">export</span> type Kind = <span class="hljs-string">'info'</span> | <span class="hljs-string">'positive'</span> | <span class="hljs-string">'negative'</span> | <span class="hljs-string">'warning'</span>;
<span class="hljs-keyword">export</span> type KindMap = Record&lt;Kind, string&gt;;

<span class="hljs-keyword">export</span> interface AlertProps {
  <span class="hljs-comment">/**
   * Set this to change alert kind
   * @default info
   */</span>
  kind?: <span class="hljs-string">'info'</span> | <span class="hljs-string">'positive'</span> | <span class="hljs-string">'negative'</span> | <span class="hljs-string">'warning'</span>;
}
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/alert/alter.tsx</strong></p>
<pre><code class="hljs jsx copyable" lang="jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> t <span class="hljs-keyword">from</span> <span class="hljs-string">'prop-types'</span>;

<span class="hljs-keyword">import</span> { AlertProps, KindMap } <span class="hljs-keyword">from</span> <span class="hljs-string">'./interface'</span>;

<span class="hljs-keyword">const</span> prefixCls = <span class="hljs-string">'happy-alert'</span>;

<span class="hljs-keyword">const</span> kinds: KindMap = {
  <span class="hljs-attr">info</span>: <span class="hljs-string">'#5352ED'</span>,
  <span class="hljs-attr">positive</span>: <span class="hljs-string">'#2ED573'</span>,
  <span class="hljs-attr">negative</span>: <span class="hljs-string">'#FF4757'</span>,
  <span class="hljs-attr">warning</span>: <span class="hljs-string">'#FFA502'</span>,
};

<span class="hljs-keyword">const</span> Alert: React.FC&lt;AlertProps&gt; = <span class="hljs-function">(<span class="hljs-params">{ children, kind = <span class="hljs-string">'info'</span>, ...rest }</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
    <span class="hljs-attr">className</span>=<span class="hljs-string">{prefixCls}</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">background:</span> <span class="hljs-attr">kinds</span>[<span class="hljs-attr">kind</span>],
    }}
    {<span class="hljs-attr">...rest</span>}
  &gt;</span>
    {children}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);

Alert.propTypes = {
  <span class="hljs-attr">kind</span>: t.oneOf([<span class="hljs-string">'info'</span>, <span class="hljs-string">'positive'</span>, <span class="hljs-string">'negative'</span>, <span class="hljs-string">'warning'</span>]),
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Alert;
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/alert/index.ts</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">import</span> Alert <span class="hljs-keyword">from</span> <span class="hljs-string">'./alert'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Alert;

<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./interface'</span>;
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/alert/style/index.less</strong></p>
<pre><code class="hljs less copyable" lang="less"><span class="hljs-variable">@popupPrefix:</span> happy-alert;

<span class="hljs-selector-class">.@{popupPrefix}</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;
  <span class="hljs-attribute">color</span>: white;
}
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/alert/style/index.ts</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-string">'./index.less'</span>;
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/index.ts</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> Alert } <span class="hljs-keyword">from</span> <span class="hljs-string">'./alert'</span>;
<span class="copy-code-btn">复制代码</span></code></pre><blockquote>
<p>此处组件参考的<code>docz</code>项目<code>typescript</code>以及<code>less</code>示例。</p>
</blockquote>
<p>git 一把梭，可以看到控制台已经进行钩子检测了。</p>
<pre><code class="hljs bash copyable" lang="bash">git add .

yarn commit  <span class="hljs-comment"># 或 git commit -m'feat: chapter-1 准备工作'</span>

git push
<span class="copy-code-btn">复制代码</span></code></pre><p>准备工作完成。代码可以在<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库</a>的<code>chapter-1</code>分支获取，若存在与本文内容不符的地方，以<code>master</code>分支以及文章为准。</p>
<h2 class="heading" data-id="heading-7">开发与调试</h2>
<p>本节解决开发组件时的预览以及调试问题，顺路解决文档编写。</p>
<p>此处选择<a target="_blank" href="https://github.com/doczjs/docz" rel="nofollow noopener noreferrer">docz</a>来辅助预览调试。</p>
<blockquote>
<p><code>docz</code>基于<code>MDX</code>（Markdown + JSX），可以在 Markdown 中引入 React 组件，使得一边编写文档，一边预览调试成为了可能。而且得益于 React 组件生态，我们可以像编写应用一般编写文档，不仅仅是枯燥的文字。<code>docz</code> 也内置了一些组件，比如<code>&lt;Playground&gt;</code>。</p>
</blockquote>
<h3 class="heading" data-id="heading-8">安装 docz 以及自定义配置</h3>
<pre><code class="hljs bash copyable" lang="bash">yarn add docz --dev

yarn add rimraf --dev <span class="hljs-comment"># 清空目录的一个辅助库</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>增加 <code>npm scripts</code> 至 <code>package.json</code>。</p>
<pre><code class="hljs json copyable" lang="json">"scripts": {
  "dev": "docz dev", // 启动本地开发环境
  "start": "npm run dev", // dev命令别名
  "build:doc": "rimraf doc-site &amp;&amp; docz build", // 后续会配置打包出来的文件目录名为doc-site，故每次build前删除
  "preview:doc": "docz serve" // 预览文档站点
},
<span class="copy-code-btn">复制代码</span></code></pre><blockquote>
<p>注意：本节所有操作都是针对站点应用。<code>打包</code>指代文档站点打包，而非组件库。</p>
</blockquote>
<p>新建<code>doczrc.js</code>配置文件，并写入以下内容：</p>
<p><strong>doczrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">files</span>: <span class="hljs-string">'./components/**/*.{md,markdown,mdx}'</span>, <span class="hljs-comment">// 识别的文件后缀</span>
  dest: <span class="hljs-string">'doc-site'</span>, <span class="hljs-comment">// 打包出来的文件目录名</span>
  title: <span class="hljs-string">'happy-ui'</span>, <span class="hljs-comment">// 站点标题</span>
  typescript: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 组件源文件是通过typescript开发，需要打开此选项</span>
};
<span class="copy-code-btn">复制代码</span></code></pre><p>由于使用了<code>less</code>作为样式预处理器，故需要安装 less 插件。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add less gatsby-plugin-less --dev
<span class="copy-code-btn">复制代码</span></code></pre><p>新建<code>gatsby-config.js</code>，并写入以下内容：</p>
<p><strong>gatsby-config.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'gatsby-theme-docz'</span>, <span class="hljs-string">'gatsby-plugin-less'</span>],
};
<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-9">编写文档</h3>
<p>新建<code>components/alert/index.mdx</code>，并写入以下内容：</p>
<pre><code class="hljs md copyable" lang="md">---
name: Alert 警告提示
route: /Alert
<span class="hljs-section">menu: 组件
---</span>

import { Playground } from 'docz'; import Alert from './alert'; // 引入组件 import './style'; // 引入组件样式

<span class="hljs-section"># Alert 警告提示</span>

警告提示，展现需要关注的信息。

<span class="hljs-section">## 代码演示</span>

<span class="hljs-section">### 基本用法</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Playground</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Alert</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"warning"</span>&gt;</span></span>这是一条警告提示<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Alert</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Playground</span>&gt;</span></span>

<span class="hljs-section">## API</span>

| 属性 | 说明     | 类型                                         | 默认值 |
| ---- | -------- | -------------------------------------------- | ------ |
| kind | 警告类型 | 'info'/'positive'/'negative'/'warning'非必填 | 'info' |
<span class="copy-code-btn">复制代码</span></code></pre><p>执行脚本命令：</p>
<pre><code class="hljs bash copyable" lang="bash">yarn start <span class="hljs-comment"># or yarn dev</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>可以在<code>localhost:3000</code>看到如下页面 ：</p>
<p></p><figure><img alt="文档站点" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bd9be223fc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="696" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bd9be223fc"><figcaption></figcaption></figure><p></p>
<p>现在可以在<code>index.mdx</code>中愉快地进行文档编写和调试了！</p>
<h3 class="heading" data-id="heading-10">优化文档编写</h3>
<p>若<code>代码演示</code>部分的<code>demo</code>较多（比如基本用法、高级用法以及各种用法等等），在组件复杂的情况下，会导致文档源文件很长难以维护。那就抽离吧。</p>
<p>在<code>components/alert/</code>文件夹下新建<code>demo</code>文件夹，存放我们在编写文档时需要引用的 <code>demo</code>。</p>
<p><strong>components/alert/demo/1-demo-basic.tsx</strong></p>
<pre><code class="hljs jsx copyable" lang="jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> Alert <span class="hljs-keyword">from</span> <span class="hljs-string">'../alert'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../style'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Alert</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"warning"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Alert</span>&gt;</span></span>;
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/alert/index.mdx</strong></p>
<pre><code class="hljs diff copyable" lang="diff"><span class="hljs-deletion">- import Alert from './alert'; // 引入组件</span>
<span class="hljs-deletion">- import './style'; // 引入组件样式</span>
<span class="hljs-addition">+ import BasicDemo from './demo/1-demo-basic';</span>

...

&lt;Playground&gt;
<span class="hljs-deletion">- &lt;Alert kind="warning"&gt;这是一条警告提示&lt;/Alert&gt;</span>
<span class="hljs-addition">+ &lt;BasicDemo /&gt;</span>
&lt;/Playground&gt;
<span class="copy-code-btn">复制代码</span></code></pre><p>这样我们就将 demo 与文档进行了分隔。预览如下：</p>
<p></p><figure><img alt="文档重构" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bdaa02a459?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="671" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bdaa02a459"><figcaption></figcaption></figure><p></p>
<p>等等，代码区域显示的是<code>&lt;BasicDemo /&gt;</code>，而非<code>demo</code>源码。</p>
<p><code>&lt;Playground /&gt;</code>组件暂时无法支持上述形式的展示：自定义下方展示的代码，而非<code>&lt;Playground /&gt;</code>内部的代码。相关讨论如下：</p>
<ul>
<li><a target="_blank" href="https://github.com/doczjs/docz/pull/906" rel="nofollow noopener noreferrer">Allow to override the playground's editor's code #906 </a></li>
</ul>
<p>其实第一条 <code>PR</code> 已经解决了问题，但是被关闭了，无奈。</p>
<p>不过既然都能引入 React 组件了，在<code>MDX</code>的环境下自定义一个<code>Playground</code>组件又有何难呢，无非就是渲染组件（MDX 自带）和展示源码，简单开放的东西大家都是喜闻乐见的，就叫<code>HappyBox</code>吧。</p>
<h3 class="heading" data-id="heading-11">优化代码展示</h3>
<h4 class="heading" data-id="heading-12">编写 <code>&lt;HappyBox /&gt;</code>组件</h4>
<p>安装依赖：</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add react-use react-tooltip react-feather react-simple-code-editor prismjs react-copy-to-clipboard raw-loader styled-components --dev
<span class="copy-code-btn">复制代码</span></code></pre><ul>
<li><a target="_blank" href="https://github.com/streamich/react-use" rel="nofollow noopener noreferrer">react-use</a> - 2020 年了，当然要用<code>hooks</code></li>
<li><a target="_blank" href="https://github.com/satya164/react-simple-code-editor" rel="nofollow noopener noreferrer">react-simple-code-editor</a> - 代码展示区域</li>
<li><a target="_blank" href="https://github.com/PrismJS/prism" rel="nofollow noopener noreferrer">prismjs</a> - 代码高亮</li>
<li><a target="_blank" href="https://github.com/webpack-contrib/raw-loader" rel="nofollow noopener noreferrer">raw-loader</a> - 将源码转成字符串</li>
<li><a target="_blank" href="https://github.com/nkbt/react-copy-to-clipboard" rel="nofollow noopener noreferrer">react-copy-to-clipboard</a> - 让用户爸爸们能够 copy demo 代码</li>
<li>react-tooltip/react-feather 辅助组件</li>
<li>styled-components 方便在文档示例中让用户看到样式，也用作文档组件的样式处理</li>
</ul>
<blockquote>
<p>这些依赖都是服务于文档站点应用，和组件库自身毫无关联。</p>
</blockquote>
<p>最终效果如下：</p>
<p></p><figure><img alt="最终效果" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bddc4b6e47?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="776" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bddc4b6e47"><figcaption></figcaption></figure><p></p>
<p>根目录下新建<code>doc-comps</code>文件夹，存放文档中使用的一些工具组件，比如<code>&lt;HappyBox /&gt;</code>。</p>
<p><strong>doc-comps</strong></p>
<pre><code class="hljs bash copyable" lang="bash">├── happy-box
│   ├── style.ts
│   └── index.tsx
└── index.ts
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/doc-comps/happy-box/index.tsx</strong></p>
<details>
<summary>展开查看代码</summary>
<pre><code class="hljs jsx copyable" lang="jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> Editor <span class="hljs-keyword">from</span> <span class="hljs-string">'react-simple-code-editor'</span>;
<span class="hljs-keyword">import</span> CopyToClipboard <span class="hljs-keyword">from</span> <span class="hljs-string">'react-copy-to-clipboard'</span>;
<span class="hljs-keyword">import</span> { useToggle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-use'</span>;
<span class="hljs-keyword">import</span> ReactTooltip <span class="hljs-keyword">from</span> <span class="hljs-string">'react-tooltip'</span>;
<span class="hljs-keyword">import</span> IconCopy <span class="hljs-keyword">from</span> <span class="hljs-string">'react-feather/dist/icons/clipboard'</span>;
<span class="hljs-keyword">import</span> IconCode <span class="hljs-keyword">from</span> <span class="hljs-string">'react-feather/dist/icons/code'</span>;
<span class="hljs-keyword">import</span> { highlight, languages } <span class="hljs-keyword">from</span> <span class="hljs-string">'prismjs/components/prism-core'</span>;
<span class="hljs-keyword">import</span> { StyledContainer, StyledIconWrapper } <span class="hljs-keyword">from</span> <span class="hljs-string">'./style'</span>;

<span class="hljs-keyword">import</span> <span class="hljs-string">'prismjs/components/prism-clike'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'prismjs/components/prism-javascript'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'prismjs/components/prism-markup'</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">'prismjs/components/prism-jsx'</span>);

interface Props {
  <span class="hljs-attr">code</span>: string;
  title?: React.ReactNode;
  desc?: React.ReactNode;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HappyBox: React.FC&lt;Props&gt; = <span class="hljs-function">(<span class="hljs-params">{ code, title, desc, children }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> [isEditVisible, toggleEditVisible] = useToggle(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">return</span> (
    &lt;StyledContainer&gt;
      &lt;section className="code-box-demo"&gt; {children}&lt;/section&gt;
      &lt;section className="code-box-meta"&gt;
        &lt;div className="text-divider"&gt;
          &lt;span&gt;{title || '示例'}&lt;/span&gt;
        &lt;/div&gt;
        &lt;div className="code-box-description"&gt;
          &lt;p&gt;{desc || '暂无描述'}&lt;/p&gt;
        &lt;/div&gt;
        &lt;div className="divider" /&gt;
        &lt;div className="code-box-action"&gt;
          &lt;CopyToClipboard text={code} onCopy={() =&gt; alert('复制成功')}&gt;
            &lt;IconCopy data-place="top" data-tip="复制代码" /&gt;
          &lt;/CopyToClipboard&gt;

          &lt;StyledIconWrapper onClick={toggleEditVisible}&gt;
            &lt;IconCode data-place="top" data-tip={isEditVisible ? '收起代码' : '显示代码'} /&gt;
          &lt;/StyledIconWrapper&gt;
        &lt;/div&gt;
      &lt;/section&gt;
      {renderEditor()}
      &lt;ReactTooltip /&gt;
    &lt;/StyledContainer&gt;
  );

  function renderEditor() {
    if (!isEditVisible) return null;
    return (
      &lt;div className="container_editor_area"&gt;
        &lt;Editor
          readOnly
          value={code}
          onValueChange={() =&gt; {}}
          highlight={code =&gt; highlight(code, languages.jsx)}
          padding={10}
          className="container__editor"
          style={{
            fontFamily: '"Fira code", "Fira Mono", monospace',
            fontSize: 14,
          }}
        /&gt;
      &lt;/div&gt;
    );
  }
};

export default HappyBox;
<span class="copy-code-btn">复制代码</span></code></pre></details>
<p><strong>components/doc-comps/happy-box/style.ts</strong></p>
<details>
<summary>展开查看代码</summary>
<pre><code class="hljs ts copyable" lang="ts"><span class="hljs-keyword">import</span> styled <span class="hljs-keyword">from</span> <span class="hljs-string">'styled-components'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StyledIconWrapper = styled.div<span class="hljs-string">`
  display: flex;
  align-items: center;
  margin-left: 10px;
`</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StyledContainer = styled.div<span class="hljs-string">`
  position: relative;
  display: inline-block;
  width: 100%;
  margin: 0 0 16px;
  border: 1px solid #ebedf0;
  border-radius: 2px;
  transition: all 0.2s;

  .text-divider {
    display: table;

    &amp;::before,
    &amp;::after {
      content: '';
      position: relative;
      display: table-cell;
      transform: translateY(50%);
      content: '';
      border-top: 1px solid #e8e8e8;
    }

    &amp;::before {
      top: 50%;
      width: 5%;
    }

    &amp;::after {
      width: 95%;
      top: 50%;
      width: 95%;
    }

    &amp; &gt; span {
      display: inline-block;
      padding: 0 10px;
      font-weight: 500;
      font-size: 16px;
      white-space: nowrap;
      text-align: center;
      font-variant: tabular-nums;
      line-height: 1.5;
    }
  }

  .divider {
    margin: 0;
    background: none;
    border: dashed #e8e8e8;
    border-width: 1px 0 0;
    display: block;
    clear: both;
    width: 100%;
    min-width: 100%;
    height: 1px;
    position: relative;
    top: -0.06em;
    box-sizing: border-box;
    padding: 0;
    font-size: 14px;
    font-variant: tabular-nums;
    line-height: 1.5;
    list-style: none;
    font-feature-settings: 'tnum';
  }

  .code-box-demo {
    transition: all 0.2s;
    padding: 42px 24px 50px;
  }

  .code-box-meta {
    font-size: 14px;
    line-height: 2;
  }

  .code-box .ant-divider {
    margin: 0;
  }

  .code-box-description {
    padding: 18px 24px 12px;
  }

  .code-box-action {
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
  }

  .code-box-action .anticon {
    margin: 0 8px;
    cursor: pointer;
  }

  .container_editor_area {
    border-top: 1px solid rgb(232, 232, 232);
    padding: 16px;
  }

  .container__editor {
    font-variant-ligatures: common-ligatures;
    border-radius: 3px;
  }

  .container__editor textarea {
    outline: 0;
    background-color: none;
  }

  .button {
    display: inline-block;
    padding: 0 6px;
    text-decoration: none;
    background: #000;
    color: #fff;
  }

  .button:hover {
    background: linear-gradient(45deg, #e42b66, #e2433f);
  }

  /* Syntax highlighting */
  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    color: #90a4ae;
  }
  .token.punctuation {
    color: #9e9e9e;
  }
  .namespace {
    opacity: 0.7;
  }
  .token.property,
  .token.tag,
  .token.boolean,
  .token.number,
  .token.constant,
  .token.symbol,
  .token.deleted {
    color: #e91e63;
  }
  .token.selector,
  .token.attr-name,
  .token.string,
  .token.char,
  .token.builtin,
  .token.inserted {
    color: #4caf50;
  }
  .token.operator,
  .token.entity,
  .token.url,
  .language-css .token.string,
  .style .token.string {
    color: #795548;
  }
  .token.atrule,
  .token.attr-value,
  .token.keyword {
    color: #3f51b5;
  }
  .token.function {
    color: #f44336;
  }
  .token.regex,
  .token.important,
  .token.variable {
    color: #ff9800;
  }
  .token.important,
  .token.bold {
    font-weight: bold;
  }
  .token.italic {
    font-style: italic;
  }
  .token.entity {
    cursor: help;
  }
`</span>;

<span class="copy-code-btn">复制代码</span></code></pre></details>
<h3 class="heading" data-id="heading-13">相关配置</h3>
<ul>
<li>增加 <code>alias</code>别名，样例源码展示相对路径不够友好，让用户直接拷贝才够省心</li>
</ul>
<p>新建<code>gatsby-node.js</code>，写入以下内容以开启<code>alias</code>：</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

exports.onCreateWebpackConfig = <span class="hljs-function"><span class="hljs-params">args</span> =&gt;</span> {
  args.actions.setWebpackConfig({
    <span class="hljs-attr">resolve</span>: {
      <span class="hljs-attr">modules</span>: [path.resolve(__dirname, <span class="hljs-string">'../src'</span>), <span class="hljs-string">'node_modules'</span>],
      <span class="hljs-attr">alias</span>: {
        <span class="hljs-string">'happy-ui/lib'</span>: path.resolve(__dirname, <span class="hljs-string">'../components/'</span>),
        <span class="hljs-string">'happy-ui/esm'</span>: path.resolve(__dirname, <span class="hljs-string">'../components/'</span>),
        <span class="hljs-string">'happy-ui'</span>: path.resolve(__dirname, <span class="hljs-string">'../components/'</span>),
      },
    },
  });
};
<span class="copy-code-btn">复制代码</span></code></pre><p><code>tsconfig.json</code> 打包时需要忽略<code>demo</code>，避免组件库打包生成<code>types</code>时包含其中，同时增加<code>paths</code>属性用于 vscode 自动提示：</p>
<p><strong>tsconfig.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">{
  "compilerOptions": {
    "baseUrl": "./",
<span class="hljs-addition">+   "paths": {</span>
<span class="hljs-addition">+     "happy-ui": ["components/index.ts"],</span>
<span class="hljs-addition">+     "happy-ui/esm/*": ["components/*"],</span>
<span class="hljs-addition">+     "happy-ui/lib/*": ["components/*"]</span>
<span class="hljs-addition">+    },</span>
    "target": "esnext",
    "module": "commonjs",
    "jsx": "react",
    "declaration": true,
    "declarationDir": "lib",
    "strict": true,
    "moduleResolution": "node",
    "allowSyntheticDefaultImports": true,
    "esModuleInterop": true,
    "resolveJsonModule": true
  },
  "include": ["components", "global.d.ts"],
<span class="hljs-deletion">- "exclude": ["node_modules"]</span>
<span class="hljs-addition">+ "exclude": ["node_modules",  "**/demo/**"]</span>
}

<span class="copy-code-btn">复制代码</span></code></pre><p>新的问题出现了，vscode 的 alias 提示依赖 tsconfig.json，忽略 demo 文件夹后，demo 内的文件模块类型找不到声明(paths 失效)，所以不能将 demo 在 tsconfig.json 中移除：</p>
<pre><code class="hljs diff copyable" lang="diff">{
<span class="hljs-deletion">- "exclude": ["node_modules",  "**/demo/**"]</span>
<span class="hljs-addition">+ "exclude": ["node_modules"]</span>
}
<span class="copy-code-btn">复制代码</span></code></pre><p>新建一个 tsconfig.build.json 文件：</p>
<p><strong>tsconfig.build.json</strong></p>
<pre><code class="hljs json copyable" lang="json">{
  <span class="hljs-attr">"extends"</span>: <span class="hljs-string">"./tsconfig.json"</span>,
  <span class="hljs-attr">"exclude"</span>: [<span class="hljs-string">"**/demo/**"</span>, <span class="hljs-string">"node_modules"</span>]
}
<span class="copy-code-btn">复制代码</span></code></pre><p>后续使用 tsc 生成类型声明文件指定<code>tsconfig.build.json</code>即可。</p>
<h3 class="heading" data-id="heading-14">改造相关文件</h3>
<p><strong>components/alert/demo/1-demo-basic.tsx</strong></p>
<pre><code class="hljs diff copyable" lang="diff"><span class="hljs-deletion">- import Alert from '../alert';</span>
<span class="hljs-addition">+ import Alert from 'happy-ui/lib/alert';</span>

<span class="hljs-deletion">- import '../style';</span>
<span class="hljs-addition">+ import 'happy-ui/lib/alert/style';</span>
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>components/alert/index.mdx</strong></p>
<pre><code class="hljs diff copyable" lang="diff"><span class="hljs-deletion">- import { Playground } from 'docz';</span>
<span class="hljs-addition">+ import { HappyBox } from '../../doc-comps';</span>

<span class="hljs-addition">+ import BasicDemoCode from '!raw-loader!./demo/1-demo-basic.tsx';</span>

...

<span class="hljs-deletion">- &lt;Playground&gt;</span>
<span class="hljs-deletion">-   &lt;BasicDemo /&gt;</span>
<span class="hljs-deletion">- &lt;/Playground&gt;</span>

<span class="hljs-addition">+ &lt;HappyBox code={BasicDemoCode} title="基本用法" desc="使用kind控制Alert类型"&gt;</span>
<span class="hljs-addition">+  &lt;BasicDemo /&gt;</span>
<span class="hljs-addition">+ &lt;/HappyBox&gt;</span>
<span class="copy-code-btn">复制代码</span></code></pre><blockquote>
<p><code>yarn start</code>卡住时尝试删除根目录<code>.docz</code>文件夹，而后重新执行命令。</p>
</blockquote>
<p>现在可以愉快地开发组件了。代码可以在<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库</a>的<code>chapter-2</code>分支获取，若存在与本文内容不符的地方，以<code>master</code>分支以及文章为准。</p>
<h2 class="heading" data-id="heading-15">组件库打包</h2>
<p><strong>宿主环境各不相同，需要将源码进行相关处理后发布至 npm。</strong></p>
<p>明确以下目标：</p>
<ol>
<li>导出类型声明文件；</li>
<li>导出 <code>umd</code>/<code>Commonjs module</code>/<code>ES module</code> 等 3 种形式供使用者引入；</li>
<li>支持样式文件 <code>css</code> 引入，而非只有<code>less</code>，减少业务方接入成本；</li>
<li>支持按需加载。</li>
</ol>
<h3 class="heading" data-id="heading-16">导出类型声明文件</h3>
<p>既然是使用<code>typescript</code>编写的组件库，那么使用者应当享受到类型系统的好处。</p>
<p>我们可以生成类型声明文件，并在<code>package.json</code>中定义入口，如下：</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs json copyable" lang="json">{
  "typings": "lib/index.d.ts", // 定义类型入口文件
  "scripts": {
    "build:types": "tsc -p tsconfig.build.json &amp;&amp; cpr lib esm" // 执行tsc命令生成类型声明文件
  }
}
<span class="copy-code-btn">复制代码</span></code></pre><blockquote>
<p>值得注意的是：此处使用<code>cpr</code>(需要手动安装)将<code>lib</code>的声明文件拷贝了一份，并将文件夹重命名为<code>esm</code>，用于后面存放 ES module 形式的组件。这样做的原因是保证用户手动按需引入组件时依旧可以获取自动提示。</p>
</blockquote>
<blockquote>
<p>最开始的方式是将声明文件单独存放在<code>types</code>文件夹，但这样只有通过'happy-ui'引入才可以获取提示，而'happy-ui/esm/xxx'和'happy-ui/lib/xxx'就无法获取提示。</p>
</blockquote>
<p><strong>tsconfig.build.json</strong></p>
<pre><code class="hljs json copyable" lang="json">{
  "extends": "./tsconfig.json",
  "compilerOptions": { "emitDeclarationOnly": true }, // 只生成声明文件
  "exclude": ["**/__tests__/**", "**/demo/**", "node_modules", "lib", "esm"] // 排除示例、测试以及打包好的文件夹
}
<span class="copy-code-btn">复制代码</span></code></pre><p>执行<code>yarn build:types</code>，可以发现根目录下已经生成了<code>lib</code>文件夹（<code>tsconfig.json</code>中定义的<code>declarationDir</code>字段）以及<code>esm</code>文件夹（拷贝而来），目录结构与<code>components</code>文件夹保持一致，如下：</p>
<p><strong>lib</strong></p>
<pre><code class="hljs bash copyable" lang="bash">├── alert
│   ├── alert.d.ts
│   ├── index.d.ts
│   ├── interface.d.ts
│   └── style
│       └── index.d.ts
└── index.d.ts
<span class="copy-code-btn">复制代码</span></code></pre><p>这样使用者引入<code>npm</code> 包时，便能得到自动提示，也能够复用相关组件的类型定义。</p>
<p>接下来将<code>ts(x)</code>等文件处理成<code>js</code>文件。</p>
<blockquote>
<p>需要注意的是，我们需要输出<code>Commonjs module</code>以及<code>ES module</code>两种模块类型的文件（暂不考虑<code>umd</code>），以下使用<code>cjs</code>指代<code>Commonjs module</code>，<code>esm</code>指代<code>ES module</code>。<br> 对此有疑问的同学推荐阅读：<a target="_blank" href="https://github.com/ShowJoy-com/showjoy-blog/issues/39" rel="nofollow noopener noreferrer">import、require、export、module.exports 混合详解</a></p>
</blockquote>
<h3 class="heading" data-id="heading-17">导出 Commonjs 模块</h3>
<p>其实完全可以使用<code>babel</code>或<code>tsc</code>命令行工具进行代码编译处理（实际上很多工具库就是这样做的），但考虑到还要<strong>样式处理及其按需加载</strong>，我们借助 <code>gulp</code> 来串起这个流程。</p>
<h4 class="heading" data-id="heading-18">babel 配置</h4>
<p>首先安装<code>babel</code>及其相关依赖</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add @babel/core @babel/preset-env @babel/preset-react @babel/preset-typescript @babel/plugin-proposal-class-properties  @babel/plugin-transform-runtime --dev
<span class="copy-code-btn">复制代码</span></code></pre><pre><code class="hljs bash copyable" lang="bash">yarn add @babel/runtime-corejs3
<span class="copy-code-btn">复制代码</span></code></pre><p>新建<code>.babelrc.js</code>文件，写入以下内容：</p>
<p><strong>.babelrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">'@babel/env'</span>, <span class="hljs-string">'@babel/typescript'</span>, <span class="hljs-string">'@babel/react'</span>],
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-string">'@babel/proposal-class-properties'</span>,
    [
      <span class="hljs-string">'@babel/plugin-transform-runtime'</span>,
      {
        <span class="hljs-attr">corejs</span>: <span class="hljs-number">3</span>,
        <span class="hljs-attr">helpers</span>: <span class="hljs-literal">true</span>,
      },
    ],
  ],
};
<span class="copy-code-btn">复制代码</span></code></pre><p>关于<code>@babel/plugin-transform-runtime</code>与<code>@babel/runtime-corejs3</code>：</p>
<ul>
<li>若<code>helpers</code>选项设置为<code>true</code>，可抽离代码编译过程重复生成的 <code>helper</code> 函数（<code>classCallCheck</code>,<code>extends</code>等），减小生成的代码体积；</li>
<li>若<code>corejs</code>设置为<code>3</code>，可引入不污染全局的按需<code>polyfill</code>，常用于类库编写（我更推荐：不引入<code>polyfill</code>，转而告知使用者需要引入何种<code>polyfill</code>，避免重复引入或产生冲突，后面会详细提到）。</li>
</ul>
<p>更多参见<a target="_blank" href="https://babeljs.io/docs/en/next/babel-plugin-transform-runtime" rel="nofollow noopener noreferrer">官方文档-@babel/plugin-transform-runtime </a></p>
<p><strong>配置目标环境</strong></p>
<p>为了避免转译浏览器原生支持的语法，新建<code>.browserslistrc</code>文件，根据适配需求，写入支持浏览器范围，作用于<code>@babel/preset-env</code>。</p>
<p><strong>.browserslistrc</strong></p>
<pre><code class="hljs bash copyable" lang="bash">&gt;0.2%
not dead
not op_mini all
<span class="copy-code-btn">复制代码</span></code></pre><p>很遗憾的是，<code>@babel/runtime-corejs3</code>无法在按需引入的基础上根据目标浏览器支持程度再次减少<code>polyfill</code>的引入，参见<a target="_blank" href="https://github.com/zloirock/core-js/blob/master/docs/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md#babelruntime-for-target-environment" rel="nofollow noopener noreferrer">@babel/runtime for target environment </a>。</p>
<p>这意味着<code>@babel/runtime-corejs3</code> 甚至会在针对现代引擎的情况下注入所有可能的 <code>polyfill</code>：不必要地增加了最终捆绑包的大小。</p>
<p>对于组件库（代码量可能很大），个人建议将<code>polyfill</code>的选择权交还给使用者，在宿主环境进行<code>polyfill</code>。若使用者具有兼容性要求，自然会使用<code>@babel/preset-env + core-js + .browserslistrc</code>进行全局<code>polyfill</code>，这套组合拳引入了最低目标浏览器不支持<code>API</code>的全部 <code>polyfill</code>。</p>
<blockquote>
<p>顺带一提，业务开发中，若将<code>@babel/preset-env</code>的<code>useBuiltIns</code>选项值设置为 <code>usage</code>，同时把<code>node_modules</code>从<code>babel-loader</code>中<code>exclude</code>，会导致<code>babel</code> 无法检测到<code>nodes_modules</code>中所需要的<code>polyfill</code>。<a target="_blank" href="https://github.com/babel/babel/issues/9419" rel="nofollow noopener noreferrer">"useBuiltIns: usage" for node_modules without transpiling #9419</a>，在未支持该<code>issue</code>提到的内容之前，请将<code>useBuiltIns</code>设置为<code>entry</code>，或者不要把<code>node_modules</code>从<code>babel-loader</code>中<code>exclude</code>。</p>
</blockquote>
<p>所以组件库不用画蛇添足，引入多余的<code>polyfill</code>，写好文档说明，比什么都重要（就像<a target="_blank" href="https://github.com/youzan/zent#required-polyfills" rel="nofollow noopener noreferrer">zent</a>和<a target="_blank" href="https://ant.design/docs/react/getting-started-cn#%E5%85%BC%E5%AE%B9%E6%80%A7" rel="nofollow noopener noreferrer">antd</a>这样）。</p>
<p>现在<code>@babel/runtime-corejs3</code>更换为<code>@babel/runtime</code>，只进行<code>helper</code>函数抽离。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn remove @babel/runtime-corejs3

yarn add @babel/runtime
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>.babelrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">'@babel/env'</span>, <span class="hljs-string">'@babel/typescript'</span>, <span class="hljs-string">'@babel/react'</span>],
  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'@babel/plugin-transform-runtime'</span>, <span class="hljs-string">'@babel/proposal-class-properties'</span>],
};
<span class="copy-code-btn">复制代码</span></code></pre><blockquote>
<p><code>@babel/transform-runtime</code>的<code>helper</code>选项默认为<code>true</code>。</p>
</blockquote>
<h4 class="heading" data-id="heading-19">gulp 配置</h4>
<p>再来安装<code>gulp</code>相关依赖</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add gulp gulp-babel --dev
<span class="copy-code-btn">复制代码</span></code></pre><p>新建<code>gulpfile.js</code>，写入以下内容：</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">const</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>);
<span class="hljs-keyword">const</span> babel = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-babel'</span>);

<span class="hljs-keyword">const</span> paths = {
  <span class="hljs-attr">dest</span>: {
    <span class="hljs-attr">lib</span>: <span class="hljs-string">'lib'</span>, <span class="hljs-comment">// commonjs 文件存放的目录名 - 本块关注</span>
    esm: <span class="hljs-string">'esm'</span>, <span class="hljs-comment">// ES module 文件存放的目录名 - 暂时不关心</span>
    dist: <span class="hljs-string">'dist'</span>, <span class="hljs-comment">// umd文件存放的目录名 - 暂时不关心</span>
  },
  <span class="hljs-attr">styles</span>: <span class="hljs-string">'components/**/*.less'</span>, <span class="hljs-comment">// 样式文件路径 - 暂时不关心</span>
  scripts: [<span class="hljs-string">'components/**/*.{ts,tsx}'</span>, <span class="hljs-string">'!components/**/demo/*.{ts,tsx}'</span>], <span class="hljs-comment">// 脚本文件路径</span>
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compileCJS</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> { dest, scripts } = paths;
  <span class="hljs-keyword">return</span> gulp
    .src(scripts)
    .pipe(babel()) <span class="hljs-comment">// 使用gulp-babel处理</span>
    .pipe(gulp.dest(dest.lib));
}

<span class="hljs-comment">// 并行任务 后续加入样式处理 可以并行处理</span>
<span class="hljs-keyword">const</span> build = gulp.parallel(compileCJS);

exports.build = build;

exports.default = build;
<span class="copy-code-btn">复制代码</span></code></pre><p>修改<code>package.json</code></p>
<p><strong>package.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">{
<span class="hljs-deletion">- "main": "index.js",</span>
<span class="hljs-addition">+ "main": "lib/index.js",</span>
  "scripts": {
    ...
<span class="hljs-addition">+   "clean": "rimraf lib esm dist",</span>
<span class="hljs-addition">+   "build": "npm run clean &amp;&amp; npm run build:types &amp;&amp; gulp",</span>
    ...
  },
}
<span class="copy-code-btn">复制代码</span></code></pre><p>执行<code>yarn build</code>，得到如下内容：</p>
<p><strong>lib</strong></p>
<pre><code class="hljs bash copyable" lang="bash">├── alert
│   ├── alert.js
│   ├── index.js
│   ├── interface.js
│   └── style
│       └── index.js
└── index.js
<span class="copy-code-btn">复制代码</span></code></pre><p>观察编译后的源码，可以发现：诸多<code>helper</code>方法已被抽离至<code>@babel/runtime</code>中，模块导入导出形式也是<code>commonjs</code>规范。</p>
<p><strong>lib/alert/alert.js</strong></p>
<p></p><figure><img alt="lib/alert/alert.js" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bd9d34470f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1130" data-height="1080" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bd9d34470f"><figcaption></figcaption></figure><p></p>
<h3 class="heading" data-id="heading-20">导出 ES module</h3>
<p>生成<code>ES module</code>可以更好地进行<a target="_blank" href="https://webpack.docschina.org/guides/tree-shaking/" rel="nofollow noopener noreferrer">tree shaking</a>，基于上一步的<code>babel</code>配置，更新以下内容：</p>
<ol>
<li>配置<code>@babel/preset-env</code>的<code>modules</code>选项为<code>false</code>，关闭模块转换；</li>
<li>配置<code>@babel/plugin-transform-runtime</code>的<code>useESModules</code>选项为<code>true</code>，使用<code>ES module</code>形式引入<code>helper</code>函数。</li>
</ol>
<p><strong>.babelrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [
    [
      <span class="hljs-string">'@babel/env'</span>,
      {
        <span class="hljs-attr">modules</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 关闭模块转换</span>
      },
    ],
    <span class="hljs-string">'@babel/typescript'</span>,
    <span class="hljs-string">'@babel/react'</span>,
  ],
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-string">'@babel/proposal-class-properties'</span>,
    [
      <span class="hljs-string">'@babel/plugin-transform-runtime'</span>,
      {
        <span class="hljs-attr">useESModules</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 使用esm形式的helper</span>
      },
    ],
  ],
};
<span class="copy-code-btn">复制代码</span></code></pre><p>目标达成，我们再使用环境变量区分<code>esm</code>和<code>cjs</code>（执行任务时设置对应的环境变量即可），最终<code>babel</code>配置如下：</p>
<p><strong>.babelrc.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">'@babel/env'</span>, <span class="hljs-string">'@babel/typescript'</span>, <span class="hljs-string">'@babel/react'</span>],
  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'@babel/plugin-transform-runtime'</span>, <span class="hljs-string">'@babel/proposal-class-properties'</span>],
  <span class="hljs-attr">env</span>: {
    <span class="hljs-attr">esm</span>: {
      <span class="hljs-attr">presets</span>: [
        [
          <span class="hljs-string">'@babel/env'</span>,
          {
            <span class="hljs-attr">modules</span>: <span class="hljs-literal">false</span>,
          },
        ],
      ],
      <span class="hljs-attr">plugins</span>: [
        [
          <span class="hljs-string">'@babel/plugin-transform-runtime'</span>,
          {
            <span class="hljs-attr">useESModules</span>: <span class="hljs-literal">true</span>,
          },
        ],
      ],
    },
  },
};
<span class="copy-code-btn">复制代码</span></code></pre><p>接下来修改<code>gulp</code>相关配置，抽离<code>compileScripts</code>任务，增加<code>compileESM</code>任务。</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-comment">// ...</span>

<span class="hljs-comment">/**
 * 编译脚本文件
 * @param {string} babelEnv babel环境变量
 * @param {string} destDir 目标目录
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compileScripts</span>(<span class="hljs-params">babelEnv, destDir</span>) </span>{
  <span class="hljs-keyword">const</span> { scripts } = paths;
  <span class="hljs-comment">// 设置环境变量</span>
  process.env.BABEL_ENV = babelEnv;
  <span class="hljs-keyword">return</span> gulp
    .src(scripts)
    .pipe(babel()) <span class="hljs-comment">// 使用gulp-babel处理</span>
    .pipe(gulp.dest(destDir));
}

<span class="hljs-comment">/**
 * 编译cjs
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compileCJS</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> { dest } = paths;
  <span class="hljs-keyword">return</span> compileScripts(<span class="hljs-string">'cjs'</span>, dest.lib);
}

<span class="hljs-comment">/**
 * 编译esm
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compileESM</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> { dest } = paths;
  <span class="hljs-keyword">return</span> compileScripts(<span class="hljs-string">'esm'</span>, dest.esm);
}

<span class="hljs-comment">// 串行执行编译脚本任务（cjs,esm） 避免环境变量影响</span>
<span class="hljs-keyword">const</span> buildScripts = gulp.series(compileCJS, compileESM);

<span class="hljs-comment">// 整体并行执行任务</span>
<span class="hljs-keyword">const</span> build = gulp.parallel(buildScripts);

<span class="hljs-comment">// ...</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>执行<code>yarn build</code>，可以发现生成了<code>lib</code>/<code>esm</code>两个文件夹，观察<code>esm</code>目录，结构同<code>lib</code>一致，js 文件都是以<code>ES module</code>模块形式导入导出。</p>
<p><strong>esm/alert/alert.js</strong></p>
<p></p><figure><img alt="esm/alert/alert.js" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bd9f7ec557?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="1024" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bd9f7ec557"><figcaption></figcaption></figure><p></p>
<p>别忘了给<code>package.json</code>增加相关入口。</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">{
<span class="hljs-addition">+ "module": "esm/index.js"</span>
}
<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-21">处理样式文件</h3>
<h4 class="heading" data-id="heading-22">拷贝 less 文件</h4>
<p>我们会将<code>less</code>文件包含在<code>npm</code>包中，用户可以通过<code>happy-ui/lib/alert/style/index.js</code>的形式按需引入<code>less</code>文件，此处可以直接将 less 文件拷贝至目标文件夹。</p>
<p>在<code>gulpfile.js</code>中新建<code>copyLess</code>任务。</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-comment">// ...</span>

<span class="hljs-comment">/**
 * 拷贝less文件
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copyLess</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> gulp
    .src(paths.styles)
    .pipe(gulp.dest(paths.dest.lib))
    .pipe(gulp.dest(paths.dest.esm));
}

<span class="hljs-keyword">const</span> build = gulp.parallel(buildScripts, copyLess);

<span class="hljs-comment">// ...</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>观察<code>lib</code>目录，可以发现 <code>less</code> 文件已被拷贝至<code>alert/style</code>目录下。</p>
<p><strong>lib</strong></p>
<pre><code class="hljs bash copyable" lang="bash">├── alert
│   ├── alert.js
│   ├── index.js
│   ├── interface.js
│   └── style
│       ├── index.js
│       └── index.less <span class="hljs-comment"># less文件</span>
└── index.js
<span class="copy-code-btn">复制代码</span></code></pre><p>可能有些同学已经发现问题：若使用者没有使用<code>less</code>预处理器，使用的是<code>sass</code>方案甚至原生<code>css</code>方案，那现有方案就搞不定了。经分析，有以下 4 种预选方案：</p>
<ol>
<li>告知业务方增加<code>less-loader</code>。会导致业务方使用成本增加；</li>
<li>打包出一份完整的 <code>css</code> 文件，进行<strong>全量</strong>引入。无法进行按需引入；</li>
<li><code>css in js</code>方案；</li>
<li>提供一份<code>style/css.js</code>文件，引入组件 <code>css</code>样式依赖，而非 <code>less</code> 依赖，组件库底层抹平差异。</li>
</ol>
<p>重点看一看方案 3 以及方案 4。</p>
<p><code>css in js</code>除了赋予样式编写更多的可能性之外，在编写第三方组件库时更是利器。</p>
<p>如果我们写一个<code>react-use</code>这种<code>hooks</code>工具库，不涉及到样式，只需要在<code>package.json</code>中设置<code>sideEffects</code>为<code>false</code>，业务方使用 webpack 进行打包时，只会打包被使用到的 hooks（优先使用 ES module）。</p>
<p>入口文件<code>index.js</code>中导出的但未被使用的其他 hooks 会被<code>tree shaking</code>，第一次使用这个库的时候我很好奇，为什么没有按需引入的使用方式，结果打包分析时我傻了，原来人家天生支持按需引入。</p>
<p>可能常用的<code>antd</code>以及<code>lodash</code>都要配一配，导致产生了惯性思维。</p>
<p>回到正题。如果将样式使用<code>javascript</code>来编写，在某种维度上讲，组件库和工具库一致了，配好<code>sideEffects</code>，自动按需引入，美滋滋。</p>
<p>而且每个组件都与自己的样式绑定，不需要业务方或组件开发者去<strong>维护样式依赖</strong>，什么是样式依赖，后面会讲到。</p>
<p>缺点：</p>
<ol>
<li>样式无法单独缓存；</li>
<li>styled-components 自身体积较大；</li>
<li>复写组件样式需要使用属性选择器或者使用<code>styled-components</code>自带方法。</li>
</ol>
<p>需要看取舍了，偷偷说一句<code>styled-components</code>做主题定制也极其方便。</p>
<p>方案 4 是<code>antd</code>使用的这种方案。</p>
<p>在搭建组件库的过程中，有一个问题困扰了我很久：为什么需要<code>alert/style/index.js</code>引入<code>less</code>文件或<code>alert/style/css.js</code>引入<code>css</code>文件？</p>
<p>答案是<strong>管理样式依赖</strong>。</p>
<p>因为我们的组件是没有引入样式文件的，需要使用者去手动引入。</p>
<p>假设存在以下场景：使用者引入<code>&lt;Button /&gt;</code>，<code>&lt;Button /&gt;</code>依赖了<code>&lt;Icon /&gt;</code>，则需要手动去引入调用组件的样式（<code>&lt;Button /&gt;</code>）及其依赖的组件样式（<code>&lt;Icon /&gt;</code>），遇到复杂组件极其麻烦，所以组件库开发者可以提供一份这样的<code>js</code>文件，使用者手动引入这个<code>js</code>文件，就能引入对应组件及其依赖组件的样式。</p>
<p>那么问题又来了，为什么组件不能自己去<code>import './index.less'</code>呢？</p>
<p>可以，但业务方需要配置<code>less-loader</code>，什么，业务方不想配，要你<code>import './index.css'</code>？🙃</p>
<p>可以，业务方爽了，组件开发者不开心。</p>
<p>所以我们要找一个大家都爽的方案：</p>
<ol>
<li>组件开发者能够开心的使用预处理器；</li>
<li>业务方不需要额外的使用成本。</li>
</ol>
<p>答案就是<s>css in js</s>单独提供一份<code>style/css.js</code>文件，引入的是组件 <code>css</code>样式文件依赖，而非 <code>less</code> 依赖，组件库底层抹平差异。</p>
<p>之前了解到<a target="_blank" href="https://github.com/umijs/father" rel="nofollow noopener noreferrer">father</a>可以在打包的时候将<code>index.less</code>转成<code>index.css</code>，这倒是个好法子，但是一些重复引入的样式模块（比如动画样式），会被重复打包，不知道有没有好的解决方案。</p>
<h4 class="heading" data-id="heading-23">生成 css 文件</h4>
<p>安装相关依赖。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add gulp-less gulp-autoprefixer gulp-cssnano --dev
<span class="copy-code-btn">复制代码</span></code></pre><p>将<code>less</code>文件生成对应的<code>css</code>文件，在<code>gulpfile.js</code>中增加<code>less2css</code>任务。</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-comment">// ...</span>

<span class="hljs-comment">/**
 * 生成css文件
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">less2css</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> gulp
    .src(paths.styles)
    .pipe(less()) <span class="hljs-comment">// 处理less文件</span>
    .pipe(autoprefixer()) <span class="hljs-comment">// 根据browserslistrc增加前缀</span>
    .pipe(cssnano({ <span class="hljs-attr">zindex</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">reduceIdents</span>: <span class="hljs-literal">false</span> })) <span class="hljs-comment">// 压缩</span>
    .pipe(gulp.dest(paths.dest.lib))
    .pipe(gulp.dest(paths.dest.esm));
}

<span class="hljs-keyword">const</span> build = gulp.parallel(buildScripts, copyLess, less2css);

<span class="hljs-comment">// ...</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>执行<code>yarn build</code>，组件<code>style</code>目录下已经存在<code>css</code>文件了。</p>
<p>接下来我们需要一个<code>alert/style/css.js</code>来帮用户引入<code>css</code>文件。</p>
<h4 class="heading" data-id="heading-24">生成 css.js</h4>
<p>此处参考<a target="_blank" href="https://github.com/ant-design/antd-tools/blob/master/lib/gulpfile.js#L248" rel="nofollow noopener noreferrer">antd-tools</a>的实现方式：在处理<code>scripts</code>任务中，截住<code>style/index.js</code>，生成<code>style/css.js</code>，并通过正则将引入的<code>less</code>文件后缀改成<code>css</code>。</p>
<p>安装相关依赖。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add through2 --dev
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>gulpfile.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-comment">// ...</span>

<span class="hljs-comment">/**
 * 编译脚本文件
 * @param {*} babelEnv babel环境变量
 * @param {*} destDir 目标目录
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compileScripts</span>(<span class="hljs-params">babelEnv, destDir</span>) </span>{
  <span class="hljs-keyword">const</span> { scripts } = paths;
  process.env.BABEL_ENV = babelEnv;
  <span class="hljs-keyword">return</span> gulp
    .src(scripts)
    .pipe(babel()) <span class="hljs-comment">// 使用gulp-babel处理</span>
    .pipe(
      through2.obj(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">file, encoding, next</span>) </span>{
        <span class="hljs-keyword">this</span>.push(file.clone());
        <span class="hljs-comment">// 找到目标</span>
        <span class="hljs-keyword">if</span> (file.path.match(<span class="hljs-regexp">/(\/|\\)style(\/|\\)index\.js/</span>)) {
          <span class="hljs-keyword">const</span> content = file.contents.toString(encoding);
          file.contents = Buffer.from(cssInjection(content)); <span class="hljs-comment">// 文件内容处理</span>
          file.path = file.path.replace(<span class="hljs-regexp">/index\.js/</span>, <span class="hljs-string">'css.js'</span>); <span class="hljs-comment">// 文件重命名</span>
          <span class="hljs-keyword">this</span>.push(file); <span class="hljs-comment">// 新增该文件</span>
          next();
        } <span class="hljs-keyword">else</span> {
          next();
        }
      }),
    )
    .pipe(gulp.dest(destDir));
}

<span class="hljs-comment">// ...</span>
<span class="copy-code-btn">复制代码</span></code></pre><p><code>cssInjection</code>的实现：</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-comment">/**
 * 当前组件样式 import './index.less' =&gt; import './index.css'
 * 依赖的其他组件样式 import '../test-comp/style' =&gt; import '../test-comp/style/css.js'
 * 依赖的其他组件样式 import '../test-comp/style/index.js' =&gt; import '../test-comp/style/css.js'
 * @param {string} content
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cssInjection</span>(<span class="hljs-params">content</span>) </span>{
  <span class="hljs-keyword">return</span> content
    .replace(<span class="hljs-regexp">/\/style\/?'/g</span>, <span class="hljs-string">"/style/css'"</span>)
    .replace(<span class="hljs-regexp">/\/style\/?"/g</span>, <span class="hljs-string">'/style/css"'</span>)
    .replace(<span class="hljs-regexp">/\.less/g</span>, <span class="hljs-string">'.css'</span>);
}
<span class="copy-code-btn">复制代码</span></code></pre><p>再进行打包，可以看见组件<code>style</code>目录下生成了<code>css.js</code>文件，引入的也是上一步<code>less</code>转换而来的<code>css</code>文件。</p>
<p><strong>lib/alert</strong></p>
<pre><code class="hljs bash copyable" lang="bash">├── alert.js
├── index.js
├── interface.js
└── style
    ├── css.js <span class="hljs-comment"># 引入index.css</span>
    ├── index.css
    ├── index.js
    └── index.less
<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-25">按需加载</h3>
<p>在 package.json 中增加<code>sideEffects</code>属性，配合<code>ES module</code>达到<code>tree shaking</code>效果（将样式依赖文件标注为<code>side effects</code>，避免被误删除）。</p>
<pre><code class="hljs json copyable" lang="json">// ...
"sideEffects": [
  "dist/*",
  "esm/**/style/*",
  "lib/**/style/*",
  "*.less"
],
// ...
<span class="copy-code-btn">复制代码</span></code></pre><p>使用以下方式引入，可以做到<code>js</code>部分的按需加载，但需要手动引入样式：</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">import</span> { Alert } <span class="hljs-keyword">from</span> <span class="hljs-string">'happy-ui'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'happy-ui/esm/alert/style'</span>;
<span class="copy-code-btn">复制代码</span></code></pre><p>也可以使用以下方式引入：</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">import</span> Alert <span class="hljs-keyword">from</span> <span class="hljs-string">'happy-ui/esm/alert'</span>; <span class="hljs-comment">// or import Alert from 'happy-ui/lib/alert';</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'happy-ui/esm/alert/style'</span>; <span class="hljs-comment">// or import Alert from 'happy-ui/lib/alert';</span>
<span class="copy-code-btn">复制代码</span></code></pre><p>以上引入样式文件的方式不太优雅，直接入口处引入<strong>全量</strong>样式文件又和按需加载的本意相去甚远。</p>
<p>使用者可以借助<a target="_blank" href="https://www.npmjs.com/package/babel-plugin-import" rel="nofollow noopener noreferrer">babel-plugin-import</a>来进行辅助，减少代码编写量（说好的不加入其他使用成本的呢~）。</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">import</span> { Alert } <span class="hljs-keyword">from</span> <span class="hljs-string">'happy-ui'</span>;
<span class="copy-code-btn">复制代码</span></code></pre><p>⬇️</p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-keyword">import</span> Alert <span class="hljs-keyword">from</span> <span class="hljs-string">'happy-ui/lib/alert'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'happy-ui/lib/alert/style'</span>;
<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-26">生成 umd</h3>
<p>没用上，这一块标记为 todo 吧。</p>
<p>本节代码可以在<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库</a>的<code>chapter-3</code>分支获取，若存在与本文内容不符的地方，以<code>master</code>分支以及文章为准。</p>
<h2 class="heading" data-id="heading-27">组件测试</h2>
<p>与软件操作行为越接近的测试，越能给予你信心。</p>
<p>本节主要讲述如何在组件库中引入<a target="_blank" href="https://jestjs.io/" rel="nofollow noopener noreferrer">jest</a>以及<a target="_blank" href="https://testing-library.com/docs/react-testing-library/intro" rel="nofollow noopener noreferrer">@testing-library/react</a>，而不会深入单元测试的学习。</p>
<p>如果你对下列问题感兴趣：</p>
<ol>
<li>What-单元测试是什么？</li>
<li>Why-为什么要写单元测试？</li>
<li>How-编写单元测试的最佳实践？</li>
</ol>
<p>那么可以看看以下文章：</p>
<ul>
<li><a target="_blank" href="https://thomlom.dev/test-react-testing-library/" rel="nofollow noopener noreferrer">Test React apps with React Testing Library</a>：通过一个<code>&lt;Counter /&gt;</code>的例子延伸，阐述了选择<code>React Testing Library</code>而非<code>Enzyme</code>的理由，并对其进行了一些入门教学；</li>
<li><a target="_blank" href="https://testing-library.com/docs/react-testing-library/intro" rel="nofollow noopener noreferrer">React Testing Library</a>：<code>@testing-library/react</code>的官方文档，该库提供的 API 在某个程度上就是在指引开发者进行单元测试的最佳实践；</li>
<li><a target="_blank" href="https://testing-library.com/docs/recipes" rel="nofollow noopener noreferrer">React Testing Library-examples</a>：<code>@testing-library/react</code>的一些实例，提供了各种常见场景的测试；</li>
<li><a target="_blank" href="https://github.com/linesh-simplicity/linesh-simplicity.github.io/issues/200" rel="nofollow noopener noreferrer">React 单元测试策略及落地</a>：如标题所示，值得一看。</li>
</ul>
<h3 class="heading" data-id="heading-28">相关配置</h3>
<p>安装依赖：</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add jest ts-jest @testing-library/react @testing-library/jest-dom identity-obj-proxy @types/jest @types/testing-library__react --dev
<span class="copy-code-btn">复制代码</span></code></pre><ul>
<li><a target="_blank" href="https://jestjs.io/" rel="nofollow noopener noreferrer">jest</a>: JavaScript 测试框架，专注于简洁明快；</li>
<li><a target="_blank" href="https://github.com/kulshekhar/ts-jest" rel="nofollow noopener noreferrer">ts-jest</a>：为<code>TypeScript</code>编写<code>jest</code>测试用例提供支持；</li>
<li><a target="_blank" href="https://testing-library.com/docs/react-testing-library/intro" rel="nofollow noopener noreferrer">@testing-library/react</a>：简单而完整的<code>React DOM</code>测试工具，鼓励良好的测试实践；</li>
<li><a target="_blank" href="https://testing-library.com/docs/ecosystem-jest-dom" rel="nofollow noopener noreferrer">@testing-library/jest-dom</a>：自定义的<code>jest</code>匹配器(<code>matchers</code>)，用于测试<code>DOM</code>的状态（即为<code>jest</code>的<code>except</code>方法返回值增加更多专注于<code>DOM</code>的<code>matchers</code>）；</li>
<li><a target="_blank" href="https://www.npmjs.com/package/identity-obj-proxy" rel="nofollow noopener noreferrer">identity-obj-proxy</a>：一个工具库，此处用来<code>mock</code>样式文件。</li>
</ul>
<p>新建<code>jest.config.js</code>，并写入相关配置，更多配置可参考<a target="_blank" href="https://jestjs.io/docs/en/configuration" rel="nofollow noopener noreferrer">jest 官方文档-配置</a>，只看几个常用的就可以。</p>
<p><strong>jest.config.js</strong></p>
<pre><code class="hljs js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">roots</span>: [<span class="hljs-string">'&lt;rootDir&gt;/components'</span>],
  <span class="hljs-attr">moduleNameMapper</span>: {
    <span class="hljs-string">'\\.(css|less|scss)$'</span>: <span class="hljs-string">'identity-obj-proxy'</span>,
    <span class="hljs-string">'^components$'</span>: <span class="hljs-string">'&lt;rootDir&gt;/components/index.tsx'</span>,
    <span class="hljs-string">'^components(.*)$'</span>: <span class="hljs-string">'&lt;rootDir&gt;/components/$1'</span>,
  },
  <span class="hljs-attr">testRegex</span>: <span class="hljs-string">'(/test/.*|\\.(test|spec))\\.(ts|tsx|js)$'</span>,
  <span class="hljs-attr">moduleFileExtensions</span>: [<span class="hljs-string">'ts'</span>, <span class="hljs-string">'tsx'</span>, <span class="hljs-string">'js'</span>, <span class="hljs-string">'jsx'</span>],
  <span class="hljs-attr">testPathIgnorePatterns</span>: [<span class="hljs-string">'/node_modules/'</span>, <span class="hljs-string">'/lib/'</span>, <span class="hljs-string">'/esm/'</span>, <span class="hljs-string">'/dist/'</span>],
  <span class="hljs-attr">preset</span>: <span class="hljs-string">'ts-jest'</span>,
  <span class="hljs-attr">testEnvironment</span>: <span class="hljs-string">'jsdom'</span>,
};
<span class="copy-code-btn">复制代码</span></code></pre><p>修改<code>package.json</code>，增加测试相关命令，并且代码提交前，跑测试用例，如下：</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">"scripts": {
  ...
<span class="hljs-addition">+  "test": "jest",                         # 执行jest</span>
<span class="hljs-addition">+  "test:watch": "jest --watch",           # watch模式下执行</span>
<span class="hljs-addition">+  "test:coverage": "jest --coverage",     # 生成测试覆盖率报告</span>
<span class="hljs-addition">+  "test:update": "jest --updateSnapshot"  # 更新快照</span>
},
...
"lint-staged": {
  "components/**/*.ts?(x)": [
    "prettier --write",
    "eslint --fix",
<span class="hljs-addition">+   "jest --bail --findRelatedTests",</span>
    "git add"
  ],
  ...
}
<span class="copy-code-btn">复制代码</span></code></pre><p>修改<code>gulpfile.js</code>以及<code>tsconfig.json</code>，避免打包时，把测试文件一并处理了。</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="hljs diff copyable" lang="diff">const paths = {
  ...
<span class="hljs-deletion">- scripts: ['components/**/*.{ts,tsx}', '!components/**/demo/*.{ts,tsx}'],</span>
<span class="hljs-addition">+ scripts: [</span>
<span class="hljs-addition">+   'components/**/*.{ts,tsx}',</span>
<span class="hljs-addition">+   '!components/**/demo/*.{ts,tsx}',</span>
<span class="hljs-addition">+   '!components/**/__tests__/*.{ts,tsx}',</span>
<span class="hljs-addition">+ ],</span>
};
<span class="copy-code-btn">复制代码</span></code></pre><p><strong>tsconfig.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">{
<span class="hljs-deletion">- "exclude": ["components/**/demo"]</span>
<span class="hljs-addition">+ "exclude": ["components/**/demo", "components/**/__tests__"]</span>
}
<span class="copy-code-btn">复制代码</span></code></pre><h3 class="heading" data-id="heading-29">编写测试用例</h3>
<p><code>&lt;Alert /&gt;</code>比较简单，此处只作示例用，简单进行一下快照测试。</p>
<p>在对应组件的文件夹下新建<code>__tests__</code>文件夹，用于存放测试文件，其内新建<code>index.test.tsx</code>文件，写入以下测试用例：</p>
<p><strong>components/alert/<strong>tests</strong>/index.test.tsx</strong></p>
<pre><code class="hljs jsx copyable" lang="jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">'@testing-library/react'</span>;
<span class="hljs-keyword">import</span> Alert <span class="hljs-keyword">from</span> <span class="hljs-string">'../alert'</span>;

describe(<span class="hljs-string">'&lt;Alert /&gt;'</span>, () =&gt; {
  test(<span class="hljs-string">'should render default'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> { container } = render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Alert</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-name">Alert</span>&gt;</span></span>);
    expect(container).toMatchSnapshot();
  });

  test(<span class="hljs-string">'should render alert with type'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> kinds: any[] = [<span class="hljs-string">'info'</span>, <span class="hljs-string">'warning'</span>, <span class="hljs-string">'positive'</span>, <span class="hljs-string">'negative'</span>];

    <span class="hljs-keyword">const</span> { getByText } = render(
      <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        {kinds.map(k =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">Alert</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">{k}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{k}</span>&gt;</span>
            {k}
          <span class="hljs-tag">&lt;/<span class="hljs-name">Alert</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/&gt;</span>,
    );

    kinds.forEach(k =&gt; {
      expect(getByText(k)).toMatchSnapshot();
    });
  });
});
</span><span class="copy-code-btn">复制代码</span></code></pre><p>更新一下快照：</p>
<pre><code class="hljs bash copyable" lang="bash">yarn <span class="hljs-built_in">test</span>:update
<span class="copy-code-btn">复制代码</span></code></pre><p>可以看见同级目录下新增了一个<code>__snapshots__</code>文件夹，里面存放对应测试用例的快照文件。</p>
<p></p><figure><img alt="生成的快照文件" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bd9e4dcc13?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="721" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bd9e4dcc13"><figcaption></figcaption></figure><p></p>
<p>再执行测试用例：</p>
<pre><code class="hljs bash copyable" lang="bash">yarn <span class="hljs-built_in">test</span>
<span class="copy-code-btn">复制代码</span></code></pre><p></p><figure><img alt="通过测试用例" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/5/14/172120bd9e4dcc13?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="721" src="./可能是最详细的React组件库搭建总结 - 掘金_files/172120bd9e4dcc13"><figcaption></figcaption></figure><p></p>
<p>可以发现我们通过了测试用例。。。额，这里当然能通过，主要是后续我们进行迭代重构时，都会重新执行测试用例，与最近的一次快照进行比对，如果与快照不一致（结构发生了改变），那么相应的测试用例就无法通过。</p>
<p>对于快照测试，褒贬不一，这个例子也着实简单得很，甚至连扩展的 <code>jest-dom</code>提供的 <code>matchers</code> 都没用上。</p>
<p>如何编写优秀的测试用例，我也是一个新手，只能说多看多写多尝试，前面推荐的文章很不错。</p>
<p>本节代码可以在<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库</a>的<code>chapter-4</code>分支获取，若存在与本文内容不符的地方，以<code>master</code>分支以及文章为准。</p>
<h2 class="heading" data-id="heading-30">标准化发布流程</h2>
<p>本节主要是讲解如何通过一行命令完成以下六点内容：</p>
<ol>
<li>版本更新</li>
<li>生成 CHANGELOG</li>
<li>推送至 git 仓库</li>
<li>组件库打包</li>
<li>发布至 npm</li>
<li>打 tag 并推送至 git</li>
</ol>
<p><strong>package.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">"scripts": {
<span class="hljs-addition">+ "release": "ts-node ./scripts/release.ts"</span>
},
<span class="copy-code-btn">复制代码</span></code></pre><details>
<summary>展开查看代码</summary>
<pre><code class="hljs ts copyable" lang="ts"><span class="hljs-comment">/* eslint-disable  import/no-extraneous-dependencies,@typescript-eslint/camelcase, no-console */</span>
<span class="hljs-keyword">import</span> inquirer <span class="hljs-keyword">from</span> <span class="hljs-string">'inquirer'</span>;
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> child_process <span class="hljs-keyword">from</span> <span class="hljs-string">'child_process'</span>;
<span class="hljs-keyword">import</span> util <span class="hljs-keyword">from</span> <span class="hljs-string">'util'</span>;
<span class="hljs-keyword">import</span> chalk <span class="hljs-keyword">from</span> <span class="hljs-string">'chalk'</span>;
<span class="hljs-keyword">import</span> semverInc <span class="hljs-keyword">from</span> <span class="hljs-string">'semver/functions/inc'</span>;
<span class="hljs-keyword">import</span> { ReleaseType } <span class="hljs-keyword">from</span> <span class="hljs-string">'semver'</span>;

<span class="hljs-keyword">import</span> pkg <span class="hljs-keyword">from</span> <span class="hljs-string">'../package.json'</span>;

<span class="hljs-keyword">const</span> exec = util.promisify(child_process.exec);

<span class="hljs-keyword">const</span> run = <span class="hljs-keyword">async</span> (command: <span class="hljs-built_in">string</span>) =&gt; {
  <span class="hljs-built_in">console</span>.log(chalk.green(command));
  <span class="hljs-keyword">await</span> exec(command);
};

<span class="hljs-keyword">const</span> currentVersion = pkg.version;

<span class="hljs-keyword">const</span> getNextVersions = (): { [key <span class="hljs-keyword">in</span> ReleaseType]: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> } =&gt; ({
  major: semverInc(currentVersion, <span class="hljs-string">'major'</span>),
  minor: semverInc(currentVersion, <span class="hljs-string">'minor'</span>),
  patch: semverInc(currentVersion, <span class="hljs-string">'patch'</span>),
  premajor: semverInc(currentVersion, <span class="hljs-string">'premajor'</span>),
  preminor: semverInc(currentVersion, <span class="hljs-string">'preminor'</span>),
  prepatch: semverInc(currentVersion, <span class="hljs-string">'prepatch'</span>),
  prerelease: semverInc(currentVersion, <span class="hljs-string">'prerelease'</span>),
});

<span class="hljs-keyword">const</span> timeLog = <span class="hljs-function">(<span class="hljs-params">logInfo: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">type</span>: 'start' | 'end'</span>) =&gt;</span> {
  <span class="hljs-keyword">let</span> info = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'start'</span>) {
    info = <span class="hljs-string">`=&gt; 开始任务：<span class="hljs-subst">${logInfo}</span>`</span>;
  } <span class="hljs-keyword">else</span> {
    info = <span class="hljs-string">`✨ 结束任务：<span class="hljs-subst">${logInfo}</span>`</span>;
  }
  <span class="hljs-keyword">const</span> nowDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
  <span class="hljs-built_in">console</span>.log(
    <span class="hljs-string">`[<span class="hljs-subst">${nowDate.toLocaleString()}</span>.<span class="hljs-subst">${nowDate
      .getMilliseconds()
      .toString()
      .padStart(3, '0')}</span>] <span class="hljs-subst">${info}</span>
    `</span>,
  );
};

<span class="hljs-comment">/**
 * 询问获取下一次版本号
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prompt</span>(<span class="hljs-params"></span>): <span class="hljs-title">Promise</span>&lt;<span class="hljs-title">string</span>&gt; </span>{
  <span class="hljs-keyword">const</span> nextVersions = getNextVersions();
  <span class="hljs-keyword">const</span> { nextVersion } = <span class="hljs-keyword">await</span> inquirer.prompt([
    {
      <span class="hljs-keyword">type</span>: <span class="hljs-string">'list'</span>,
      name: <span class="hljs-string">'nextVersion'</span>,
      message: <span class="hljs-string">`请选择将要发布的版本 (当前版本 <span class="hljs-subst">${currentVersion}</span>)`</span>,
      choices: (<span class="hljs-built_in">Object</span>.keys(nextVersions) <span class="hljs-keyword">as</span> <span class="hljs-built_in">Array</span>&lt;ReleaseType&gt;).map(<span class="hljs-function"><span class="hljs-params">level</span> =&gt;</span> ({
        name: <span class="hljs-string">`<span class="hljs-subst">${level}</span> =&gt; <span class="hljs-subst">${nextVersions[level]}</span>`</span>,
        value: nextVersions[level],
      })),
    },
  ]);
  <span class="hljs-keyword">return</span> nextVersion;
}

<span class="hljs-comment">/**
 * 更新版本号
 * @param nextVersion 新版本号
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateVersion</span>(<span class="hljs-params">nextVersion: <span class="hljs-built_in">string</span></span>) </span>{
  pkg.version = nextVersion;
  timeLog(<span class="hljs-string">'修改package.json版本号'</span>, <span class="hljs-string">'start'</span>);
  <span class="hljs-keyword">await</span> fs.writeFileSync(path.resolve(__dirname, <span class="hljs-string">'./../package.json'</span>), <span class="hljs-built_in">JSON</span>.stringify(pkg));
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">'npx prettier package.json --write'</span>);
  timeLog(<span class="hljs-string">'修改package.json版本号'</span>, <span class="hljs-string">'end'</span>);
}

<span class="hljs-comment">/**
 * 生成CHANGELOG
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateChangelog</span>(<span class="hljs-params"></span>) </span>{
  timeLog(<span class="hljs-string">'生成CHANGELOG.md'</span>, <span class="hljs-string">'start'</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">' npx conventional-changelog -p angular -i CHANGELOG.md -s -r 0'</span>);
  timeLog(<span class="hljs-string">'生成CHANGELOG.md'</span>, <span class="hljs-string">'end'</span>);
}

<span class="hljs-comment">/**
 * 将代码提交至git
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">push</span>(<span class="hljs-params">nextVersion: <span class="hljs-built_in">string</span></span>) </span>{
  timeLog(<span class="hljs-string">'推送代码至git仓库'</span>, <span class="hljs-string">'start'</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">'git add package.json CHANGELOG.md'</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">`git commit -m "v<span class="hljs-subst">${nextVersion}</span>" -n`</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">'git push'</span>);
  timeLog(<span class="hljs-string">'推送代码至git仓库'</span>, <span class="hljs-string">'end'</span>);
}

<span class="hljs-comment">/**
 * 组件库打包
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">build</span>(<span class="hljs-params"></span>) </span>{
  timeLog(<span class="hljs-string">'组件库打包'</span>, <span class="hljs-string">'start'</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">'npm run build'</span>);
  timeLog(<span class="hljs-string">'组件库打包'</span>, <span class="hljs-string">'end'</span>);
}

<span class="hljs-comment">/**
 * 发布至npm
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">publish</span>(<span class="hljs-params"></span>) </span>{
  timeLog(<span class="hljs-string">'发布组件库'</span>, <span class="hljs-string">'start'</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">'npm publish'</span>);
  timeLog(<span class="hljs-string">'发布组件库'</span>, <span class="hljs-string">'end'</span>);
}

<span class="hljs-comment">/**
 * 打tag提交至git
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tag</span>(<span class="hljs-params">nextVersion: <span class="hljs-built_in">string</span></span>) </span>{
  timeLog(<span class="hljs-string">'打tag并推送至git'</span>, <span class="hljs-string">'start'</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">`git tag v<span class="hljs-subst">${nextVersion}</span>`</span>);
  <span class="hljs-keyword">await</span> run(<span class="hljs-string">`git push origin tag v<span class="hljs-subst">${nextVersion}</span>`</span>);
  timeLog(<span class="hljs-string">'打tag并推送至git'</span>, <span class="hljs-string">'end'</span>);
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">main</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> nextVersion = <span class="hljs-keyword">await</span> prompt();
    <span class="hljs-keyword">const</span> startTime = <span class="hljs-built_in">Date</span>.now();
    <span class="hljs-comment">// =================== 更新版本号 ===================</span>
    <span class="hljs-keyword">await</span> updateVersion(nextVersion);
    <span class="hljs-comment">// =================== 更新changelog ===================</span>
    <span class="hljs-keyword">await</span> generateChangelog();
    <span class="hljs-comment">// =================== 代码推送git仓库 ===================</span>
    <span class="hljs-keyword">await</span> push(nextVersion);
    <span class="hljs-comment">// =================== 组件库打包 ===================</span>
    <span class="hljs-keyword">await</span> build();
    <span class="hljs-comment">// =================== 发布至npm ===================</span>
    <span class="hljs-keyword">await</span> publish();
    <span class="hljs-comment">// =================== 打tag并推送至git ===================</span>
    <span class="hljs-keyword">await</span> tag(nextVersion);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`✨ 发布流程结束 共耗时<span class="hljs-subst">${((Date.now() - startTime) / 1000).toFixed(3)}</span>s`</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'💣 发布失败，失败原因：'</span>, error);
  }
}

main();
<span class="copy-code-btn">复制代码</span></code></pre></details>
<p>如果你对这一节不感兴趣，也可以直接使用<a target="_blank" href="https://www.npmjs.com/package/np" rel="nofollow noopener noreferrer">np</a>进行发布，需要自定义配置一些钩子。</p>
<h2 class="heading" data-id="heading-31">初始化组件</h2>
<p>每次初始化一个组件就要新建许多文件（夹），复制粘贴也可，不过还可以使用更高级一点的偷懒方式。</p>
<p>思路如下：</p>
<ol>
<li>创建组件模板，预留动态信息插槽（组件名称，组件描述等等）；</li>
<li>基于<code>inquirer.js</code>询问动态信息；</li>
<li>将信息插入模板，渲染至<code>components</code>文件夹下；</li>
<li>向 components/index.ts 插入导出语句。</li>
</ol>
<p>我们只需要配置好模板以及问题，至于询问以及渲染就交给<a target="_blank" href="https://plopjs.com/" rel="nofollow noopener noreferrer">plop.js</a>吧。</p>
<pre><code class="hljs bash copyable" lang="bash">yarn add plop --dev
<span class="copy-code-btn">复制代码</span></code></pre><p>新增脚本命令。</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs diff copyable" lang="diff">"scripts": {
<span class="hljs-addition">+ "new": "plop --plopfile ./scripts/plopfile.ts",</span>
},
<span class="copy-code-btn">复制代码</span></code></pre><p>新增配置文件以及组件模板，详情可见：</p>
<ul>
<li>配置文件：<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial/blob/master/scripts/plopfile.ts" rel="nofollow noopener noreferrer">scripts/plopfile.ts</a></li>
<li>模板文件：<a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial/tree/master/templates/component" rel="nofollow noopener noreferrer">templates/component</a></li>
</ul>
<h2 class="heading" data-id="heading-32">结语</h2>
<p>文章很长，也是我个人学习中的总结，如果本文帮助到了你请给仓库一颗 ✨✨ 和本文一个赞。</p>
<p>如果有错误烦请在评论区指正交流，谢谢。</p>
<p><a target="_blank" href="https://github.com/worldzhao/react-ui-library-tutorial" rel="nofollow noopener noreferrer">仓库地址</a></p>
</div></article><div data-v-fa2339b8="" data-v-6fdc8784="" class="tag-list-box"><div data-v-fa2339b8="" data-v-6fdc8784="" class="tag-list-title">关注下面的标签，发现更多相似文章</div><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="tagList" class="tag-list"><a data-v-fa2339b8="" href="https://juejin.im/tag/React.js" target="_blank" rel="" st:name="tag" class="item" data-v-6fdc8784=""><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-fa2339b8="" data-src="https://lc-gold-cdn.xitu.io/f655215074250f10f8d4.png?imageView2/2/w/42/h/42/q/85/format/webp/interlace/1" class="lazy thumb tag-icon loaded" style="background-image: url(&quot;https://lc-gold-cdn.xitu.io/f655215074250f10f8d4.png?imageView2/2/w/42/h/42/q/85/format/webp/interlace/1&quot;); background-size: contain;"></div><div data-v-fa2339b8="" class="tag-title">React.js</div></a><a data-v-fa2339b8="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" class="item" data-v-6fdc8784=""><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-fa2339b8="" data-src="https://lc-gold-cdn.xitu.io/bac28828a49181c34110.png?imageView2/2/w/42/h/42/q/85/format/webp/interlace/1" class="lazy thumb tag-icon loaded" style="background-image: url(&quot;https://lc-gold-cdn.xitu.io/bac28828a49181c34110.png?imageView2/2/w/42/h/42/q/85/format/webp/interlace/1&quot;); background-size: contain;"></div><div data-v-fa2339b8="" class="tag-title">前端</div></a></div></div><a data-v-fa2339b8="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" data-v-6fdc8784=""><div data-v-fa2339b8="" class="footer-author-block"><div data-v-081ef9db="" data-v-fa2339b8="" itemscope="itemscope" itemtype="http://schema.org/Person" class="author"><meta itemprop="url" content="https://juejin.im/user/58a26aeb0ce4630056498dd6"><meta itemprop="image" content="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?w=1080&amp;h=1080&amp;f=png&amp;s=258308"><meta itemprop="name" content="海秋"><meta itemprop="jobTitle" content="后端接口测试工程师"><div itemprop="memberOf" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="喜马拉雅"></div><div data-v-081ef9db="" class="author-info-block"><a data-v-081ef9db="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="avatar-link"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-081ef9db="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a><div data-v-081ef9db="" class="author-info-box"><div data-v-081ef9db="" class="profile-box"><a data-v-263f3a32="" data-v-081ef9db="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username username ellipsis">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a></a><span data-v-081ef9db="" class="position ellipsis">后端接口测试工程师 @ 喜马拉雅</span></div><div data-v-081ef9db="" class="meta-box"><a data-v-081ef9db="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6/posts" target="_blank" rel="" class="posts"><span data-v-081ef9db="" class="count post-count">发布了 8 篇专栏 · </span></a><span data-v-081ef9db="" class="count">获得点赞 752 · </span><span data-v-081ef9db="" class="count">获得阅读 34,120</span></div></div><button data-v-5789daef="" data-v-081ef9db="" class="follow-button follow">关注</button></div></div></div></a><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="banner" class="article-banner"><a data-v-fa2339b8="" data-v-6fdc8784="" st:name="link" st:state="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" class="banner-title" href="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">安装掘金浏览器插件</a><div data-v-fa2339b8="" data-v-6fdc8784="" class="banner-content">打开新标签页发现好内容，掘金、GitHub、Dribbble、ProductHunt 等站点内容轻松获取。快来安装掘金浏览器插件获取高质量内容吧！</div></div><!----><!----><div data-v-0d823780="" data-v-fa2339b8="" class="comment-list-box" id="comment-box" data-v-6fdc8784="" manual="true"><div data-v-0d823780="" class="title">评论</div><div data-v-155bc796="" data-v-0d823780="" class="comment-form comment-form"><div data-v-155bc796="" class="avatar-box"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-155bc796="" data-src="https://mirror-gold-cdn.xitu.io/168e08d6d9e8b3febec?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08d6d9e8b3febec?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-155bc796="" class="form-box"><div data-v-155bc796="" class="input-box"><div data-v-cc6aae16="" data-v-155bc796="" class="auth-card"><!----><div data-v-155bc796="" data-v-cc6aae16="" contenteditable="true" spellcheck="false" placeholder="输入评论..." class="rich-input empty"><br data-v-155bc796="" data-v-cc6aae16=""></div></div><!----></div><!----></div><input data-v-155bc796="" type="file" class="hidden"></div><div data-v-1540c949="" data-v-0d823780="" class="comment-list comment-list"><div data-v-0a49d917="" data-v-1540c949="" class="image-viewer-box"><!----></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="59769fe76fb9a06bbf702eec" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/59769fe76fb9a06bbf702eec" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://user-gold-cdn.xitu.io/2020/4/10/171627e10fd1a7ec?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/4/10/171627e10fd1a7ec?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="59769fe76fb9a06bbf702eec" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/59769fe76fb9a06bbf702eec" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">前端韦小宝<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-164d9344="" class="position"></div></div><div data-v-164d9344="" class="content">极客时间全套啦 +v pzw280442409 啦啦啦<img class="emoji" draggable="false" alt="👩‍❤️‍👩" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f469-200d-2764-fe0f-200d-1f469.svg"></div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-05-21T02:26:48.589Z" title="Thu May 21 2020 10:26:48 GMT+0800 (中国标准时间)" class="time">1天前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><!----></div></div><!----></div></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="58e46ae62f301e006224af98" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/58e46ae62f301e006224af98" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://user-gold-cdn.xitu.io/2019/9/10/16d18d56748d5174?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/10/16d18d56748d5174?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="58e46ae62f301e006224af98" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/58e46ae62f301e006224af98" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">有一个胖子在coding<!----></a></div><div data-v-164d9344="" class="position">前端 @ 理想公司</div></div><div data-v-164d9344="" class="content">为啥demo 起不起来<img class="emoji" draggable="false" alt="😂" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f602.svg"></div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-05-20T02:38:05.270Z" title="Wed May 20 2020 10:38:05 GMT+0800 (中国标准时间)" class="time">2天前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a="">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a><span data-v-406f083c="" class="author-badge-text">(作者)</span></a></div><div data-v-406f083c="" class="position">后端接口测试工程师 @ 喜马拉雅</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58e46ae62f301e006224af98" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58e46ae62f301e006224af98" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">有一个胖子在coding<!----></a></div><!----><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content">具体报一下错误哈，使用yarn安装的依赖吗</span></div><!----><!----><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-20T02:39:01.668Z" title="Wed May 20 2020 10:39:01 GMT+0800 (中国标准时间)" class="time">2天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58e46ae62f301e006224af98" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/58e46ae62f301e006224af98" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2019/9/10/16d18d56748d5174?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/10/16d18d56748d5174?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58e46ae62f301e006224af98" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58e46ae62f301e006224af98" target="_blank" rel="" class="username" data-v-b628736a="">有一个胖子在coding<!----></a></div><div data-v-406f083c="" class="position">前端 @ 理想公司</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58e46ae62f301e006224af98" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58e46ae62f301e006224af98" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">有一个胖子在coding<!----></a></div><!----><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content">用npm报这个，用yarn报找不到页面</span></div><!----><span data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/20/1722ff481a597085?w=1240&amp;h=681&amp;f=jpeg&amp;s=216929" class="image viewable">[图片]<a data-v-406f083c="" class="image-preview"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/20/1722ff481a597085?w=1240&amp;h=681&amp;f=jpeg&amp;s=216929" class="lazy thumb image viewable loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/20/1722ff481a597085?imageView2/1/w/400/h/340/q/85/format/jpg/interlace/1&quot;); background-size: cover;"></div><span data-v-17940ba8="" data-v-406f083c="" class="container triangle-top"><em data-v-17940ba8="" class="triangle"></em></span></a></span><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-20T02:40:53.263Z" title="Wed May 20 2020 10:40:53 GMT+0800 (中国标准时间)" class="time">2天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><div data-v-0aa2f002="" class="item fetch-more"><div data-v-0aa2f002="" class="fetch-more-comment">加载更多</div></div></div></div><!----></div></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5a510d73f265da3e2e62506f" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/5a510d73f265da3e2e62506f" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://user-gold-cdn.xitu.io/2020/4/9/1715ed13408c156a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/4/9/1715ed13408c156a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5a510d73f265da3e2e62506f" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/5a510d73f265da3e2e62506f" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">科技小白英仔<!----></a></div><div data-v-164d9344="" class="position">全周期工程师 @ 青岛某公司</div></div><div data-v-164d9344="" class="content"><a href="https://github.com/hd-ui" class="parse-emoji-url" style="color: #027fff" title="https://github.com/hd-ui" target="_blank" rel="nofollow noopener noreferrer"><img alt="https://github.com/hd-ui" style="vertical-align: sub" draggable="false" src="./可能是最详细的React组件库搭建总结 - 掘金_files/pin-url-link.3f843e8.svg">github.com/hd-ui</a>
我搭建的组件库，</div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-05-18T09:50:33.274Z" title="Mon May 18 2020 17:50:33 GMT+0800 (中国标准时间)" class="time">4天前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a="">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a><span data-v-406f083c="" class="author-badge-text">(作者)</span></a></div><div data-v-406f083c="" class="position">后端接口测试工程师 @ 喜马拉雅</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="5a510d73f265da3e2e62506f" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/5a510d73f265da3e2e62506f" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">科技小白英仔<!----></a></div><!----><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content">老哥厉害啊，一看就很高级的组件库</span></div><!----><!----><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-18T11:53:50.042Z" title="Mon May 18 2020 19:53:50 GMT+0800 (中国标准时间)" class="time">4天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="5a510d73f265da3e2e62506f" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/5a510d73f265da3e2e62506f" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/4/9/1715ed13408c156a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/4/9/1715ed13408c156a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="5a510d73f265da3e2e62506f" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/5a510d73f265da3e2e62506f" target="_blank" rel="" class="username" data-v-b628736a="">科技小白英仔<!----></a></div><div data-v-406f083c="" class="position">全周期工程师 @ 青岛某公司</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><span data-v-406f083c="" class="author-badge-text">(作者)</span><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content">厉害啥？里面就一个组件和字体图标，没时间弄</span></div><!----><!----><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-18T12:01:22.260Z" title="Mon May 18 2020 20:01:22 GMT+0800 (中国标准时间)" class="time">4天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><div data-v-0aa2f002="" class="item fetch-more"><div data-v-0aa2f002="" class="fetch-more-comment">加载更多</div></div></div></div><!----></div></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5bdaee015188257f62136c55" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/5bdaee015188257f62136c55" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://mirror-gold-cdn.xitu.io/168e095b374afa38e33?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5bdaee015188257f62136c55" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/5bdaee015188257f62136c55" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">金钟罩铁布衫<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-164d9344="" class="position">前端 @ 嘘</div></div><div data-v-164d9344="" class="content">赞<img class="emoji" draggable="false" alt="👍" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f44d.svg"></div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-05-17T08:44:08.169Z" title="Sun May 17 2020 16:44:08 GMT+0800 (中国标准时间)" class="time">5天前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a="">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a><span data-v-406f083c="" class="author-badge-text">(作者)</span></a></div><div data-v-406f083c="" class="position">后端接口测试工程师 @ 喜马拉雅</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="5bdaee015188257f62136c55" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/5bdaee015188257f62136c55" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">金钟罩铁布衫<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><!----><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content">有帮助就好<img class="emoji" draggable="false" alt="😝" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f61d.svg"></span></div><!----><!----><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-18T00:36:28.530Z" title="Mon May 18 2020 08:36:28 GMT+0800 (中国标准时间)" class="time">4天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><!----></div></div><!----></div></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5b0a9325f265da0ddd7c953f" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/5b0a9325f265da0ddd7c953f" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://mirror-gold-cdn.xitu.io/168e0906b48e8f49f0b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5b0a9325f265da0ddd7c953f" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/5b0a9325f265da0ddd7c953f" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">shanex<!----></a></div><div data-v-164d9344="" class="position">稀土</div></div><div data-v-164d9344="" class="content">计划搭一个的，楼主就写了，点赞</div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-05-17T07:55:03.384Z" title="Sun May 17 2020 15:55:03 GMT+0800 (中国标准时间)" class="time">5天前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a="">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a><span data-v-406f083c="" class="author-badge-text">(作者)</span></a></div><div data-v-406f083c="" class="position">后端接口测试工程师 @ 喜马拉雅</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="5b0a9325f265da0ddd7c953f" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/5b0a9325f265da0ddd7c953f" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">shanex<!----></a></div><!----><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content">有帮助的话，可以给个赞哈</span></div><!----><!----><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-18T00:36:44.465Z" title="Mon May 18 2020 08:36:44 GMT+0800 (中国标准时间)" class="time">4天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><!----></div></div><!----></div></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5c904b86f265da60ea145755" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/5c904b86f265da60ea145755" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://user-gold-cdn.xitu.io/2019/3/31/169d218fb75d61a1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5c904b86f265da60ea145755" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/5c904b86f265da60ea145755" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">黑叔<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-3.e108c68.svg" alt="lv-3"></a></a></div><div data-v-164d9344="" class="position">公众号“程序员黑叔” @ 资深切图渣男</div></div><div data-v-164d9344="" class="content">666</div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-05-17T05:10:36.826Z" title="Sun May 17 2020 13:10:36 GMT+0800 (中国标准时间)" class="time">5天前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><span data-v-164d9344="" class="action-title">1</span></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><div data-v-0aa2f002="" class="item"><div data-v-406f083c="" data-v-0aa2f002="" class="sub-comment sub-comment"><div data-v-406f083c="" class="sub-comment-content-row"><div data-v-406f083c="" class="sub-comment-content-box"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box popover"><!----><a data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-406f083c="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-406f083c="" class="user-content-box"><div data-v-406f083c="" class="profie"><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="58a26aeb0ce4630056498dd6" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username" data-v-b628736a="">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a><span data-v-406f083c="" class="author-badge-text">(作者)</span></a></div><div data-v-406f083c="" class="position">后端接口测试工程师 @ 喜马拉雅</div></div><div data-v-406f083c="" class="content-box"><span data-v-406f083c=""> 回复 </span><div data-v-b628736a="" data-v-406f083c="" st:block="userPopover" st:state="5c904b86f265da60ea145755" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-406f083c="" href="https://juejin.im/user/5c904b86f265da60ea145755" target="_blank" rel="" class="username username be-replied" data-v-b628736a="">黑叔<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-3.e108c68.svg" alt="lv-3"></a></a></div><!----><span data-v-406f083c="">: </span><span data-v-406f083c="" class="content"><img class="emoji" draggable="false" alt="😁" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f601.svg"><img class="emoji" draggable="false" alt="😁" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f601.svg"><img class="emoji" draggable="false" alt="😁" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1f601.svg">欢迎点赞</span></div><!----><!----><div data-v-406f083c="" class="limit-all-box"><!----></div><div data-v-406f083c="" class="sub-comment-stat-box"><time data-v-406f083c="" datetime="2020-05-18T00:37:02.618Z" title="Mon May 18 2020 08:37:02 GMT+0800 (中国标准时间)" class="time">4天前</time><div data-v-406f083c="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-406f083c="" class="sub-comment-action-box"><div data-v-406f083c="" class="like-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-406f083c="" class="comment-action action"><svg data-v-406f083c="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-406f083c="" fill="none" fill-rule="evenodd"><path data-v-406f083c="" d="M0 0h20v20H0z"></path> <path data-v-406f083c="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-406f083c="">回复</span></div></div></div><!----></div></div></div><!----></div></div><!----></div></div><!----></div></div></div><div data-v-0d823780="" class="fetch-more-comment">查看更多 &gt;</div></div></div><!----><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="recommended" class="main-area recommended-area shadow"><div data-v-fa2339b8="" data-v-6fdc8784="" class="recommended-entry-list-title">相关推荐</div><!----><ul data-v-0dfe6a32="" data-v-fa2339b8="" st:block="entryList" class="entry-list recommended-entry-list" data-v-6fdc8784=""><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec7793851882543143744cb|1" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec737b36fb9a04799583002" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e1eaa19e51d451c7e049dd8" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e1eaa19e51d451c7e049dd8" target="_blank" rel="" st:name="user" st:state="5e1eaa19e51d451c7e049dd8" data-v-b628736a="">蒋鹏飞</a></div></li><li data-v-ecbf465a="" class="item">7小时前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec737b36fb9a04799583002" target="_blank" rel="" st:name="title" class="title">不知道怎么封装代码？看看这几种设计模式吧！</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">78</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec737b36fb9a04799583002#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">11</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec73759e51d45786716849c|2" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec7372cf265da76de5cd0c9" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5cd23730f265da03576edbf1" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5cd23730f265da03576edbf1" target="_blank" rel="" st:name="user" st:state="5cd23730f265da03576edbf1" data-v-b628736a="">云音乐前端技术团队</a></div></li><li data-v-ecbf465a="" class="item">12小时前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/React.js" target="_blank" rel="" st:name="tag" st:state="555e99ffe4b00c57d99556aa" class="tag">React.js</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec7372cf265da76de5cd0c9" target="_blank" rel="" st:name="title" class="title">React Hooks 最佳实践</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">115</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec7372cf265da76de5cd0c9#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/5/22/1723a2fabc28a57f?imageView2/1/w/120/h/120/q/85/format/webp/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec53c626fb9a047ef135242|3" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec537486fb9a047bb6a4204" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><li data-v-ecbf465a="" class="item recommended">荐</li><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="59e293e06fb9a0452340e835" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/59e293e06fb9a0452340e835" target="_blank" rel="" st:name="user" st:state="59e293e06fb9a0452340e835" data-v-b628736a="">QUIKER</a></div></li><li data-v-ecbf465a="" class="item">21小时前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Vue.js" target="_blank" rel="" st:name="tag" st:state="555e9a98e4b00c57d9955f68" class="tag">Vue.js</a><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec537486fb9a047bb6a4204" target="_blank" rel="" st:name="title" class="title">vue 3.x 如何有惊无险地快速入门</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">129</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec537486fb9a047bb6a4204#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">27</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec5eabd6fb9a047bf705f03|4" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec5ea9a51882542e6477c55" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><li data-v-ecbf465a="" class="item recommended">荐</li><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5c9c1ca4e51d452742507adc" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5c9c1ca4e51d452742507adc" target="_blank" rel="" st:name="user" st:state="5c9c1ca4e51d452742507adc" data-v-b628736a="">小何何同学</a></div></li><li data-v-ecbf465a="" class="item">21小时前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec5ea9a51882542e6477c55" target="_blank" rel="" st:name="title" class="title">我所理解的前端状态管理</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">85</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec5ea9a51882542e6477c55#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">35</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec5e0a1f265da76c1132936|5" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec4c86351882542e722e15f" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e8558f3518825738f2b1327" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e8558f3518825738f2b1327" target="_blank" rel="" st:name="user" st:state="5e8558f3518825738f2b1327" data-v-b628736a="">阿里巴巴淘系技术</a></div></li><li data-v-ecbf465a="" class="item">1天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec4c86351882542e722e15f" target="_blank" rel="" st:name="title" class="title">前端生产方式：过去 10 年回顾和未来 10 年展望</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">247</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec4c86351882542e722e15f#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">31</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/5/21/17234e12af31a517?imageView2/1/w/120/h/120/q/85/format/webp/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><!----><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec7a240e51d45789839d5eb|4" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec79e76f265da771359fe8c" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5c90d966f265da61173a2cd8" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5c90d966f265da61173a2cd8" target="_blank" rel="" st:name="user" st:state="5c90d966f265da61173a2cd8" data-v-b628736a="">快狗打车前端团队</a></div></li><li data-v-ecbf465a="" class="item">5小时前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F" target="_blank" rel="" st:name="tag" st:state="57ea2013a22b9d006164c1f8" class="tag">微信小程序</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec79e76f265da771359fe8c" target="_blank" rel="" st:name="title" class="title">微信小程序图片保存到本地一次问题解决</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">14</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec79e76f265da771359fe8c#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/5/22/1723bd1671f39289?imageView2/1/w/120/h/120/q/85/format/webp/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec3391e5188250bdf5c3793|5" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec338436fb9a0432d76e0c4" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5a767928f265da4e78327344" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5a767928f265da4e78327344" target="_blank" rel="" st:name="user" st:state="5a767928f265da4e78327344" data-v-b628736a="">前端森林</a></div></li><li data-v-ecbf465a="" class="item">3天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Chrome" target="_blank" rel="" st:name="tag" st:state="555e9ae0e4b00c57d99562ee" class="tag">Chrome</a><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec338436fb9a0432d76e0c4" target="_blank" rel="" st:name="title" class="title">Chrome DevTools中的这些骚操作，你都知道吗？</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">846</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec338436fb9a0432d76e0c4#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">79</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/5/19/1722a96792420630?imageView2/1/w/120/h/120/q/85/format/webp/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec5c89551882543393c834c|6" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec5c4aee51d457893029189" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5790c76dc4c9710054f0f58b" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5790c76dc4c9710054f0f58b" target="_blank" rel="" st:name="user" st:state="5790c76dc4c9710054f0f58b" data-v-b628736a="">前端早早聊</a></div></li><li data-v-ecbf465a="" class="item">1天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a><a data-v-ecbf465a="" href="https://juejin.im/tag/%E7%9B%91%E6%8E%A7" target="_blank" rel="" st:name="tag" st:state="5b45bfcef265da65f7d27f9b" class="tag">监控</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec5c4aee51d457893029189" target="_blank" rel="" st:name="title" class="title">来，跟我一起 ，自研多端错误监控平台</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">215</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec5c4aee51d457893029189#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">25</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/5/21/172349337a97017a?imageView2/1/w/120/h/120/q/85/format/webp/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec48d6c51882542e3021937|7" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec381215188256d776342cd" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5b7c1be9e51d4538b35bfc32" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5b7c1be9e51d4538b35bfc32" target="_blank" rel="" st:name="user" st:state="5b7c1be9e51d4538b35bfc32" data-v-b628736a="">沉末_</a></div></li><li data-v-ecbf465a="" class="item">2天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/%E5%89%8D%E7%AB%AF" target="_blank" rel="" st:name="tag" st:state="5597a05ae4b08a686ce56f6f" class="tag">前端</a><a data-v-ecbf465a="" href="https://juejin.im/tag/Webpack" target="_blank" rel="" st:name="tag" st:state="55e325a100b0ded317d2f846" class="tag">Webpack</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec381215188256d776342cd" target="_blank" rel="" st:name="title" class="title">如何修改 node_modules 里的文件（同事看了直呼内行）</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">377</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec381215188256d776342cd#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><span data-v-ecbf465a="" class="count">84</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ec79fc2518825432d4c9809|8" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec79f1ae51d457858774dde" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5c04d9a9e51d457d7939c38f" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5c04d9a9e51d457d7939c38f" target="_blank" rel="" st:name="user" st:state="5c04d9a9e51d457d7939c38f" data-v-b628736a="">日明</a></div></li><li data-v-ecbf465a="" class="item">5小时前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/React.js" target="_blank" rel="" st:name="tag" st:state="555e99ffe4b00c57d99556aa" class="tag">React.js</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ec79f1ae51d457858774dde" target="_blank" rel="" st:name="title" class="title"># 从零开始封装一个属于自己的UI框架（二）  --配置开发环境篇</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ec79f1ae51d457858774dde#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.4d5744f.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/share.1d55e69.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/weibo.8e2f5d6.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/wechat.844402c.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/collect.02e2979.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" class="item"><!----></li><!----></ul></div><div data-v-7301278b="" data-v-fa2339b8="" st:block="sidebar" class="sidebar sidebar top sticky" data-v-6fdc8784=""><div data-v-16442876="" data-v-76358071="" data-v-7301278b="" class="sidebar-block author-block shadow"><div data-v-16442876="" class="block-title">关于作者</div><div data-v-16442876="" class="block-body"><a data-v-76358071="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="user-item item" data-v-16442876=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-76358071="" data-src="https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/5/18/1722643c1d15f152?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div><div data-v-76358071="" class="info-box"><a data-v-263f3a32="" data-v-76358071="" href="https://juejin.im/user/58a26aeb0ce4630056498dd6" target="_blank" rel="" class="username">海秋<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/lv-2.f597b88.svg" alt="lv-2"></a></a><div data-v-76358071="" title="后端接口测试工程师 @ 喜马拉雅" class="position">后端接口测试工程师 @ 喜马拉雅</div></div></a><div data-v-76358071="" data-v-16442876="" class="stat-item item"><svg data-v-76358071="" data-v-16442876="" xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" class="zan"><g data-v-76358071="" data-v-16442876="" fill="none" fill-rule="evenodd" transform="translate(0 .57)"><ellipse data-v-76358071="" data-v-16442876="" cx="12.5" cy="12.57" fill="#E1EFFF" rx="12.5" ry="12.57"></ellipse> <path data-v-76358071="" data-v-16442876="" fill="#7BB9FF" d="M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"></path></g></svg> <span data-v-76358071="" data-v-16442876="" class="content">获得点赞<span data-v-76358071="" data-v-16442876="" class="count">752</span></span></div><div data-v-76358071="" data-v-16442876="" class="stat-item item"><svg data-v-76358071="" data-v-16442876="" width="25" height="25" viewBox="0 0 25 25" class="icon stat-view-icon"><g data-v-76358071="" data-v-16442876="" fill="none" fill-rule="evenodd"><circle data-v-76358071="" data-v-16442876="" cx="12.5" cy="12.5" r="12.5" fill="#E1EFFF"></circle> <path data-v-76358071="" data-v-16442876="" fill="#7BB9FF" d="M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"></path></g></svg> <span data-v-76358071="" data-v-16442876="" class="content">文章被阅读<span data-v-76358071="" data-v-16442876="" class="count">34,120</span></span></div><!----></div></div><!----><div data-v-16442876="" data-v-f69ccc58="" data-v-518a2f8f="" data-v-7301278b="" class="sidebar-block recommend recommend-index shadow"><div data-v-16442876="" class="block-title">你可能感兴趣的小册</div><div data-v-16442876="" class="block-body"><div data-v-f69ccc58="" data-v-16442876="" class="book-list"><div data-v-f69ccc58="" data-v-16442876="" class="book"><div data-v-f69ccc58="" data-v-16442876="" class="poster"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-f69ccc58="" data-src="https://user-gold-cdn.xitu.io/2018/12/4/16779ed4b21a9fa5?imageView2/1/w/200/h/280/q/95/format/webp/interlace/1" class="lazy thumb poster-img loaded" data-v-16442876="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/12/4/16779ed4b21a9fa5?imageView2/1/w/200/h/280/q/95/format/webp/interlace/1&quot;); background-size: cover;"></div></div><div data-v-f69ccc58="" data-v-16442876="" class="info"><div data-v-f69ccc58="" data-v-16442876="" class="title">React 实战：设计模式和最佳实践</div><div data-v-f69ccc58="" data-v-16442876="" class="bought"><span data-v-f69ccc58="" data-v-16442876="" class="num">3092人已购买</span><span data-v-f69ccc58="" data-v-16442876="" class="try-read">试读</span></div></div></div><div data-v-f69ccc58="" data-v-16442876="" class="book"><div data-v-f69ccc58="" data-v-16442876="" class="poster"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-f69ccc58="" data-src="https://user-gold-cdn.xitu.io/2019/2/25/16922d6d22ff1458?imageView2/1/w/200/h/280/q/95/format/webp/interlace/1" class="lazy thumb poster-img loaded" data-v-16442876="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/2/25/16922d6d22ff1458?imageView2/1/w/200/h/280/q/95/format/webp/interlace/1&quot;); background-size: cover;"></div></div><div data-v-f69ccc58="" data-v-16442876="" class="info"><div data-v-f69ccc58="" data-v-16442876="" class="title">WebGL 入门与实践</div><div data-v-f69ccc58="" data-v-16442876="" class="bought"><span data-v-f69ccc58="" data-v-16442876="" class="num">1983人已购买</span><span data-v-f69ccc58="" data-v-16442876="" class="try-read">试读</span></div></div></div></div></div></div><div data-v-16442876="" data-v-03315f79="" data-v-7301278b="" class="sidebar-block app-download-sidebar-block shadow"><!----><div data-v-16442876="" class="block-body"><a data-v-03315f79="" data-v-16442876="" class="app-link" href="https://juejin.im/app" target="_blank"><img data-v-03315f79="" data-v-16442876="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/post.7cb7332.png" class="qr-img"><div data-v-03315f79="" data-v-16442876="" class="content-box"><div data-v-03315f79="" data-v-16442876="" class="headline">下载掘金客户端</div><div data-v-03315f79="" data-v-16442876="" class="desc">一个帮助开发者成长的社区</div></div><div data-v-03315f79="" data-v-16442876="" title="关闭" class="close-btn ion-close-round"></div></a></div></div><div data-v-16442876="" data-v-3c6504c4="" data-v-7301278b="" class="sidebar-block wechat-sidebar-block pure"><div data-v-06f599f1="" data-v-3c6504c4="" class="wechat-banner" data-v-16442876=""><img data-v-06f599f1="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/frontend.1dae74a.png" class="wechat-img"></div><div data-v-3c6504c4="" data-v-16442876="" title="关闭" class="close-btn ion-close-round"></div></div><div data-v-16442876="" data-v-2998ad53="" data-v-7301278b="" class="sidebar-block related-entry-sidebar-block shadow" st:block="relatedEntrySidebarBlock"><div data-v-16442876="" class="block-title">相关文章</div><div data-v-16442876="" class="block-body"><div data-v-2998ad53="" data-v-16442876="" class="entry-list"><a data-v-2998ad53="" href="https://juejin.im/post/5a795187f265da4e7e109aac" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">react-loadable原理浅析</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-2998ad53="" class="count">64</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.a7c8341.svg" class="icon"><span data-v-2998ad53="" class="count">10</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5e030b926fb9a0162c487c7b" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">React 组件库搭建指南-打包输出</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-2998ad53="" class="count">44</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.a7c8341.svg" class="icon"><span data-v-2998ad53="" class="count">16</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5d8c19eb6fb9a04dec52f080" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">基于React的简单权限设计</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-2998ad53="" class="count">33</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.a7c8341.svg" class="icon"><span data-v-2998ad53="" class="count">15</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5ec33061e51d454dc1467db6" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">React + TypeScript 从零开发Popup组件并发布到 npm</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-2998ad53="" class="count">32</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.a7c8341.svg" class="icon"><span data-v-2998ad53="" class="count">9</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5d342d5fe51d4577770e7444" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">memoize-one在React中的应用</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/zan.e9d7698.svg" class="icon"><span data-v-2998ad53="" class="count">7</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="./可能是最详细的React组件库搭建总结 - 掘金_files/comment.a7c8341.svg" class="icon"><span data-v-2998ad53="" class="count">2</span></div></div></a></div></div></div><div data-v-7301278b="" class="sticky-block-box"><div data-v-16442876="" data-v-48b1e3e4="" data-v-7301278b="" class="sidebar-block catalog-block pure"><nav data-v-1a96e633="" data-v-48b1e3e4="" class="article-catalog" data-v-16442876="" style=""><div data-v-1a96e633="" class="catalog-title">目录</div><div data-v-1a96e633="" class="catalog-body"><ul data-v-1a96e633="" class="catalog-list" style="margin-top: -526.102px;"><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-0" title="概览">概览</a><!----></li><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-1" title="准备工作">准备工作</a><ul class="sub-list"><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-2" title="初始化项目">初始化项目</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-3" title="代码规范">代码规范</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-4" title="Commit Lint">Commit Lint</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-5" title="TypeScript">TypeScript</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-6" title="测试">测试</a><!----></li></ul></li><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-7" title="开发与调试">开发与调试</a><ul class="sub-list"><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-8" title="安装 docz 以及自定义配置">安装 docz 以及自定义配置</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-9" title="编写文档">编写文档</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-10" title="优化文档编写">优化文档编写</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-11" title="优化代码展示">优化代码展示</a><ul class="sub-list"><li class="item d3"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-12" title="编写 &lt;HappyBox /&gt;组件">编写 &lt;HappyBox /&gt;组件</a><!----></li></ul></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-13" title="相关配置">相关配置</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-14" title="改造相关文件">改造相关文件</a><!----></li></ul></li><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-15" title="组件库打包">组件库打包</a><ul class="sub-list"><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-16" title="导出类型声明文件">导出类型声明文件</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-17" title="导出 Commonjs 模块">导出 Commonjs 模块</a><ul class="sub-list"><li class="item d3"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-18" title="babel 配置">babel 配置</a><!----></li><li class="item d3"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-19" title="gulp 配置">gulp 配置</a><!----></li></ul></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-20" title="导出 ES module">导出 ES module</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-21" title="处理样式文件">处理样式文件</a><ul class="sub-list"><li class="item d3"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-22" title="拷贝 less 文件">拷贝 less 文件</a><!----></li><li class="item d3"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-23" title="生成 css 文件">生成 css 文件</a><!----></li><li class="item d3"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-24" title="生成 css.js">生成 css.js</a><!----></li></ul></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-25" title="按需加载">按需加载</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-26" title="生成 umd">生成 umd</a><!----></li></ul></li><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-27" title="组件测试">组件测试</a><ul class="sub-list"><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-28" title="相关配置">相关配置</a><!----></li><li class="item d2"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-29" title="编写测试用例">编写测试用例</a><!----></li></ul></li><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-30" title="标准化发布流程">标准化发布流程</a><!----></li><li data-v-1a96e633="" class="item d1"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-31" title="初始化组件">初始化组件</a><!----></li><li data-v-1a96e633="" class="item d1 active"><a href="https://juejin.im/post/5ebcf12df265da7bc55df460#heading-32" title="结语">结语</a><!----></li></ul></div></nav></div></div></div><div data-v-b753df20="" data-v-fa2339b8="" class="article-suspended-panel article-suspended-panel" data-v-6fdc8784=""><div data-v-b753df20="" class="like-btn panel-btn like-adjust with-badge" badge="467"></div><div data-v-b753df20="" class="comment-btn panel-btn comment-adjust with-badge" badge="38"></div><div data-v-b753df20="" class="collect-btn panel-btn"><!----></div><div data-v-b753df20="" class="share-title">分享</div><div data-v-b753df20="" class="weibo-btn share-btn panel-btn"></div><div data-v-b753df20="" class="qq-btn share-btn panel-btn"></div><div data-v-b753df20="" class="wechat-btn share-btn panel-btn"><img data-v-b753df20="" src="https://juejin.im/post/5ebcf12df265da7bc55df460" class="wechat-qr-code-img shadow" style="display: none;"></div></div><div data-v-0a49d917="" data-v-fa2339b8="" class="image-viewer-box" data-v-6fdc8784=""><!----></div><!----></div></main></div><!----></div>
      
      
      
      <script type="text/javascript" src="./可能是最详细的React组件库搭建总结 - 掘金_files/runtime.cc2b750c14e4e98c0e3a.js"></script><script type="text/javascript" src="./可能是最详细的React组件库搭建总结 - 掘金_files/0.0b214b1cb6731ce0f8d8.js"></script><script type="text/javascript" src="./可能是最详细的React组件库搭建总结 - 掘金_files/1.63ca4ab7fc5bd9c1cbc0.js"></script>
    </body></html>